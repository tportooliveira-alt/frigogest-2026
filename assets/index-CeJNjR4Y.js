(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h2={exports:{}},qm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E3;function kz(){if(E3)return qm;E3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:t,type:r,key:o,ref:a!==void 0?a:null,props:i}}return qm.Fragment=e,qm.jsx=n,qm.jsxs=n,qm}var j3;function Cz(){return j3||(j3=1,h2.exports=kz()),h2.exports}var c=Cz(),p2={exports:{}},cn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T3;function Iz(){if(T3)return cn;T3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function x(le){return le===null||typeof le!="object"?null:(le=y&&le[y]||le["@@iterator"],typeof le=="function"?le:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,N={};function T(le,P,H){this.props=le,this.context=P,this.refs=N,this.updater=H||E}T.prototype.isReactComponent={},T.prototype.setState=function(le,P){if(typeof le!="object"&&typeof le!="function"&&le!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,le,P,"setState")},T.prototype.forceUpdate=function(le){this.updater.enqueueForceUpdate(this,le,"forceUpdate")};function C(){}C.prototype=T.prototype;function B(le,P,H){this.props=le,this.context=P,this.refs=N,this.updater=H||E}var q=B.prototype=new C;q.constructor=B,w(q,T.prototype),q.isPureReactComponent=!0;var D=Array.isArray;function F(){}var k={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function V(le,P,H){var Q=H.ref;return{$$typeof:t,type:le,key:P,ref:Q!==void 0?Q:null,props:H}}function U(le,P){return V(le.type,P,le.props)}function M(le){return typeof le=="object"&&le!==null&&le.$$typeof===t}function R(le){var P={"=":"=0",":":"=2"};return"$"+le.replace(/[=:]/g,function(H){return P[H]})}var j=/\/+/g;function G(le,P){return typeof le=="object"&&le!==null&&le.key!=null?R(""+le.key):P.toString(36)}function re(le){switch(le.status){case"fulfilled":return le.value;case"rejected":throw le.reason;default:switch(typeof le.status=="string"?le.then(F,F):(le.status="pending",le.then(function(P){le.status==="pending"&&(le.status="fulfilled",le.value=P)},function(P){le.status==="pending"&&(le.status="rejected",le.reason=P)})),le.status){case"fulfilled":return le.value;case"rejected":throw le.reason}}throw le}function J(le,P,H,Q,K){var X=typeof le;(X==="undefined"||X==="boolean")&&(le=null);var me=!1;if(le===null)me=!0;else switch(X){case"bigint":case"string":case"number":me=!0;break;case"object":switch(le.$$typeof){case t:case e:me=!0;break;case p:return me=le._init,J(me(le._payload),P,H,Q,K)}}if(me)return K=K(le),me=Q===""?"."+G(le,0):Q,D(K)?(H="",me!=null&&(H=me.replace(j,"$&/")+"/"),J(K,P,H,"",function(_e){return _e})):K!=null&&(M(K)&&(K=U(K,H+(K.key==null||le&&le.key===K.key?"":(""+K.key).replace(j,"$&/")+"/")+me)),P.push(K)),1;me=0;var be=Q===""?".":Q+":";if(D(le))for(var ee=0;ee<le.length;ee++)Q=le[ee],X=be+G(Q,ee),me+=J(Q,P,H,X,K);else if(ee=x(le),typeof ee=="function")for(le=ee.call(le),ee=0;!(Q=le.next()).done;)Q=Q.value,X=be+G(Q,ee++),me+=J(Q,P,H,X,K);else if(X==="object"){if(typeof le.then=="function")return J(re(le),P,H,Q,K);throw P=String(le),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(le).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return me}function Z(le,P,H){if(le==null)return le;var Q=[],K=0;return J(le,Q,"","",function(X){return P.call(H,X,K++)}),Q}function oe(le){if(le._status===-1){var P=le._result;P=P(),P.then(function(H){(le._status===0||le._status===-1)&&(le._status=1,le._result=H)},function(H){(le._status===0||le._status===-1)&&(le._status=2,le._result=H)}),le._status===-1&&(le._status=0,le._result=P)}if(le._status===1)return le._result.default;throw le._result}var ye=typeof reportError=="function"?reportError:function(le){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof le=="object"&&le!==null&&typeof le.message=="string"?String(le.message):String(le),error:le});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",le);return}console.error(le)},ge={map:Z,forEach:function(le,P,H){Z(le,function(){P.apply(this,arguments)},H)},count:function(le){var P=0;return Z(le,function(){P++}),P},toArray:function(le){return Z(le,function(P){return P})||[]},only:function(le){if(!M(le))throw Error("React.Children.only expected to receive a single React element child.");return le}};return cn.Activity=g,cn.Children=ge,cn.Component=T,cn.Fragment=n,cn.Profiler=a,cn.PureComponent=B,cn.StrictMode=r,cn.Suspense=d,cn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,cn.__COMPILER_RUNTIME={__proto__:null,c:function(le){return k.H.useMemoCache(le)}},cn.cache=function(le){return function(){return le.apply(null,arguments)}},cn.cacheSignal=function(){return null},cn.cloneElement=function(le,P,H){if(le==null)throw Error("The argument must be a React element, but you passed "+le+".");var Q=w({},le.props),K=le.key;if(P!=null)for(X in P.key!==void 0&&(K=""+P.key),P)!I.call(P,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&P.ref===void 0||(Q[X]=P[X]);var X=arguments.length-2;if(X===1)Q.children=H;else if(1<X){for(var me=Array(X),be=0;be<X;be++)me[be]=arguments[be+2];Q.children=me}return V(le.type,K,Q)},cn.createContext=function(le){return le={$$typeof:o,_currentValue:le,_currentValue2:le,_threadCount:0,Provider:null,Consumer:null},le.Provider=le,le.Consumer={$$typeof:i,_context:le},le},cn.createElement=function(le,P,H){var Q,K={},X=null;if(P!=null)for(Q in P.key!==void 0&&(X=""+P.key),P)I.call(P,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(K[Q]=P[Q]);var me=arguments.length-2;if(me===1)K.children=H;else if(1<me){for(var be=Array(me),ee=0;ee<me;ee++)be[ee]=arguments[ee+2];K.children=be}if(le&&le.defaultProps)for(Q in me=le.defaultProps,me)K[Q]===void 0&&(K[Q]=me[Q]);return V(le,X,K)},cn.createRef=function(){return{current:null}},cn.forwardRef=function(le){return{$$typeof:u,render:le}},cn.isValidElement=M,cn.lazy=function(le){return{$$typeof:p,_payload:{_status:-1,_result:le},_init:oe}},cn.memo=function(le,P){return{$$typeof:f,type:le,compare:P===void 0?null:P}},cn.startTransition=function(le){var P=k.T,H={};k.T=H;try{var Q=le(),K=k.S;K!==null&&K(H,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(F,ye)}catch(X){ye(X)}finally{P!==null&&H.types!==null&&(P.types=H.types),k.T=P}},cn.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},cn.use=function(le){return k.H.use(le)},cn.useActionState=function(le,P,H){return k.H.useActionState(le,P,H)},cn.useCallback=function(le,P){return k.H.useCallback(le,P)},cn.useContext=function(le){return k.H.useContext(le)},cn.useDebugValue=function(){},cn.useDeferredValue=function(le,P){return k.H.useDeferredValue(le,P)},cn.useEffect=function(le,P){return k.H.useEffect(le,P)},cn.useEffectEvent=function(le){return k.H.useEffectEvent(le)},cn.useId=function(){return k.H.useId()},cn.useImperativeHandle=function(le,P,H){return k.H.useImperativeHandle(le,P,H)},cn.useInsertionEffect=function(le,P){return k.H.useInsertionEffect(le,P)},cn.useLayoutEffect=function(le,P){return k.H.useLayoutEffect(le,P)},cn.useMemo=function(le,P){return k.H.useMemo(le,P)},cn.useOptimistic=function(le,P){return k.H.useOptimistic(le,P)},cn.useReducer=function(le,P,H){return k.H.useReducer(le,P,H)},cn.useRef=function(le){return k.H.useRef(le)},cn.useState=function(le){return k.H.useState(le)},cn.useSyncExternalStore=function(le,P,H){return k.H.useSyncExternalStore(le,P,H)},cn.useTransition=function(){return k.H.useTransition()},cn.version="19.2.3",cn}var O3;function YS(){return O3||(O3=1,p2.exports=Iz()),p2.exports}var ve=YS();const Ce=xr(ve);var m2={exports:{}},zm={},g2={exports:{}},v2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k3;function Pz(){return k3||(k3=1,(function(t){function e(J,Z){var oe=J.length;J.push(Z);e:for(;0<oe;){var ye=oe-1>>>1,ge=J[ye];if(0<a(ge,Z))J[ye]=Z,J[oe]=ge,oe=ye;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var Z=J[0],oe=J.pop();if(oe!==Z){J[0]=oe;e:for(var ye=0,ge=J.length,le=ge>>>1;ye<le;){var P=2*(ye+1)-1,H=J[P],Q=P+1,K=J[Q];if(0>a(H,oe))Q<ge&&0>a(K,H)?(J[ye]=K,J[Q]=oe,ye=Q):(J[ye]=H,J[P]=oe,ye=P);else if(Q<ge&&0>a(K,oe))J[ye]=K,J[Q]=oe,ye=Q;else break e}}return Z}function a(J,Z){var oe=J.sortIndex-Z.sortIndex;return oe!==0?oe:J.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var d=[],f=[],p=1,g=null,y=3,x=!1,E=!1,w=!1,N=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function q(J){for(var Z=n(f);Z!==null;){if(Z.callback===null)r(f);else if(Z.startTime<=J)r(f),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=n(f)}}function D(J){if(w=!1,q(J),!E)if(n(d)!==null)E=!0,F||(F=!0,R());else{var Z=n(f);Z!==null&&re(D,Z.startTime-J)}}var F=!1,k=-1,I=5,V=-1;function U(){return N?!0:!(t.unstable_now()-V<I)}function M(){if(N=!1,F){var J=t.unstable_now();V=J;var Z=!0;try{e:{E=!1,w&&(w=!1,C(k),k=-1),x=!0;var oe=y;try{t:{for(q(J),g=n(d);g!==null&&!(g.expirationTime>J&&U());){var ye=g.callback;if(typeof ye=="function"){g.callback=null,y=g.priorityLevel;var ge=ye(g.expirationTime<=J);if(J=t.unstable_now(),typeof ge=="function"){g.callback=ge,q(J),Z=!0;break t}g===n(d)&&r(d),q(J)}else r(d);g=n(d)}if(g!==null)Z=!0;else{var le=n(f);le!==null&&re(D,le.startTime-J),Z=!1}}break e}finally{g=null,y=oe,x=!1}Z=void 0}}finally{Z?R():F=!1}}}var R;if(typeof B=="function")R=function(){B(M)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,G=j.port2;j.port1.onmessage=M,R=function(){G.postMessage(null)}}else R=function(){T(M,0)};function re(J,Z){k=T(function(){J(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(J){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var oe=y;y=Z;try{return J()}finally{y=oe}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(J,Z){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var oe=y;y=J;try{return Z()}finally{y=oe}},t.unstable_scheduleCallback=function(J,Z,oe){var ye=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ye+oe:ye):oe=ye,J){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=oe+ge,J={id:p++,callback:Z,priorityLevel:J,startTime:oe,expirationTime:ge,sortIndex:-1},oe>ye?(J.sortIndex=oe,e(f,J),n(d)===null&&J===n(f)&&(w?(C(k),k=-1):w=!0,re(D,oe-ye))):(J.sortIndex=ge,e(d,J),E||x||(E=!0,F||(F=!0,R()))),J},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(J){var Z=y;return function(){var oe=y;y=Z;try{return J.apply(this,arguments)}finally{y=oe}}}})(v2)),v2}var C3;function Rz(){return C3||(C3=1,g2.exports=Pz()),g2.exports}var y2={exports:{}},qi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I3;function Dz(){if(I3)return qi;I3=1;var t=YS();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return qi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qi.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return i(d,f,null,p)},qi.flushSync=function(d){var f=o.T,p=r.p;try{if(o.T=null,r.p=2,d)return d()}finally{o.T=f,r.p=p,r.d.f()}},qi.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},qi.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},qi.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},qi.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},qi.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},qi.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},qi.requestFormReset=function(d){r.d.r(d)},qi.unstable_batchedUpdates=function(d,f){return d(f)},qi.useFormState=function(d,f,p){return o.H.useFormState(d,f,p)},qi.useFormStatus=function(){return o.H.useHostTransitionStatus()},qi.version="19.2.3",qi}var P3;function Lz(){if(P3)return y2.exports;P3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),y2.exports=Dz(),y2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3;function Mz(){if(R3)return zm;R3=1;var t=Rz(),e=YS(),n=Lz();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function i(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function d(s){if(i(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=i(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,m=l;;){var _=h.return;if(_===null)break;var S=_.alternate;if(S===null){if(m=_.return,m!==null){h=m;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===h)return d(_),s;if(S===m)return d(_),l;S=S.sibling}throw Error(r(188))}if(h.return!==m.return)h=_,m=S;else{for(var Y=!1,he=_.child;he;){if(he===h){Y=!0,h=_,m=S;break}if(he===m){Y=!0,m=_,h=S;break}he=he.sibling}if(!Y){for(he=S.child;he;){if(he===h){Y=!0,h=S,m=_;break}if(he===m){Y=!0,m=S,h=_;break}he=he.sibling}if(!Y)throw Error(r(189))}}if(h.alternate!==m)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function p(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=p(s),l!==null)return l;s=s.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function R(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function G(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case T:return"Profiler";case N:return"StrictMode";case D:return"Suspense";case F:return"SuspenseList";case V:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case B:return s.displayName||"Context";case C:return(s._context.displayName||"Context")+".Consumer";case q:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return l=s.displayName||null,l!==null?l:G(s.type)||"Memo";case I:l=s._payload,s=s._init;try{return G(s(l))}catch{}}return null}var re=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ye=[],ge=-1;function le(s){return{current:s}}function P(s){0>ge||(s.current=ye[ge],ye[ge]=null,ge--)}function H(s,l){ge++,ye[ge]=s.current,s.current=l}var Q=le(null),K=le(null),X=le(null),me=le(null);function be(s,l){switch(H(X,l),H(K,s),H(Q,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?YT(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=YT(l),s=XT(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}P(Q),H(Q,s)}function ee(){P(Q),P(K),P(X)}function _e(s){s.memoizedState!==null&&H(me,s);var l=Q.current,h=XT(l,s.type);l!==h&&(H(K,s),H(Q,h))}function Se(s){K.current===s&&(P(Q),P(K)),me.current===s&&(P(me),Lm._currentValue=oe)}var Ae,Je;function Le(s){if(Ae===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Ae=l&&l[1]||"",Je=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ae+s+Je}var ce=!1;function ae(s,l){if(!s||ce)return"";ce=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(Xe){var $e=Xe}Reflect.construct(s,[],ut)}else{try{ut.call()}catch(Xe){$e=Xe}s.call(ut.prototype)}}else{try{throw Error()}catch(Xe){$e=Xe}(ut=s())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(Xe){if(Xe&&$e&&typeof Xe.stack=="string")return[Xe.stack,$e.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),Y=S[0],he=S[1];if(Y&&he){var Ne=Y.split(`
`),Ve=he.split(`
`);for(_=m=0;m<Ne.length&&!Ne[m].includes("DetermineComponentFrameRoot");)m++;for(;_<Ve.length&&!Ve[_].includes("DetermineComponentFrameRoot");)_++;if(m===Ne.length||_===Ve.length)for(m=Ne.length-1,_=Ve.length-1;1<=m&&0<=_&&Ne[m]!==Ve[_];)_--;for(;1<=m&&0<=_;m--,_--)if(Ne[m]!==Ve[_]){if(m!==1||_!==1)do if(m--,_--,0>_||Ne[m]!==Ve[_]){var rt=`
`+Ne[m].replace(" at new "," at ");return s.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",s.displayName)),rt}while(1<=m&&0<=_);break}}}finally{ce=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Le(h):""}function Ye(s,l){switch(s.tag){case 26:case 27:case 5:return Le(s.type);case 16:return Le("Lazy");case 13:return s.child!==l&&l!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return ae(s.type,!1);case 11:return ae(s.type.render,!1);case 1:return ae(s.type,!0);case 31:return Le("Activity");default:return""}}function nt(s){try{var l="",h=null;do l+=Ye(s,h),h=s,s=s.return;while(s);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var He=Object.prototype.hasOwnProperty,Ue=t.unstable_scheduleCallback,Ke=t.unstable_cancelCallback,et=t.unstable_shouldYield,tt=t.unstable_requestPaint,Ge=t.unstable_now,yt=t.unstable_getCurrentPriorityLevel,vt=t.unstable_ImmediatePriority,_t=t.unstable_UserBlockingPriority,Bt=t.unstable_NormalPriority,At=t.unstable_LowPriority,Vt=t.unstable_IdlePriority,bt=t.log,Zn=t.unstable_setDisableYieldValue,Jt=null,er=null;function pn(s){if(typeof bt=="function"&&Zn(s),er&&typeof er.setStrictMode=="function")try{er.setStrictMode(Jt,s)}catch{}}var mn=Math.clz32?Math.clz32:aa,Ti=Math.log,fn=Math.LN2;function aa(s){return s>>>=0,s===0?32:31-(Ti(s)/fn|0)|0}var Bn=256,jr=262144,Lr=4194304;function bn(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function It(s,l,h){var m=s.pendingLanes;if(m===0)return 0;var _=0,S=s.suspendedLanes,Y=s.pingedLanes;s=s.warmLanes;var he=m&134217727;return he!==0?(m=he&~S,m!==0?_=bn(m):(Y&=he,Y!==0?_=bn(Y):h||(h=he&~s,h!==0&&(_=bn(h))))):(he=m&~S,he!==0?_=bn(he):Y!==0?_=bn(Y):h||(h=m&~s,h!==0&&(_=bn(h)))),_===0?0:l!==0&&l!==_&&(l&S)===0&&(S=_&-_,h=l&-l,S>=h||S===32&&(h&4194048)!==0)?l:_}function gn(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function pa(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tr(){var s=Lr;return Lr<<=1,(Lr&62914560)===0&&(Lr=4194304),s}function ia(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function ma(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ot(s,l,h,m,_,S){var Y=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var he=s.entanglements,Ne=s.expirationTimes,Ve=s.hiddenUpdates;for(h=Y&~h;0<h;){var rt=31-mn(h),ut=1<<rt;he[rt]=0,Ne[rt]=-1;var $e=Ve[rt];if($e!==null)for(Ve[rt]=null,rt=0;rt<$e.length;rt++){var Xe=$e[rt];Xe!==null&&(Xe.lane&=-536870913)}h&=~ut}m!==0&&Aa(s,m,0),S!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=S&~(Y&~l))}function Aa(s,l,h){s.pendingLanes|=l,s.suspendedLanes&=~l;var m=31-mn(l);s.entangledLanes|=l,s.entanglements[m]=s.entanglements[m]|1073741824|h&261930}function Or(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var m=31-mn(h),_=1<<m;_&l|s[m]&l&&(s[m]|=l),h&=~_}}function Mr(s,l){var h=l&-l;return h=(h&42)!==0?1:ar(h),(h&(s.suspendedLanes|l))!==0?0:h}function ar(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ue(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function We(){var s=Z.p;return s!==0?s:(s=window.event,s===void 0?32:x3(s.type))}function Gt(s,l){var h=Z.p;try{return Z.p=s,l()}finally{Z.p=h}}var sn=Math.random().toString(36).slice(2),zt="__reactFiber$"+sn,Ft="__reactProps$"+sn,Zt="__reactContainer$"+sn,Me="__reactEvents$"+sn,Et="__reactListeners$"+sn,Mt="__reactHandles$"+sn,kr="__reactResources$"+sn,Cr="__reactMarker$"+sn;function kn(s){delete s[zt],delete s[Ft],delete s[Me],delete s[Et],delete s[Mt]}function Ir(s){var l=s[zt];if(l)return l;for(var h=s.parentNode;h;){if(l=h[Zt]||h[zt]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=r3(s);s!==null;){if(h=s[zt])return h;s=r3(s)}return l}s=h,h=s.parentNode}return null}function zn(s){if(s=s[zt]||s[Zt]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function Oi(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function es(s){var l=s[kr];return l||(l=s[kr]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Br(s){s[Cr]=!0}var Ms=new Set,Bs={};function Fa(s,l){ki(s,l),ki(s+"Capture",l)}function ki(s,l){for(Bs[s]=l,s=0;s<l.length;s++)Ms.add(l[s])}var Zd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nl={},Tc={};function qo(s){return He.call(Tc,s)?!0:He.call(Nl,s)?!1:Zd.test(s)?Tc[s]=!0:(Nl[s]=!0,!1)}function uo(s,l,h){if(qo(l))if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+h)}}function ir(s,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+h)}}function hi(s,l,h,m){if(m===null)s.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(l,h,""+m)}}function Na(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Oc(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function kc(s,l,h){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,S=m.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return _.call(this)},set:function(Y){h=""+Y,S.call(this,Y)}}),Object.defineProperty(s,l,{enumerable:m.enumerable}),{getValue:function(){return h},setValue:function(Y){h=""+Y},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Sl(s){if(!s._valueTracker){var l=Oc(s)?"checked":"value";s._valueTracker=kc(s,l,""+s[l])}}function pi(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),m="";return s&&(m=Oc(s)?s.checked?"true":"false":s.value),s=m,s!==h?(l.setValue(s),!0):!1}function Fs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Gr=/[\n"\\]/g;function pr(s){return s.replace(Gr,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function qs(s,l,h,m,_,S,Y,he){s.name="",Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?s.type=Y:s.removeAttribute("type"),l!=null?Y==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Na(l)):s.value!==""+Na(l)&&(s.value=""+Na(l)):Y!=="submit"&&Y!=="reset"||s.removeAttribute("value"),l!=null?Vo(s,Y,Na(l)):h!=null?Vo(s,Y,Na(h)):m!=null&&s.removeAttribute("value"),_==null&&S!=null&&(s.defaultChecked=!!S),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),he!=null&&typeof he!="function"&&typeof he!="symbol"&&typeof he!="boolean"?s.name=""+Na(he):s.removeAttribute("name")}function zo(s,l,h,m,_,S,Y,he){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.type=S),l!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||l!=null)){Sl(s);return}h=h!=null?""+Na(h):"",l=l!=null?""+Na(l):h,he||l===s.value||(s.value=l),s.defaultValue=l}m=m??_,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=he?s.checked:!!m,s.defaultChecked=!!m,Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(s.name=Y),Sl(s)}function Vo(s,l,h){l==="number"&&Fs(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function Cn(s,l,h,m){if(s=s.options,l){l={};for(var _=0;_<h.length;_++)l["$"+h[_]]=!0;for(h=0;h<s.length;h++)_=l.hasOwnProperty("$"+s[h].value),s[h].selected!==_&&(s[h].selected=_),_&&m&&(s[h].defaultSelected=!0)}else{for(h=""+Na(h),l=null,_=0;_<s.length;_++){if(s[_].value===h){s[_].selected=!0,m&&(s[_].defaultSelected=!0);return}l!==null||s[_].disabled||(l=s[_])}l!==null&&(l.selected=!0)}}function fo(s,l,h){if(l!=null&&(l=""+Na(l),l!==s.value&&(s.value=l),h==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=h!=null?""+Na(h):""}function ho(s,l,h,m){if(l==null){if(m!=null){if(h!=null)throw Error(r(92));if(re(m)){if(1<m.length)throw Error(r(93));m=m[0]}h=m}h==null&&(h=""),l=h}h=Na(l),s.defaultValue=h,m=s.textContent,m===h&&m!==""&&m!==null&&(s.value=m),Sl(s)}function Za(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var ef=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(s,l,h){var m=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":m?s.setProperty(l,h):typeof h!="number"||h===0||ef.has(l)?l==="float"?s.cssFloat=h:s[l]=(""+h).trim():s[l]=h+"px"}function ju(s,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var _ in l)m=l[_],l.hasOwnProperty(_)&&h[_]!==m&&Cc(s,_,m)}else for(var S in l)l.hasOwnProperty(S)&&Cc(s,S,l[S])}function ts(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var El=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ns(s){return jl.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Fn(){}var Tl=null;function Uo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ut=null,mi=null;function Tu(s){var l=zn(s);if(l&&(s=l.stateNode)){var h=s[Ft]||null;e:switch(s=l.stateNode,l.type){case"input":if(qs(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+pr(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var m=h[l];if(m!==s&&m.form===s.form){var _=m[Ft]||null;if(!_)throw Error(r(90));qs(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<h.length;l++)m=h[l],m.form===s.form&&pi(m)}break e;case"textarea":fo(s,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&Cn(s,!!h.multiple,l,!1)}}}var Ci=!1;function Ic(s,l,h){if(Ci)return s(l,h);Ci=!0;try{var m=s(l);return m}finally{if(Ci=!1,(Ut!==null||mi!==null)&&(hv(),Ut&&(l=Ut,s=mi,mi=Ut=null,Tu(l),s)))for(l=0;l<s.length;l++)Tu(s[l])}}function qa(s,l){var h=s.stateNode;if(h===null)return null;var m=h[Ft]||null;if(m===null)return null;h=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$o=!1;if(ei)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){$o=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{$o=!1}var gi=null,Ol=null,Ii=null;function Pi(){if(Ii)return Ii;var s,l=Ol,h=l.length,m,_="value"in gi?gi.value:gi.textContent,S=_.length;for(s=0;s<h&&l[s]===_[s];s++);var Y=h-s;for(m=1;m<=Y&&l[h-m]===_[S-m];m++);return Ii=_.slice(s,1<m?1-m:void 0)}function Ri(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function po(){return!0}function Hn(){return!1}function sa(s){function l(h,m,_,S,Y){this._reactName=h,this._targetInst=_,this.type=m,this.nativeEvent=S,this.target=Y,this.currentTarget=null;for(var he in s)s.hasOwnProperty(he)&&(h=s[he],this[he]=h?h(S):S[he]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?po:Hn,this.isPropagationStopped=Hn,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),l}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=sa(Di),zs=g({},Di,{view:0,detail:0}),Pc=sa(zs),Vs,vi,Fr,Ho=g({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fr&&(Fr&&s.type==="mousemove"?(Vs=s.screenX-Fr.screenX,vi=s.screenY-Fr.screenY):vi=Vs=0,Fr=s),Vs)},movementY:function(s){return"movementY"in s?s.movementY:vi}}),Us=sa(Ho),za=g({},Ho,{dataTransfer:0}),kl=sa(za),$s=g({},zs,{relatedTarget:0}),go=sa($s),Go=g({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),Cl=sa(Go),Rc=g({},Di,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Il=sa(Rc),vo=g({},Di,{data:0}),yo=sa(vo),Pl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Rl[s])?!!l[s]:!1}function rs(){return Ou}var xo=g({},zs,{key:function(s){if(s.key){var l=Pl[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Ri(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Wo[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(s){return s.type==="keypress"?Ri(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ri(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Dl=sa(xo),ti=g({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=sa(ti),O=g({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),te=sa(O),we=g({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ee=sa(we),Re=g({},Ho,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ze=sa(Re),ht=g({},Di,{newState:0,oldState:0}),St=sa(ht),b=[9,13,27,32],z=ei&&"CompositionEvent"in window,W=null;ei&&"documentMode"in document&&(W=document.documentMode);var fe=ei&&"TextEvent"in window&&!W,Ie=ei&&(!z||W&&8<W&&11>=W),qe=" ",pt=!1;function rn(s,l){switch(s){case"keyup":return b.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _n(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Kt=!1;function Wn(s,l){switch(s){case"compositionend":return _n(l);case"keypress":return l.which!==32?null:(pt=!0,qe);case"textInput":return s=l.data,s===qe&&pt?null:s;default:return null}}function cr(s,l){if(Kt)return s==="compositionend"||!z&&rn(s,l)?(s=Pi(),Ii=Ol=gi=null,Kt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ie&&l.locale!=="ko"?null:l.data;default:return null}}var Hs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sa(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Hs[s.type]:l==="textarea"}function Gs(s,l,h,m){Ut?mi?mi.push(m):mi=[m]:Ut=m,l=bv(l,"onChange"),0<l.length&&(h=new mo("onChange","change",null,h,m),s.push({event:h,listeners:l}))}var Li=null,Yo=null;function tf(s){UT(s,0)}function Xo(s){var l=Oi(s);if(pi(l))return s}function Ea(s,l){if(s==="change")return l}var Dc=!1;if(ei){var Ll;if(ei){var Ml="oninput"in document;if(!Ml){var ku=document.createElement("div");ku.setAttribute("oninput","return;"),Ml=typeof ku.oninput=="function"}Ll=Ml}else Ll=!1;Dc=Ll&&(!document.documentMode||9<document.documentMode)}function yi(){Li&&(Li.detachEvent("onpropertychange",th),Yo=Li=null)}function th(s){if(s.propertyName==="value"&&Xo(Yo)){var l=[];Gs(l,Yo,s,Uo(s)),Ic(tf,l)}}function nf(s,l,h){s==="focusin"?(yi(),Li=l,Yo=h,Li.attachEvent("onpropertychange",th)):s==="focusout"&&yi()}function nh(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xo(Yo)}function ms(s,l){if(s==="click")return Xo(l)}function Cu(s,l){if(s==="input"||s==="change")return Xo(l)}function rh(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var ni=typeof Object.is=="function"?Object.is:rh;function gs(s,l){if(ni(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),m=Object.keys(l);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var _=h[m];if(!He.call(l,_)||!ni(s[_],l[_]))return!1}return!0}function Bl(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function xi(s,l){var h=Bl(s);s=0;for(var m;h;){if(h.nodeType===3){if(m=s+h.textContent.length,s<=l&&m>=l)return{node:h,offset:l-s};s=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Bl(h)}}function ri(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?ri(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Qo(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Fs(s.document);l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=Fs(s.document)}return l}function Ws(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Jo=ei&&"documentMode"in document&&11>=document.documentMode,Ks=null,Ys=null,br=null,Lc=!1;function ai(s,l,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Lc||Ks==null||Ks!==Fs(m)||(m=Ks,"selectionStart"in m&&Ws(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),br&&gs(br,m)||(br=m,m=bv(Ys,"onSelect"),0<m.length&&(l=new mo("onSelect","select",null,l,h),s.push({event:l,listeners:m}),l.target=Ks)))}function ja(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var Xs={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},Iu={},Pu={};ei&&(Pu=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function as(s){if(Iu[s])return Iu[s];if(!Xs[s])return s;var l=Xs[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in Pu)return Iu[s]=l[h];return s}var Fl=as("animationend"),Zo=as("animationiteration"),ql=as("animationstart"),Ru=as("transitionrun"),Mc=as("transitionstart"),zl=as("transitioncancel"),Du=as("transitionend"),is=new Map,Mi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mi.push("scrollEnd");function Nn(s,l){is.set(s,l),Fa(l,[s])}var tr=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Vn=[],Pr=0,Qs=0;function Vl(){for(var s=Pr,l=Qs=Pr=0;l<s;){var h=Vn[l];Vn[l++]=null;var m=Vn[l];Vn[l++]=null;var _=Vn[l];Vn[l++]=null;var S=Vn[l];if(Vn[l++]=null,m!==null&&_!==null){var Y=m.pending;Y===null?_.next=_:(_.next=Y.next,Y.next=_),m.pending=_}S!==0&&rf(h,_,S)}}function el(s,l,h,m){Vn[Pr++]=s,Vn[Pr++]=l,Vn[Pr++]=h,Vn[Pr++]=m,Qs|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function Lu(s,l,h,m){return el(s,l,h,m),ii(s)}function tl(s,l){return el(s,null,null,l),ii(s)}function rf(s,l,h){s.lanes|=h;var m=s.alternate;m!==null&&(m.lanes|=h);for(var _=!1,S=s.return;S!==null;)S.childLanes|=h,m=S.alternate,m!==null&&(m.childLanes|=h),S.tag===22&&(s=S.stateNode,s===null||s._visibility&1||(_=!0)),s=S,S=S.return;return s.tag===3?(S=s.stateNode,_&&l!==null&&(_=31-mn(h),s=S.hiddenUpdates,m=s[_],m===null?s[_]=[l]:m.push(l),l.lane=h|536870912),S):null}function ii(s){if(50<Om)throw Om=0,Mb=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Va={};function ah(s,l,h,m){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(s,l,h,m){return new ah(s,l,h,m)}function ih(s){return s=s.prototype,!(!s||!s.isReactComponent)}function vs(s,l){var h=s.alternate;return h===null?(h=si(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function af(s,l){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,l=h.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Mu(s,l,h,m,_,S){var Y=0;if(m=s,typeof s=="function")ih(s)&&(Y=1);else if(typeof s=="string")Y=yz(s,h,Q.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case V:return s=si(31,h,l,_),s.elementType=V,s.lanes=S,s;case w:return Ul(h.children,_,S,l);case N:Y=8,_|=24;break;case T:return s=si(12,h,l,_|2),s.elementType=T,s.lanes=S,s;case D:return s=si(13,h,l,_),s.elementType=D,s.lanes=S,s;case F:return s=si(19,h,l,_),s.elementType=F,s.lanes=S,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:Y=10;break e;case C:Y=9;break e;case q:Y=11;break e;case k:Y=14;break e;case I:Y=16,m=null;break e}Y=29,h=Error(r(130,s===null?"null":typeof s,"")),m=null}return l=si(Y,h,l,_),l.elementType=s,l.type=m,l.lanes=S,l}function Ul(s,l,h,m){return s=si(7,s,m,l),s.lanes=h,s}function sf(s,l,h){return s=si(6,s,null,l),s.lanes=h,s}function sh(s){var l=si(18,null,null,0);return l.stateNode=s,l}function Bu(s,l,h){return l=si(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var oh=new WeakMap;function ys(s,l){if(typeof s=="object"&&s!==null){var h=oh.get(s);return h!==void 0?h:(l={value:s,source:l,stack:nt(l)},oh.set(s,l),l)}return{value:s,source:l,stack:nt(l)}}var Fu=[],Bc=0,lh=null,of=0,xs=[],bs=0,$l=null,_s=1,ws="";function ss(s,l){Fu[Bc++]=of,Fu[Bc++]=lh,lh=s,of=l}function Gg(s,l,h){xs[bs++]=_s,xs[bs++]=ws,xs[bs++]=$l,$l=s;var m=_s;s=ws;var _=32-mn(m)-1;m&=~(1<<_),h+=1;var S=32-mn(l)+_;if(30<S){var Y=_-_%5;S=(m&(1<<Y)-1).toString(32),m>>=Y,_-=Y,_s=1<<32-mn(l)+_|h<<_|m,ws=S+s}else _s=1<<S|h<<_|m,ws=s}function lm(s){s.return!==null&&(ss(s,1),Gg(s,1,0))}function ch(s){for(;s===lh;)lh=Fu[--Bc],Fu[Bc]=null,of=Fu[--Bc],Fu[Bc]=null;for(;s===$l;)$l=xs[--bs],xs[bs]=null,ws=xs[--bs],xs[bs]=null,_s=xs[--bs],xs[bs]=null}function Wg(s,l){xs[bs++]=_s,xs[bs++]=ws,xs[bs++]=$l,_s=l.id,ws=l.overflow,$l=s}var Ua=null,_r=null,Sn=!1,bi=null,Wr=!1,Js=Error(r(519));function Hl(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qu(ys(l,s)),Js}function cm(s){var l=s.stateNode,h=s.type,m=s.memoizedProps;switch(l[zt]=s,l[Ft]=m,h){case"dialog":Tn("cancel",l),Tn("close",l);break;case"iframe":case"object":case"embed":Tn("load",l);break;case"video":case"audio":for(h=0;h<Cm.length;h++)Tn(Cm[h],l);break;case"source":Tn("error",l);break;case"img":case"image":case"link":Tn("error",l),Tn("load",l);break;case"details":Tn("toggle",l);break;case"input":Tn("invalid",l),zo(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Tn("invalid",l);break;case"textarea":Tn("invalid",l),ho(l,m.value,m.defaultValue,m.children)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||m.suppressHydrationWarning===!0||WT(l.textContent,h)?(m.popover!=null&&(Tn("beforetoggle",l),Tn("toggle",l)),m.onScroll!=null&&Tn("scroll",l),m.onScrollEnd!=null&&Tn("scrollend",l),m.onClick!=null&&(l.onclick=Fn),l=!0):l=!1,l||Hl(s,!0)}function nl(s){for(Ua=s.return;Ua;)switch(Ua.tag){case 5:case 31:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:Ua=Ua.return}}function $a(s){if(s!==Ua)return!1;if(!Sn)return nl(s),Sn=!0,!1;var l=s.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||Jb(s.type,s.memoizedProps)),h=!h),h&&_r&&Hl(s),nl(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));_r=n3(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));_r=n3(s)}else l===27?(l=_r,ed(s.type)?(s=r2,r2=null,_r=s):_r=l):_r=Ua?Eo(s.stateNode.nextSibling):null;return!0}function Fc(){_r=Ua=null,Sn=!1}function um(){var s=bi;return s!==null&&(Ts===null?Ts=s:Ts.push.apply(Ts,s),bi=null),s}function qu(s){bi===null?bi=[s]:bi.push(s)}var uh=le(null),Gl=null,bo=null;function Wl(s,l,h){H(uh,l._currentValue),l._currentValue=h}function As(s){s._currentValue=uh.current,P(uh)}function zu(s,l,h){for(;s!==null;){var m=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),s===h)break;s=s.return}}function qc(s,l,h,m){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var S=_.dependencies;if(S!==null){var Y=_.child;S=S.firstContext;e:for(;S!==null;){var he=S;S=_;for(var Ne=0;Ne<l.length;Ne++)if(he.context===l[Ne]){S.lanes|=h,he=S.alternate,he!==null&&(he.lanes|=h),zu(S.return,h,s),m||(Y=null);break e}S=he.next}}else if(_.tag===18){if(Y=_.return,Y===null)throw Error(r(341));Y.lanes|=h,S=Y.alternate,S!==null&&(S.lanes|=h),zu(Y,h,s),Y=null}else Y=_.child;if(Y!==null)Y.return=_;else for(Y=_;Y!==null;){if(Y===s){Y=null;break}if(_=Y.sibling,_!==null){_.return=Y.return,Y=_;break}Y=Y.return}_=Y}}function Kl(s,l,h,m){s=null;for(var _=l,S=!1;_!==null;){if(!S){if((_.flags&524288)!==0)S=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var Y=_.alternate;if(Y===null)throw Error(r(387));if(Y=Y.memoizedProps,Y!==null){var he=_.type;ni(_.pendingProps.value,Y.value)||(s!==null?s.push(he):s=[he])}}else if(_===me.current){if(Y=_.alternate,Y===null)throw Error(r(387));Y.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(Lm):s=[Lm])}_=_.return}s!==null&&qc(l,s,h,m),l.flags|=262144}function dh(s){for(s=s.firstContext;s!==null;){if(!ni(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Yl(s){Gl=s,bo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ha(s){return Kg(Gl,s)}function fh(s,l){return Gl===null&&Yl(s),Kg(s,l)}function Kg(s,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},bo===null){if(s===null)throw Error(r(308));bo=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else bo=bo.next=l;return h}var nb=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(h,m){s.push(m)}};this.abort=function(){l.aborted=!0,s.forEach(function(h){return h()})}},rb=t.unstable_scheduleCallback,ab=t.unstable_NormalPriority,ea={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vu(){return{controller:new nb,data:new Map,refCount:0}}function lf(s){s.refCount--,s.refCount===0&&rb(ab,function(){s.controller.abort()})}var cf=null,hh=0,v=0,A=null;function L(s,l){if(cf===null){var h=cf=[];hh=0,v=Ub(),A={status:"pending",value:void 0,then:function(m){h.push(m)}}}return hh++,l.then($,$),l}function $(){if(--hh===0&&cf!==null){A!==null&&(A.status="fulfilled");var s=cf;cf=null,v=0,A=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function ne(s,l){var h=[],m={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return s.then(function(){m.status="fulfilled",m.value=l;for(var _=0;_<h.length;_++)(0,h[_])(l)},function(_){for(m.status="rejected",m.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),m}var ie=J.S;J.S=function(s,l){vT=Ge(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&L(s,l),ie!==null&&ie(s,l)};var se=le(null);function de(){var s=se.current;return s!==null?s:Ar.pooledCache}function pe(s,l){l===null?H(se,se.current):H(se,l.pool)}function xe(){var s=de();return s===null?null:{parent:ea._currentValue,pool:s}}var je=Error(r(460)),Fe=Error(r(474)),Be=Error(r(542)),Pe={then:function(){}};function ct(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Qe(s,l,h){switch(h=s[h],h===void 0?s.push(l):h!==l&&(l.then(Fn,Fn),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,ft(s),s;default:if(typeof l.status=="string")l.then(Fn,Fn);else{if(s=Ar,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(m){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=m}},function(m){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,ft(s),s}throw ke=l,je}}function Te(s){try{var l=s._init;return l(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(ke=h,je):h}}var ke=null;function st(){if(ke===null)throw Error(r(459));var s=ke;return ke=null,s}function ft(s){if(s===je||s===Be)throw Error(r(483))}var it=null,jt=0;function wt(s){var l=jt;return jt+=1,it===null&&(it=[]),Qe(it,s,l)}function qt(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Nt(s,l){throw l.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function Un(s){function l(De,Oe){if(s){var ze=De.deletions;ze===null?(De.deletions=[Oe],De.flags|=16):ze.push(Oe)}}function h(De,Oe){if(!s)return null;for(;Oe!==null;)l(De,Oe),Oe=Oe.sibling;return null}function m(De){for(var Oe=new Map;De!==null;)De.key!==null?Oe.set(De.key,De):Oe.set(De.index,De),De=De.sibling;return Oe}function _(De,Oe){return De=vs(De,Oe),De.index=0,De.sibling=null,De}function S(De,Oe,ze){return De.index=ze,s?(ze=De.alternate,ze!==null?(ze=ze.index,ze<Oe?(De.flags|=67108866,Oe):ze):(De.flags|=67108866,Oe)):(De.flags|=1048576,Oe)}function Y(De){return s&&De.alternate===null&&(De.flags|=67108866),De}function he(De,Oe,ze,ot){return Oe===null||Oe.tag!==6?(Oe=sf(ze,De.mode,ot),Oe.return=De,Oe):(Oe=_(Oe,ze),Oe.return=De,Oe)}function Ne(De,Oe,ze,ot){var $t=ze.type;return $t===w?rt(De,Oe,ze.props.children,ot,ze.key):Oe!==null&&(Oe.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===I&&Te($t)===Oe.type)?(Oe=_(Oe,ze.props),qt(Oe,ze),Oe.return=De,Oe):(Oe=Mu(ze.type,ze.key,ze.props,null,De.mode,ot),qt(Oe,ze),Oe.return=De,Oe)}function Ve(De,Oe,ze,ot){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==ze.containerInfo||Oe.stateNode.implementation!==ze.implementation?(Oe=Bu(ze,De.mode,ot),Oe.return=De,Oe):(Oe=_(Oe,ze.children||[]),Oe.return=De,Oe)}function rt(De,Oe,ze,ot,$t){return Oe===null||Oe.tag!==7?(Oe=Ul(ze,De.mode,ot,$t),Oe.return=De,Oe):(Oe=_(Oe,ze),Oe.return=De,Oe)}function ut(De,Oe,ze){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=sf(""+Oe,De.mode,ze),Oe.return=De,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case x:return ze=Mu(Oe.type,Oe.key,Oe.props,null,De.mode,ze),qt(ze,Oe),ze.return=De,ze;case E:return Oe=Bu(Oe,De.mode,ze),Oe.return=De,Oe;case I:return Oe=Te(Oe),ut(De,Oe,ze)}if(re(Oe)||R(Oe))return Oe=Ul(Oe,De.mode,ze,null),Oe.return=De,Oe;if(typeof Oe.then=="function")return ut(De,wt(Oe),ze);if(Oe.$$typeof===B)return ut(De,fh(De,Oe),ze);Nt(De,Oe)}return null}function $e(De,Oe,ze,ot){var $t=Oe!==null?Oe.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return $t!==null?null:he(De,Oe,""+ze,ot);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case x:return ze.key===$t?Ne(De,Oe,ze,ot):null;case E:return ze.key===$t?Ve(De,Oe,ze,ot):null;case I:return ze=Te(ze),$e(De,Oe,ze,ot)}if(re(ze)||R(ze))return $t!==null?null:rt(De,Oe,ze,ot,null);if(typeof ze.then=="function")return $e(De,Oe,wt(ze),ot);if(ze.$$typeof===B)return $e(De,Oe,fh(De,ze),ot);Nt(De,ze)}return null}function Xe(De,Oe,ze,ot,$t){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return De=De.get(ze)||null,he(Oe,De,""+ot,$t);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case x:return De=De.get(ot.key===null?ze:ot.key)||null,Ne(Oe,De,ot,$t);case E:return De=De.get(ot.key===null?ze:ot.key)||null,Ve(Oe,De,ot,$t);case I:return ot=Te(ot),Xe(De,Oe,ze,ot,$t)}if(re(ot)||R(ot))return De=De.get(ze)||null,rt(Oe,De,ot,$t,null);if(typeof ot.then=="function")return Xe(De,Oe,ze,wt(ot),$t);if(ot.$$typeof===B)return Xe(De,Oe,ze,fh(Oe,ot),$t);Nt(Oe,ot)}return null}function Rt(De,Oe,ze,ot){for(var $t=null,Yn=null,Lt=Oe,vn=Oe=0,Rn=null;Lt!==null&&vn<ze.length;vn++){Lt.index>vn?(Rn=Lt,Lt=null):Rn=Lt.sibling;var Xn=$e(De,Lt,ze[vn],ot);if(Xn===null){Lt===null&&(Lt=Rn);break}s&&Lt&&Xn.alternate===null&&l(De,Lt),Oe=S(Xn,Oe,vn),Yn===null?$t=Xn:Yn.sibling=Xn,Yn=Xn,Lt=Rn}if(vn===ze.length)return h(De,Lt),Sn&&ss(De,vn),$t;if(Lt===null){for(;vn<ze.length;vn++)Lt=ut(De,ze[vn],ot),Lt!==null&&(Oe=S(Lt,Oe,vn),Yn===null?$t=Lt:Yn.sibling=Lt,Yn=Lt);return Sn&&ss(De,vn),$t}for(Lt=m(Lt);vn<ze.length;vn++)Rn=Xe(Lt,De,vn,ze[vn],ot),Rn!==null&&(s&&Rn.alternate!==null&&Lt.delete(Rn.key===null?vn:Rn.key),Oe=S(Rn,Oe,vn),Yn===null?$t=Rn:Yn.sibling=Rn,Yn=Rn);return s&&Lt.forEach(function(id){return l(De,id)}),Sn&&ss(De,vn),$t}function Xt(De,Oe,ze,ot){if(ze==null)throw Error(r(151));for(var $t=null,Yn=null,Lt=Oe,vn=Oe=0,Rn=null,Xn=ze.next();Lt!==null&&!Xn.done;vn++,Xn=ze.next()){Lt.index>vn?(Rn=Lt,Lt=null):Rn=Lt.sibling;var id=$e(De,Lt,Xn.value,ot);if(id===null){Lt===null&&(Lt=Rn);break}s&&Lt&&id.alternate===null&&l(De,Lt),Oe=S(id,Oe,vn),Yn===null?$t=id:Yn.sibling=id,Yn=id,Lt=Rn}if(Xn.done)return h(De,Lt),Sn&&ss(De,vn),$t;if(Lt===null){for(;!Xn.done;vn++,Xn=ze.next())Xn=ut(De,Xn.value,ot),Xn!==null&&(Oe=S(Xn,Oe,vn),Yn===null?$t=Xn:Yn.sibling=Xn,Yn=Xn);return Sn&&ss(De,vn),$t}for(Lt=m(Lt);!Xn.done;vn++,Xn=ze.next())Xn=Xe(Lt,De,vn,Xn.value,ot),Xn!==null&&(s&&Xn.alternate!==null&&Lt.delete(Xn.key===null?vn:Xn.key),Oe=S(Xn,Oe,vn),Yn===null?$t=Xn:Yn.sibling=Xn,Yn=Xn);return s&&Lt.forEach(function(Oz){return l(De,Oz)}),Sn&&ss(De,vn),$t}function vr(De,Oe,ze,ot){if(typeof ze=="object"&&ze!==null&&ze.type===w&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case x:e:{for(var $t=ze.key;Oe!==null;){if(Oe.key===$t){if($t=ze.type,$t===w){if(Oe.tag===7){h(De,Oe.sibling),ot=_(Oe,ze.props.children),ot.return=De,De=ot;break e}}else if(Oe.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===I&&Te($t)===Oe.type){h(De,Oe.sibling),ot=_(Oe,ze.props),qt(ot,ze),ot.return=De,De=ot;break e}h(De,Oe);break}else l(De,Oe);Oe=Oe.sibling}ze.type===w?(ot=Ul(ze.props.children,De.mode,ot,ze.key),ot.return=De,De=ot):(ot=Mu(ze.type,ze.key,ze.props,null,De.mode,ot),qt(ot,ze),ot.return=De,De=ot)}return Y(De);case E:e:{for($t=ze.key;Oe!==null;){if(Oe.key===$t)if(Oe.tag===4&&Oe.stateNode.containerInfo===ze.containerInfo&&Oe.stateNode.implementation===ze.implementation){h(De,Oe.sibling),ot=_(Oe,ze.children||[]),ot.return=De,De=ot;break e}else{h(De,Oe);break}else l(De,Oe);Oe=Oe.sibling}ot=Bu(ze,De.mode,ot),ot.return=De,De=ot}return Y(De);case I:return ze=Te(ze),vr(De,Oe,ze,ot)}if(re(ze))return Rt(De,Oe,ze,ot);if(R(ze)){if($t=R(ze),typeof $t!="function")throw Error(r(150));return ze=$t.call(ze),Xt(De,Oe,ze,ot)}if(typeof ze.then=="function")return vr(De,Oe,wt(ze),ot);if(ze.$$typeof===B)return vr(De,Oe,fh(De,ze),ot);Nt(De,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint"?(ze=""+ze,Oe!==null&&Oe.tag===6?(h(De,Oe.sibling),ot=_(Oe,ze),ot.return=De,De=ot):(h(De,Oe),ot=sf(ze,De.mode,ot),ot.return=De,De=ot),Y(De)):h(De,Oe)}return function(De,Oe,ze,ot){try{jt=0;var $t=vr(De,Oe,ze,ot);return it=null,$t}catch(Lt){if(Lt===je||Lt===Be)throw Lt;var Yn=si(29,Lt,null,De.mode);return Yn.lanes=ot,Yn.return=De,Yn}finally{}}}var En=Un(!0),In=Un(!1),on=!1;function nr(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kn(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Yt(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ur(s,l,h){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(rr&2)!==0){var _=m.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),m.pending=l,l=ii(s),rf(s,null,h),l}return el(s,m,l,h),ii(s)}function Ta(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var m=l.lanes;m&=s.pendingLanes,h|=m,l.lanes=h,Or(s,h)}}function Kr(s,l){var h=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var _=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var Y={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?_=S=Y:S=S.next=Y,h=h.next}while(h!==null);S===null?_=S=l:S=S.next=l}else _=S=l;h={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}var oi=!1;function qn(){if(oi){var s=A;if(s!==null)throw s}}function Ga(s,l,h,m){oi=!1;var _=s.updateQueue;on=!1;var S=_.firstBaseUpdate,Y=_.lastBaseUpdate,he=_.shared.pending;if(he!==null){_.shared.pending=null;var Ne=he,Ve=Ne.next;Ne.next=null,Y===null?S=Ve:Y.next=Ve,Y=Ne;var rt=s.alternate;rt!==null&&(rt=rt.updateQueue,he=rt.lastBaseUpdate,he!==Y&&(he===null?rt.firstBaseUpdate=Ve:he.next=Ve,rt.lastBaseUpdate=Ne))}if(S!==null){var ut=_.baseState;Y=0,rt=Ve=Ne=null,he=S;do{var $e=he.lane&-536870913,Xe=$e!==he.lane;if(Xe?(Pn&$e)===$e:(m&$e)===$e){$e!==0&&$e===v&&(oi=!0),rt!==null&&(rt=rt.next={lane:0,tag:he.tag,payload:he.payload,callback:null,next:null});e:{var Rt=s,Xt=he;$e=l;var vr=h;switch(Xt.tag){case 1:if(Rt=Xt.payload,typeof Rt=="function"){ut=Rt.call(vr,ut,$e);break e}ut=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=Xt.payload,$e=typeof Rt=="function"?Rt.call(vr,ut,$e):Rt,$e==null)break e;ut=g({},ut,$e);break e;case 2:on=!0}}$e=he.callback,$e!==null&&(s.flags|=64,Xe&&(s.flags|=8192),Xe=_.callbacks,Xe===null?_.callbacks=[$e]:Xe.push($e))}else Xe={lane:$e,tag:he.tag,payload:he.payload,callback:he.callback,next:null},rt===null?(Ve=rt=Xe,Ne=ut):rt=rt.next=Xe,Y|=$e;if(he=he.next,he===null){if(he=_.shared.pending,he===null)break;Xe=he,he=Xe.next,Xe.next=null,_.lastBaseUpdate=Xe,_.shared.pending=null}}while(!0);rt===null&&(Ne=ut),_.baseState=Ne,_.firstBaseUpdate=Ve,_.lastBaseUpdate=rt,S===null&&(_.shared.lanes=0),Yu|=Y,s.lanes=Y,s.memoizedState=ut}}function Bi(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function ga(s,l){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)Bi(h[s],l)}var Yr=le(null),Oa=le(0);function os(s,l){s=Jc,H(Oa,s),H(Yr,l),Jc=s|l.baseLanes}function Ns(){H(Oa,Jc),H(Yr,Yr.current)}function oa(){Jc=Oa.current,P(Yr),P(Oa)}var ta=le(null),ka=null;function ls(s){var l=s.alternate;H(Xr,Xr.current&1),H(ta,s),ka===null&&(l===null||Yr.current!==null||l.memoizedState!==null)&&(ka=s)}function _o(s){H(Xr,Xr.current),H(ta,s),ka===null&&(ka=s)}function qr(s){s.tag===22?(H(Xr,Xr.current),H(ta,s),ka===null&&(ka=s)):wo()}function wo(){H(Xr,Xr.current),H(ta,ta.current)}function Fi(s){P(ta),ka===s&&(ka=null),P(Xr)}var Xr=le(0);function zc(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||t2(h)||n2(h)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var cs=0,an=null,xn=null,wr=null,rl=!1,Vc=!1,Ao=!1,uf=0,Xl=0,Ql=null,ph=0;function mr(){throw Error(r(321))}function dm(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!ni(s[h],l[h]))return!1;return!0}function fm(s,l,h,m,_,S){return cs=S,an=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,J.H=s===null||s.memoizedState===null?Tj:fb,Ao=!1,S=h(m,_),Ao=!1,Vc&&(S=al(l,h,m,_)),mh(s),S}function mh(s){J.H=bm;var l=xn!==null&&xn.next!==null;if(cs=0,wr=xn=an=null,rl=!1,Xl=0,Ql=null,l)throw Error(r(300));s===null||Ia||(s=s.dependencies,s!==null&&dh(s)&&(Ia=!0))}function al(s,l,h,m){an=s;var _=0;do{if(Vc&&(Ql=null),Xl=0,Vc=!1,25<=_)throw Error(r(301));if(_+=1,wr=xn=null,s.updateQueue!=null){var S=s.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}J.H=Oj,S=l(h,m)}while(Vc);return S}function ib(){var s=J.H,l=s.useState()[0];return l=typeof l.then=="function"?Jl(l):l,s=s.useState()[0],(xn!==null?xn.memoizedState:null)!==s&&(an.flags|=1024),l}function hm(){var s=uf!==0;return uf=0,s}function pm(s,l,h){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~h}function gh(s){if(rl){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}rl=!1}cs=0,wr=xn=an=null,Vc=!1,Xl=uf=0,Ql=null}function Ca(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?an.memoizedState=wr=s:wr=wr.next=s,wr}function Qr(){if(xn===null){var s=an.alternate;s=s!==null?s.memoizedState:null}else s=xn.next;var l=wr===null?an.memoizedState:wr.next;if(l!==null)wr=l,xn=s;else{if(s===null)throw an.alternate===null?Error(r(467)):Error(r(310));xn=s,s={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},wr===null?an.memoizedState=wr=s:wr=wr.next=s}return wr}function df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(s){var l=Xl;return Xl+=1,Ql===null&&(Ql=[]),s=Qe(Ql,s,l),l=an,(wr===null?l.memoizedState:wr.next)===null&&(l=l.alternate,J.H=l===null||l.memoizedState===null?Tj:fb),s}function Uu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Jl(s);if(s.$$typeof===B)return Ha(s)}throw Error(r(438,String(s)))}function Uc(s){var l=null,h=an.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var m=an.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=df(),an.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(s),m=0;m<s;m++)h[m]=U;return l.index++,h}function No(s,l){return typeof l=="function"?l(s):l}function vh(s){var l=Qr();return $u(l,xn,s)}function $u(s,l,h){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=h;var _=s.baseQueue,S=m.pending;if(S!==null){if(_!==null){var Y=_.next;_.next=S.next,S.next=Y}l.baseQueue=_=S,m.pending=null}if(S=s.baseState,_===null)s.memoizedState=S;else{l=_.next;var he=Y=null,Ne=null,Ve=l,rt=!1;do{var ut=Ve.lane&-536870913;if(ut!==Ve.lane?(Pn&ut)===ut:(cs&ut)===ut){var $e=Ve.revertLane;if($e===0)Ne!==null&&(Ne=Ne.next={lane:0,revertLane:0,gesture:null,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),ut===v&&(rt=!0);else if((cs&$e)===$e){Ve=Ve.next,$e===v&&(rt=!0);continue}else ut={lane:0,revertLane:Ve.revertLane,gesture:null,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},Ne===null?(he=Ne=ut,Y=S):Ne=Ne.next=ut,an.lanes|=$e,Yu|=$e;ut=Ve.action,Ao&&h(S,ut),S=Ve.hasEagerState?Ve.eagerState:h(S,ut)}else $e={lane:ut,revertLane:Ve.revertLane,gesture:Ve.gesture,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},Ne===null?(he=Ne=$e,Y=S):Ne=Ne.next=$e,an.lanes|=ut,Yu|=ut;Ve=Ve.next}while(Ve!==null&&Ve!==l);if(Ne===null?Y=S:Ne.next=he,!ni(S,s.memoizedState)&&(Ia=!0,rt&&(h=A,h!==null)))throw h;s.memoizedState=S,s.baseState=Y,s.baseQueue=Ne,m.lastRenderedState=S}return _===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function yh(s){var l=Qr(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var m=h.dispatch,_=h.pending,S=l.memoizedState;if(_!==null){h.pending=null;var Y=_=_.next;do S=s(S,Y.action),Y=Y.next;while(Y!==_);ni(S,l.memoizedState)||(Ia=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),h.lastRenderedState=S}return[S,m]}function xh(s,l,h){var m=an,_=Qr(),S=Sn;if(S){if(h===void 0)throw Error(r(407));h=h()}else h=l();var Y=!ni((xn||_).memoizedState,h);if(Y&&(_.memoizedState=h,Ia=!0),_=_.queue,sb(gm.bind(null,m,_,s),[s]),_.getSnapshot!==l||Y||wr!==null&&wr.memoizedState.tag&1){if(m.flags|=2048,Hc(9,{destroy:void 0},mm.bind(null,m,_,h,l),null),Ar===null)throw Error(r(349));S||(cs&127)!==0||il(m,l,h)}return h}function il(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=an.updateQueue,l===null?(l=df(),an.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function mm(s,l,h,m){l.value=h,l.getSnapshot=m,Yg(l)&&vm(s)}function gm(s,l,h){return h(function(){Yg(l)&&vm(s)})}function Yg(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!ni(s,h)}catch{return!0}}function vm(s){var l=tl(s,2);l!==null&&Os(l,s,2)}function Zl(s){var l=Ca();if(typeof s=="function"){var h=s;if(s=h(),Ao){pn(!0);try{h()}finally{pn(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:s},l}function Xg(s,l,h,m){return s.baseState=h,$u(s,xn,typeof m=="function"?m:No)}function Qg(s,l,h,m,_){if(tv(s))throw Error(r(485));if(s=l.action,s!==null){var S={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){S.listeners.push(Y)}};J.T!==null?h(!0):S.isTransition=!1,m(S),h=l.pending,h===null?(S.next=l.pending=S,Jg(l,S)):(S.next=h.next,l.pending=h.next=S)}}function Jg(s,l){var h=l.action,m=l.payload,_=s.state;if(l.isTransition){var S=J.T,Y={};J.T=Y;try{var he=h(_,m),Ne=J.S;Ne!==null&&Ne(Y,he),ym(s,l,he)}catch(Ve){$c(s,l,Ve)}finally{S!==null&&Y.types!==null&&(S.types=Y.types),J.T=S}}else try{S=h(_,m),ym(s,l,S)}catch(Ve){$c(s,l,Ve)}}function ym(s,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){Zg(s,l,m)},function(m){return $c(s,l,m)}):Zg(s,l,h)}function Zg(s,l,h){l.status="fulfilled",l.value=h,bh(l),s.state=h,l=s.pending,l!==null&&(h=l.next,h===l?s.pending=null:(h=h.next,l.next=h,Jg(s,h)))}function $c(s,l,h){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=h,bh(l),l=l.next;while(l!==m)}s.action=null}function bh(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function ff(s,l){return l}function So(s,l){if(Sn){var h=Ar.formState;if(h!==null){e:{var m=an;if(Sn){if(_r){t:{for(var _=_r,S=Wr;_.nodeType!==8;){if(!S){_=null;break t}if(_=Eo(_.nextSibling),_===null){_=null;break t}}S=_.data,_=S==="F!"||S==="F"?_:null}if(_){_r=Eo(_.nextSibling),m=_.data==="F!";break e}}Hl(m)}m=!1}m&&(l=h[0])}}return h=Ca(),h.memoizedState=h.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ff,lastRenderedState:l},h.queue=m,h=Sj.bind(null,an,m),m.dispatch=h,m=Zl(!1),S=db.bind(null,an,!1,m.queue),m=Ca(),_={state:l,dispatch:null,action:s,pending:null},m.queue=_,h=Qg.bind(null,an,_,S,h),_.dispatch=h,m.memoizedState=s,[l,h,!1]}function sl(s){var l=Qr();return ol(l,xn,s)}function ol(s,l,h){if(l=$u(s,l,ff)[0],s=vh(No)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Jl(l)}catch(Y){throw Y===je?Be:Y}else m=l;l=Qr();var _=l.queue,S=_.dispatch;return h!==l.memoizedState&&(an.flags|=2048,Hc(9,{destroy:void 0},_h.bind(null,_,h),null)),[m,S,s]}function _h(s,l){s.action=l}function wh(s){var l=Qr(),h=xn;if(h!==null)return ol(l,h,s);Qr(),l=l.memoizedState,h=Qr();var m=h.queue.dispatch;return h.memoizedState=s,[l,m,!1]}function Hc(s,l,h,m){return s={tag:s,create:h,deps:m,inst:l,next:null},l=an.updateQueue,l===null&&(l=df(),an.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=s.next=s:(m=h.next,h.next=s,s.next=m,l.lastEffect=s),s}function ev(){return Qr().memoizedState}function Hu(s,l,h,m){var _=Ca();an.flags|=s,_.memoizedState=Hc(1|l,{destroy:void 0},h,m===void 0?null:m)}function Gu(s,l,h,m){var _=Qr();m=m===void 0?null:m;var S=_.memoizedState.inst;xn!==null&&m!==null&&dm(m,xn.memoizedState.deps)?_.memoizedState=Hc(l,S,h,m):(an.flags|=s,_.memoizedState=Hc(1|l,S,h,m))}function dj(s,l){Hu(8390656,8,s,l)}function sb(s,l){Gu(2048,8,s,l)}function Aq(s){an.flags|=4;var l=an.updateQueue;if(l===null)l=df(),an.updateQueue=l,l.events=[s];else{var h=l.events;h===null?l.events=[s]:h.push(s)}}function fj(s){var l=Qr().memoizedState;return Aq({ref:l,nextImpl:s}),function(){if((rr&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function hj(s,l){return Gu(4,2,s,l)}function pj(s,l){return Gu(4,4,s,l)}function mj(s,l){if(typeof l=="function"){s=s();var h=l(s);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function gj(s,l,h){h=h!=null?h.concat([s]):null,Gu(4,4,mj.bind(null,l,s),h)}function ob(){}function vj(s,l){var h=Qr();l=l===void 0?null:l;var m=h.memoizedState;return l!==null&&dm(l,m[1])?m[0]:(h.memoizedState=[s,l],s)}function yj(s,l){var h=Qr();l=l===void 0?null:l;var m=h.memoizedState;if(l!==null&&dm(l,m[1]))return m[0];if(m=s(),Ao){pn(!0);try{s()}finally{pn(!1)}}return h.memoizedState=[m,l],m}function lb(s,l,h){return h===void 0||(cs&1073741824)!==0&&(Pn&261930)===0?s.memoizedState=l:(s.memoizedState=h,s=xT(),an.lanes|=s,Yu|=s,h)}function xj(s,l,h,m){return ni(h,l)?h:Yr.current!==null?(s=lb(s,h,m),ni(s,l)||(Ia=!0),s):(cs&42)===0||(cs&1073741824)!==0&&(Pn&261930)===0?(Ia=!0,s.memoizedState=h):(s=xT(),an.lanes|=s,Yu|=s,l)}function bj(s,l,h,m,_){var S=Z.p;Z.p=S!==0&&8>S?S:8;var Y=J.T,he={};J.T=he,db(s,!1,l,h);try{var Ne=_(),Ve=J.S;if(Ve!==null&&Ve(he,Ne),Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var rt=ne(Ne,m);xm(s,l,rt,to(s))}else xm(s,l,m,to(s))}catch(ut){xm(s,l,{then:function(){},status:"rejected",reason:ut},to())}finally{Z.p=S,Y!==null&&he.types!==null&&(Y.types=he.types),J.T=Y}}function Nq(){}function cb(s,l,h,m){if(s.tag!==5)throw Error(r(476));var _=_j(s).queue;bj(s,_,l,oe,h===null?Nq:function(){return wj(s),h(m)})}function _j(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:oe},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:h},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function wj(s){var l=_j(s);l.next===null&&(l=s.alternate.memoizedState),xm(s,l.next.queue,{},to())}function ub(){return Ha(Lm)}function Aj(){return Qr().memoizedState}function Nj(){return Qr().memoizedState}function Sq(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var h=to();s=Yt(h);var m=ur(l,s,h);m!==null&&(Os(m,l,h),Ta(m,l,h)),l={cache:Vu()},s.payload=l;return}l=l.return}}function Eq(s,l,h){var m=to();h={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},tv(s)?Ej(l,h):(h=Lu(s,l,h,m),h!==null&&(Os(h,s,m),jj(h,l,m)))}function Sj(s,l,h){var m=to();xm(s,l,h,m)}function xm(s,l,h,m){var _={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(tv(s))Ej(l,_);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var Y=l.lastRenderedState,he=S(Y,h);if(_.hasEagerState=!0,_.eagerState=he,ni(he,Y))return el(s,l,_,0),Ar===null&&Vl(),!1}catch{}finally{}if(h=Lu(s,l,_,m),h!==null)return Os(h,s,m),jj(h,l,m),!0}return!1}function db(s,l,h,m){if(m={lane:2,revertLane:Ub(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},tv(s)){if(l)throw Error(r(479))}else l=Lu(s,h,m,2),l!==null&&Os(l,s,2)}function tv(s){var l=s.alternate;return s===an||l!==null&&l===an}function Ej(s,l){Vc=rl=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function jj(s,l,h){if((h&4194048)!==0){var m=l.lanes;m&=s.pendingLanes,h|=m,l.lanes=h,Or(s,h)}}var bm={readContext:Ha,use:Uu,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useLayoutEffect:mr,useInsertionEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useSyncExternalStore:mr,useId:mr,useHostTransitionStatus:mr,useFormState:mr,useActionState:mr,useOptimistic:mr,useMemoCache:mr,useCacheRefresh:mr};bm.useEffectEvent=mr;var Tj={readContext:Ha,use:Uu,useCallback:function(s,l){return Ca().memoizedState=[s,l===void 0?null:l],s},useContext:Ha,useEffect:dj,useImperativeHandle:function(s,l,h){h=h!=null?h.concat([s]):null,Hu(4194308,4,mj.bind(null,l,s),h)},useLayoutEffect:function(s,l){return Hu(4194308,4,s,l)},useInsertionEffect:function(s,l){Hu(4,2,s,l)},useMemo:function(s,l){var h=Ca();l=l===void 0?null:l;var m=s();if(Ao){pn(!0);try{s()}finally{pn(!1)}}return h.memoizedState=[m,l],m},useReducer:function(s,l,h){var m=Ca();if(h!==void 0){var _=h(l);if(Ao){pn(!0);try{h(l)}finally{pn(!1)}}}else _=l;return m.memoizedState=m.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},m.queue=s,s=s.dispatch=Eq.bind(null,an,s),[m.memoizedState,s]},useRef:function(s){var l=Ca();return s={current:s},l.memoizedState=s},useState:function(s){s=Zl(s);var l=s.queue,h=Sj.bind(null,an,l);return l.dispatch=h,[s.memoizedState,h]},useDebugValue:ob,useDeferredValue:function(s,l){var h=Ca();return lb(h,s,l)},useTransition:function(){var s=Zl(!1);return s=bj.bind(null,an,s.queue,!0,!1),Ca().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,h){var m=an,_=Ca();if(Sn){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),Ar===null)throw Error(r(349));(Pn&127)!==0||il(m,l,h)}_.memoizedState=h;var S={value:h,getSnapshot:l};return _.queue=S,dj(gm.bind(null,m,S,s),[s]),m.flags|=2048,Hc(9,{destroy:void 0},mm.bind(null,m,S,h,l),null),h},useId:function(){var s=Ca(),l=Ar.identifierPrefix;if(Sn){var h=ws,m=_s;h=(m&~(1<<32-mn(m)-1)).toString(32)+h,l="_"+l+"R_"+h,h=uf++,0<h&&(l+="H"+h.toString(32)),l+="_"}else h=ph++,l="_"+l+"r_"+h.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:ub,useFormState:So,useActionState:So,useOptimistic:function(s){var l=Ca();l.memoizedState=l.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=db.bind(null,an,!0,h),h.dispatch=l,[s,l]},useMemoCache:Uc,useCacheRefresh:function(){return Ca().memoizedState=Sq.bind(null,an)},useEffectEvent:function(s){var l=Ca(),h={impl:s};return l.memoizedState=h,function(){if((rr&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},fb={readContext:Ha,use:Uu,useCallback:vj,useContext:Ha,useEffect:sb,useImperativeHandle:gj,useInsertionEffect:hj,useLayoutEffect:pj,useMemo:yj,useReducer:vh,useRef:ev,useState:function(){return vh(No)},useDebugValue:ob,useDeferredValue:function(s,l){var h=Qr();return xj(h,xn.memoizedState,s,l)},useTransition:function(){var s=vh(No)[0],l=Qr().memoizedState;return[typeof s=="boolean"?s:Jl(s),l]},useSyncExternalStore:xh,useId:Aj,useHostTransitionStatus:ub,useFormState:sl,useActionState:sl,useOptimistic:function(s,l){var h=Qr();return Xg(h,xn,s,l)},useMemoCache:Uc,useCacheRefresh:Nj};fb.useEffectEvent=fj;var Oj={readContext:Ha,use:Uu,useCallback:vj,useContext:Ha,useEffect:sb,useImperativeHandle:gj,useInsertionEffect:hj,useLayoutEffect:pj,useMemo:yj,useReducer:yh,useRef:ev,useState:function(){return yh(No)},useDebugValue:ob,useDeferredValue:function(s,l){var h=Qr();return xn===null?lb(h,s,l):xj(h,xn.memoizedState,s,l)},useTransition:function(){var s=yh(No)[0],l=Qr().memoizedState;return[typeof s=="boolean"?s:Jl(s),l]},useSyncExternalStore:xh,useId:Aj,useHostTransitionStatus:ub,useFormState:wh,useActionState:wh,useOptimistic:function(s,l){var h=Qr();return xn!==null?Xg(h,xn,s,l):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Uc,useCacheRefresh:Nj};Oj.useEffectEvent=fj;function hb(s,l,h,m){l=s.memoizedState,h=h(m,l),h=h==null?l:g({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var pb={enqueueSetState:function(s,l,h){s=s._reactInternals;var m=to(),_=Yt(m);_.payload=l,h!=null&&(_.callback=h),l=ur(s,_,m),l!==null&&(Os(l,s,m),Ta(l,s,m))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var m=to(),_=Yt(m);_.tag=1,_.payload=l,h!=null&&(_.callback=h),l=ur(s,_,m),l!==null&&(Os(l,s,m),Ta(l,s,m))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=to(),m=Yt(h);m.tag=2,l!=null&&(m.callback=l),l=ur(s,m,h),l!==null&&(Os(l,s,h),Ta(l,s,h))}};function kj(s,l,h,m,_,S,Y){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,S,Y):l.prototype&&l.prototype.isPureReactComponent?!gs(h,m)||!gs(_,S):!0}function Cj(s,l,h,m){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,m),l.state!==s&&pb.enqueueReplaceState(l,l.state,null)}function hf(s,l){var h=l;if("ref"in l){h={};for(var m in l)m!=="ref"&&(h[m]=l[m])}if(s=s.defaultProps){h===l&&(h=g({},h));for(var _ in s)h[_]===void 0&&(h[_]=s[_])}return h}function Ij(s){tr(s)}function Pj(s){console.error(s)}function Rj(s){tr(s)}function nv(s,l){try{var h=s.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function Dj(s,l,h){try{var m=s.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function mb(s,l,h){return h=Yt(h),h.tag=3,h.payload={element:null},h.callback=function(){nv(s,l)},h}function Lj(s){return s=Yt(s),s.tag=3,s}function Mj(s,l,h,m){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var S=m.value;s.payload=function(){return _(S)},s.callback=function(){Dj(l,h,m)}}var Y=h.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(s.callback=function(){Dj(l,h,m),typeof _!="function"&&(Xu===null?Xu=new Set([this]):Xu.add(this));var he=m.stack;this.componentDidCatch(m.value,{componentStack:he!==null?he:""})})}function jq(s,l,h,m,_){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=h.alternate,l!==null&&Kl(l,h,_,!0),h=ta.current,h!==null){switch(h.tag){case 31:case 13:return ka===null?pv():h.alternate===null&&la===0&&(la=3),h.flags&=-257,h.flags|=65536,h.lanes=_,m===Pe?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([m]):l.add(m),qb(s,m,_)),!1;case 22:return h.flags|=65536,m===Pe?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([m]):h.add(m)),qb(s,m,_)),!1}throw Error(r(435,h.tag))}return qb(s,m,_),pv(),!1}if(Sn)return l=ta.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,m!==Js&&(s=Error(r(422),{cause:m}),qu(ys(s,h)))):(m!==Js&&(l=Error(r(423),{cause:m}),qu(ys(l,h))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,m=ys(m,h),_=mb(s.stateNode,m,_),Kr(s,_),la!==4&&(la=2)),!1;var S=Error(r(520),{cause:m});if(S=ys(S,h),Tm===null?Tm=[S]:Tm.push(S),la!==4&&(la=2),l===null)return!0;m=ys(m,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,s=_&-_,h.lanes|=s,s=mb(h.stateNode,m,s),Kr(h,s),!1;case 1:if(l=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Xu===null||!Xu.has(S))))return h.flags|=65536,_&=-_,h.lanes|=_,_=Lj(_),Mj(_,s,h,m),Kr(h,_),!1}h=h.return}while(h!==null);return!1}var gb=Error(r(461)),Ia=!1;function _i(s,l,h,m){l.child=s===null?In(l,null,h,m):En(l,s.child,h,m)}function Bj(s,l,h,m,_){h=h.render;var S=l.ref;if("ref"in m){var Y={};for(var he in m)he!=="ref"&&(Y[he]=m[he])}else Y=m;return Yl(l),m=fm(s,l,h,Y,S,_),he=hm(),s!==null&&!Ia?(pm(s,l,_),Gc(s,l,_)):(Sn&&he&&lm(l),l.flags|=1,_i(s,l,m,_),l.child)}function Fj(s,l,h,m,_){if(s===null){var S=h.type;return typeof S=="function"&&!ih(S)&&S.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=S,qj(s,l,S,m,_)):(s=Mu(h.type,null,m,l,l.mode,_),s.ref=l.ref,s.return=l,l.child=s)}if(S=s.child,!Nb(s,_)){var Y=S.memoizedProps;if(h=h.compare,h=h!==null?h:gs,h(Y,m)&&s.ref===l.ref)return Gc(s,l,_)}return l.flags|=1,s=vs(S,m),s.ref=l.ref,s.return=l,l.child=s}function qj(s,l,h,m,_){if(s!==null){var S=s.memoizedProps;if(gs(S,m)&&s.ref===l.ref)if(Ia=!1,l.pendingProps=m=S,Nb(s,_))(s.flags&131072)!==0&&(Ia=!0);else return l.lanes=s.lanes,Gc(s,l,_)}return vb(s,l,h,m,_)}function zj(s,l,h,m){var _=m.children,S=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(S=S!==null?S.baseLanes|h:h,s!==null){for(m=l.child=s.child,_=0;m!==null;)_=_|m.lanes|m.childLanes,m=m.sibling;m=_&~S}else m=0,l.child=null;return Vj(s,l,S,h,m)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&pe(l,S!==null?S.cachePool:null),S!==null?os(l,S):Ns(),qr(l);else return m=l.lanes=536870912,Vj(s,l,S!==null?S.baseLanes|h:h,h,m)}else S!==null?(pe(l,S.cachePool),os(l,S),wo(),l.memoizedState=null):(s!==null&&pe(l,null),Ns(),wo());return _i(s,l,_,h),l.child}function _m(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Vj(s,l,h,m,_){var S=de();return S=S===null?null:{parent:ea._currentValue,pool:S},l.memoizedState={baseLanes:h,cachePool:S},s!==null&&pe(l,null),Ns(),qr(l),s!==null&&Kl(s,l,m,!0),l.childLanes=_,null}function rv(s,l){return l=iv({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function Uj(s,l,h){return En(l,s.child,null,h),s=rv(l,l.pendingProps),s.flags|=2,Fi(l),l.memoizedState=null,s}function Tq(s,l,h){var m=l.pendingProps,_=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(Sn){if(m.mode==="hidden")return s=rv(l,m),l.lanes=536870912,_m(null,s);if(_o(l),(s=_r)?(s=t3(s,Wr),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:$l!==null?{id:_s,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},h=sh(s),h.return=l,l.child=h,Ua=l,_r=null)):s=null,s===null)throw Hl(l);return l.lanes=536870912,null}return rv(l,m)}var S=s.memoizedState;if(S!==null){var Y=S.dehydrated;if(_o(l),_)if(l.flags&256)l.flags&=-257,l=Uj(s,l,h);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(Ia||Kl(s,l,h,!1),_=(h&s.childLanes)!==0,Ia||_){if(m=Ar,m!==null&&(Y=Mr(m,h),Y!==0&&Y!==S.retryLane))throw S.retryLane=Y,tl(s,Y),Os(m,s,Y),gb;pv(),l=Uj(s,l,h)}else s=S.treeContext,_r=Eo(Y.nextSibling),Ua=l,Sn=!0,bi=null,Wr=!1,s!==null&&Wg(l,s),l=rv(l,m),l.flags|=4096;return l}return s=vs(s.child,{mode:m.mode,children:m.children}),s.ref=l.ref,l.child=s,s.return=l,s}function av(s,l){var h=l.ref;if(h===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(l.flags|=4194816)}}function vb(s,l,h,m,_){return Yl(l),h=fm(s,l,h,m,void 0,_),m=hm(),s!==null&&!Ia?(pm(s,l,_),Gc(s,l,_)):(Sn&&m&&lm(l),l.flags|=1,_i(s,l,h,_),l.child)}function $j(s,l,h,m,_,S){return Yl(l),l.updateQueue=null,h=al(l,m,h,_),mh(s),m=hm(),s!==null&&!Ia?(pm(s,l,S),Gc(s,l,S)):(Sn&&m&&lm(l),l.flags|=1,_i(s,l,h,S),l.child)}function Hj(s,l,h,m,_){if(Yl(l),l.stateNode===null){var S=Va,Y=h.contextType;typeof Y=="object"&&Y!==null&&(S=Ha(Y)),S=new h(m,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=pb,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=m,S.state=l.memoizedState,S.refs={},nr(l),Y=h.contextType,S.context=typeof Y=="object"&&Y!==null?Ha(Y):Va,S.state=l.memoizedState,Y=h.getDerivedStateFromProps,typeof Y=="function"&&(hb(l,h,Y,m),S.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(Y=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),Y!==S.state&&pb.enqueueReplaceState(S,S.state,null),Ga(l,m,S,_),qn(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(s===null){S=l.stateNode;var he=l.memoizedProps,Ne=hf(h,he);S.props=Ne;var Ve=S.context,rt=h.contextType;Y=Va,typeof rt=="object"&&rt!==null&&(Y=Ha(rt));var ut=h.getDerivedStateFromProps;rt=typeof ut=="function"||typeof S.getSnapshotBeforeUpdate=="function",he=l.pendingProps!==he,rt||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(he||Ve!==Y)&&Cj(l,S,m,Y),on=!1;var $e=l.memoizedState;S.state=$e,Ga(l,m,S,_),qn(),Ve=l.memoizedState,he||$e!==Ve||on?(typeof ut=="function"&&(hb(l,h,ut,m),Ve=l.memoizedState),(Ne=on||kj(l,h,Ne,m,$e,Ve,Y))?(rt||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Ve),S.props=m,S.state=Ve,S.context=Y,m=Ne):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{S=l.stateNode,Kn(s,l),Y=l.memoizedProps,rt=hf(h,Y),S.props=rt,ut=l.pendingProps,$e=S.context,Ve=h.contextType,Ne=Va,typeof Ve=="object"&&Ve!==null&&(Ne=Ha(Ve)),he=h.getDerivedStateFromProps,(Ve=typeof he=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(Y!==ut||$e!==Ne)&&Cj(l,S,m,Ne),on=!1,$e=l.memoizedState,S.state=$e,Ga(l,m,S,_),qn();var Xe=l.memoizedState;Y!==ut||$e!==Xe||on||s!==null&&s.dependencies!==null&&dh(s.dependencies)?(typeof he=="function"&&(hb(l,h,he,m),Xe=l.memoizedState),(rt=on||kj(l,h,rt,m,$e,Xe,Ne)||s!==null&&s.dependencies!==null&&dh(s.dependencies))?(Ve||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,Xe,Ne),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,Xe,Ne)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||Y===s.memoizedProps&&$e===s.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||Y===s.memoizedProps&&$e===s.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Xe),S.props=m,S.state=Xe,S.context=Ne,m=rt):(typeof S.componentDidUpdate!="function"||Y===s.memoizedProps&&$e===s.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||Y===s.memoizedProps&&$e===s.memoizedState||(l.flags|=1024),m=!1)}return S=m,av(s,l),m=(l.flags&128)!==0,S||m?(S=l.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,s!==null&&m?(l.child=En(l,s.child,null,_),l.child=En(l,null,h,_)):_i(s,l,h,_),l.memoizedState=S.state,s=l.child):s=Gc(s,l,_),s}function Gj(s,l,h,m){return Fc(),l.flags|=256,_i(s,l,h,m),l.child}var yb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xb(s){return{baseLanes:s,cachePool:xe()}}function bb(s,l,h){return s=s!==null?s.childLanes&~h:0,l&&(s|=eo),s}function Wj(s,l,h){var m=l.pendingProps,_=!1,S=(l.flags&128)!==0,Y;if((Y=S)||(Y=s!==null&&s.memoizedState===null?!1:(Xr.current&2)!==0),Y&&(_=!0,l.flags&=-129),Y=(l.flags&32)!==0,l.flags&=-33,s===null){if(Sn){if(_?ls(l):wo(),(s=_r)?(s=t3(s,Wr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:$l!==null?{id:_s,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},h=sh(s),h.return=l,l.child=h,Ua=l,_r=null)):s=null,s===null)throw Hl(l);return n2(s)?l.lanes=32:l.lanes=536870912,null}var he=m.children;return m=m.fallback,_?(wo(),_=l.mode,he=iv({mode:"hidden",children:he},_),m=Ul(m,_,h,null),he.return=l,m.return=l,he.sibling=m,l.child=he,m=l.child,m.memoizedState=xb(h),m.childLanes=bb(s,Y,h),l.memoizedState=yb,_m(null,m)):(ls(l),_b(l,he))}var Ne=s.memoizedState;if(Ne!==null&&(he=Ne.dehydrated,he!==null)){if(S)l.flags&256?(ls(l),l.flags&=-257,l=wb(s,l,h)):l.memoizedState!==null?(wo(),l.child=s.child,l.flags|=128,l=null):(wo(),he=m.fallback,_=l.mode,m=iv({mode:"visible",children:m.children},_),he=Ul(he,_,h,null),he.flags|=2,m.return=l,he.return=l,m.sibling=he,l.child=m,En(l,s.child,null,h),m=l.child,m.memoizedState=xb(h),m.childLanes=bb(s,Y,h),l.memoizedState=yb,l=_m(null,m));else if(ls(l),n2(he)){if(Y=he.nextSibling&&he.nextSibling.dataset,Y)var Ve=Y.dgst;Y=Ve,m=Error(r(419)),m.stack="",m.digest=Y,qu({value:m,source:null,stack:null}),l=wb(s,l,h)}else if(Ia||Kl(s,l,h,!1),Y=(h&s.childLanes)!==0,Ia||Y){if(Y=Ar,Y!==null&&(m=Mr(Y,h),m!==0&&m!==Ne.retryLane))throw Ne.retryLane=m,tl(s,m),Os(Y,s,m),gb;t2(he)||pv(),l=wb(s,l,h)}else t2(he)?(l.flags|=192,l.child=s.child,l=null):(s=Ne.treeContext,_r=Eo(he.nextSibling),Ua=l,Sn=!0,bi=null,Wr=!1,s!==null&&Wg(l,s),l=_b(l,m.children),l.flags|=4096);return l}return _?(wo(),he=m.fallback,_=l.mode,Ne=s.child,Ve=Ne.sibling,m=vs(Ne,{mode:"hidden",children:m.children}),m.subtreeFlags=Ne.subtreeFlags&65011712,Ve!==null?he=vs(Ve,he):(he=Ul(he,_,h,null),he.flags|=2),he.return=l,m.return=l,m.sibling=he,l.child=m,_m(null,m),m=l.child,he=s.child.memoizedState,he===null?he=xb(h):(_=he.cachePool,_!==null?(Ne=ea._currentValue,_=_.parent!==Ne?{parent:Ne,pool:Ne}:_):_=xe(),he={baseLanes:he.baseLanes|h,cachePool:_}),m.memoizedState=he,m.childLanes=bb(s,Y,h),l.memoizedState=yb,_m(s.child,m)):(ls(l),h=s.child,s=h.sibling,h=vs(h,{mode:"visible",children:m.children}),h.return=l,h.sibling=null,s!==null&&(Y=l.deletions,Y===null?(l.deletions=[s],l.flags|=16):Y.push(s)),l.child=h,l.memoizedState=null,h)}function _b(s,l){return l=iv({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function iv(s,l){return s=si(22,s,null,l),s.lanes=0,s}function wb(s,l,h){return En(l,s.child,null,h),s=_b(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function Kj(s,l,h){s.lanes|=l;var m=s.alternate;m!==null&&(m.lanes|=l),zu(s.return,l,h)}function Ab(s,l,h,m,_,S){var Y=s.memoizedState;Y===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:_,treeForkCount:S}:(Y.isBackwards=l,Y.rendering=null,Y.renderingStartTime=0,Y.last=m,Y.tail=h,Y.tailMode=_,Y.treeForkCount=S)}function Yj(s,l,h){var m=l.pendingProps,_=m.revealOrder,S=m.tail;m=m.children;var Y=Xr.current,he=(Y&2)!==0;if(he?(Y=Y&1|2,l.flags|=128):Y&=1,H(Xr,Y),_i(s,l,m,h),m=Sn?of:0,!he&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Kj(s,h,l);else if(s.tag===19)Kj(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(_){case"forwards":for(h=l.child,_=null;h!==null;)s=h.alternate,s!==null&&zc(s)===null&&(_=h),h=h.sibling;h=_,h===null?(_=l.child,l.child=null):(_=h.sibling,h.sibling=null),Ab(l,!1,_,h,S,m);break;case"backwards":case"unstable_legacy-backwards":for(h=null,_=l.child,l.child=null;_!==null;){if(s=_.alternate,s!==null&&zc(s)===null){l.child=_;break}s=_.sibling,_.sibling=h,h=_,_=s}Ab(l,!0,h,null,S,m);break;case"together":Ab(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function Gc(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),Yu|=l.lanes,(h&l.childLanes)===0)if(s!==null){if(Kl(s,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=vs(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=vs(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function Nb(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&dh(s)))}function Oq(s,l,h){switch(l.tag){case 3:be(l,l.stateNode.containerInfo),Wl(l,ea,s.memoizedState.cache),Fc();break;case 27:case 5:_e(l);break;case 4:be(l,l.stateNode.containerInfo);break;case 10:Wl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,_o(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(ls(l),l.flags|=128,null):(h&l.child.childLanes)!==0?Wj(s,l,h):(ls(l),s=Gc(s,l,h),s!==null?s.sibling:null);ls(l);break;case 19:var _=(s.flags&128)!==0;if(m=(h&l.childLanes)!==0,m||(Kl(s,l,h,!1),m=(h&l.childLanes)!==0),_){if(m)return Yj(s,l,h);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),H(Xr,Xr.current),m)break;return null;case 22:return l.lanes=0,zj(s,l,h,l.pendingProps);case 24:Wl(l,ea,s.memoizedState.cache)}return Gc(s,l,h)}function Xj(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps)Ia=!0;else{if(!Nb(s,h)&&(l.flags&128)===0)return Ia=!1,Oq(s,l,h);Ia=(s.flags&131072)!==0}else Ia=!1,Sn&&(l.flags&1048576)!==0&&Gg(l,of,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(s=Te(l.elementType),l.type=s,typeof s=="function")ih(s)?(m=hf(s,m),l.tag=1,l=Hj(null,l,s,m,h)):(l.tag=0,l=vb(null,l,s,m,h));else{if(s!=null){var _=s.$$typeof;if(_===q){l.tag=11,l=Bj(null,l,s,m,h);break e}else if(_===k){l.tag=14,l=Fj(null,l,s,m,h);break e}}throw l=G(s)||s,Error(r(306,l,""))}}return l;case 0:return vb(s,l,l.type,l.pendingProps,h);case 1:return m=l.type,_=hf(m,l.pendingProps),Hj(s,l,m,_,h);case 3:e:{if(be(l,l.stateNode.containerInfo),s===null)throw Error(r(387));m=l.pendingProps;var S=l.memoizedState;_=S.element,Kn(s,l),Ga(l,m,null,h);var Y=l.memoizedState;if(m=Y.cache,Wl(l,ea,m),m!==S.cache&&qc(l,[ea],h,!0),qn(),m=Y.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:Y.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=Gj(s,l,m,h);break e}else if(m!==_){_=ys(Error(r(424)),l),qu(_),l=Gj(s,l,m,h);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(_r=Eo(s.firstChild),Ua=l,Sn=!0,bi=null,Wr=!0,h=In(l,null,m,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Fc(),m===_){l=Gc(s,l,h);break e}_i(s,l,m,h)}l=l.child}return l;case 26:return av(s,l),s===null?(h=o3(l.type,null,l.pendingProps,null))?l.memoizedState=h:Sn||(h=l.type,s=l.pendingProps,m=_v(X.current).createElement(h),m[zt]=l,m[Ft]=s,wi(m,h,s),Br(m),l.stateNode=m):l.memoizedState=o3(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return _e(l),s===null&&Sn&&(m=l.stateNode=a3(l.type,l.pendingProps,X.current),Ua=l,Wr=!0,_=_r,ed(l.type)?(r2=_,_r=Eo(m.firstChild)):_r=_),_i(s,l,l.pendingProps.children,h),av(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Sn&&((_=m=_r)&&(m=iz(m,l.type,l.pendingProps,Wr),m!==null?(l.stateNode=m,Ua=l,_r=Eo(m.firstChild),Wr=!1,_=!0):_=!1),_||Hl(l)),_e(l),_=l.type,S=l.pendingProps,Y=s!==null?s.memoizedProps:null,m=S.children,Jb(_,S)?m=null:Y!==null&&Jb(_,Y)&&(l.flags|=32),l.memoizedState!==null&&(_=fm(s,l,ib,null,null,h),Lm._currentValue=_),av(s,l),_i(s,l,m,h),l.child;case 6:return s===null&&Sn&&((s=h=_r)&&(h=sz(h,l.pendingProps,Wr),h!==null?(l.stateNode=h,Ua=l,_r=null,s=!0):s=!1),s||Hl(l)),null;case 13:return Wj(s,l,h);case 4:return be(l,l.stateNode.containerInfo),m=l.pendingProps,s===null?l.child=En(l,null,m,h):_i(s,l,m,h),l.child;case 11:return Bj(s,l,l.type,l.pendingProps,h);case 7:return _i(s,l,l.pendingProps,h),l.child;case 8:return _i(s,l,l.pendingProps.children,h),l.child;case 12:return _i(s,l,l.pendingProps.children,h),l.child;case 10:return m=l.pendingProps,Wl(l,l.type,m.value),_i(s,l,m.children,h),l.child;case 9:return _=l.type._context,m=l.pendingProps.children,Yl(l),_=Ha(_),m=m(_),l.flags|=1,_i(s,l,m,h),l.child;case 14:return Fj(s,l,l.type,l.pendingProps,h);case 15:return qj(s,l,l.type,l.pendingProps,h);case 19:return Yj(s,l,h);case 31:return Tq(s,l,h);case 22:return zj(s,l,h,l.pendingProps);case 24:return Yl(l),m=Ha(ea),s===null?(_=de(),_===null&&(_=Ar,S=Vu(),_.pooledCache=S,S.refCount++,S!==null&&(_.pooledCacheLanes|=h),_=S),l.memoizedState={parent:m,cache:_},nr(l),Wl(l,ea,_)):((s.lanes&h)!==0&&(Kn(s,l),Ga(l,null,null,h),qn()),_=s.memoizedState,S=l.memoizedState,_.parent!==m?(_={parent:m,cache:m},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),Wl(l,ea,m)):(m=S.cache,Wl(l,ea,m),m!==_.cache&&qc(l,[ea],h,!0))),_i(s,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Wc(s){s.flags|=4}function Sb(s,l,h,m,_){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(_&335544128)===_)if(s.stateNode.complete)s.flags|=8192;else if(AT())s.flags|=8192;else throw ke=Pe,Fe}else s.flags&=-16777217}function Qj(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!f3(l))if(AT())s.flags|=8192;else throw ke=Pe,Fe}function sv(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Tr():536870912,s.lanes|=l,Eh|=l)}function wm(s,l){if(!Sn)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function zr(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,m=0;if(l)for(var _=s.child;_!==null;)h|=_.lanes|_.childLanes,m|=_.subtreeFlags&65011712,m|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)h|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=m,s.childLanes=h,l}function kq(s,l,h){var m=l.pendingProps;switch(ch(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(l),null;case 1:return zr(l),null;case 3:return h=l.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),As(ea),ee(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&($a(l)?Wc(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,um())),zr(l),null;case 26:var _=l.type,S=l.memoizedState;return s===null?(Wc(l),S!==null?(zr(l),Qj(l,S)):(zr(l),Sb(l,_,null,m,h))):S?S!==s.memoizedState?(Wc(l),zr(l),Qj(l,S)):(zr(l),l.flags&=-16777217):(s=s.memoizedProps,s!==m&&Wc(l),zr(l),Sb(l,_,s,m,h)),null;case 27:if(Se(l),h=X.current,_=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==m&&Wc(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return zr(l),null}s=Q.current,$a(l)?cm(l):(s=a3(_,m,h),l.stateNode=s,Wc(l))}return zr(l),null;case 5:if(Se(l),_=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==m&&Wc(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return zr(l),null}if(S=Q.current,$a(l))cm(l);else{var Y=_v(X.current);switch(S){case 1:S=Y.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:S=Y.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":S=Y.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":S=Y.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":S=Y.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?Y.createElement("select",{is:m.is}):Y.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?Y.createElement(_,{is:m.is}):Y.createElement(_)}}S[zt]=l,S[Ft]=m;e:for(Y=l.child;Y!==null;){if(Y.tag===5||Y.tag===6)S.appendChild(Y.stateNode);else if(Y.tag!==4&&Y.tag!==27&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===l)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===l)break e;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}l.stateNode=S;e:switch(wi(S,_,m),_){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Wc(l)}}return zr(l),Sb(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,h),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==m&&Wc(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(s=X.current,$a(l)){if(s=l.stateNode,h=l.memoizedProps,m=null,_=Ua,_!==null)switch(_.tag){case 27:case 5:m=_.memoizedProps}s[zt]=l,s=!!(s.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||WT(s.nodeValue,h)),s||Hl(l,!0)}else s=_v(s).createTextNode(m),s[zt]=l,l.stateNode=s}return zr(l),null;case 31:if(h=l.memoizedState,s===null||s.memoizedState!==null){if(m=$a(l),h!==null){if(s===null){if(!m)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[zt]=l}else Fc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;zr(l),s=!1}else h=um(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return l.flags&256?(Fi(l),l):(Fi(l),null);if((l.flags&128)!==0)throw Error(r(558))}return zr(l),null;case 13:if(m=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=$a(l),m!==null&&m.dehydrated!==null){if(s===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[zt]=l}else Fc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;zr(l),_=!1}else _=um(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?(Fi(l),l):(Fi(l),null)}return Fi(l),(l.flags&128)!==0?(l.lanes=h,l):(h=m!==null,s=s!==null&&s.memoizedState!==null,h&&(m=l.child,_=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(_=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==_&&(m.flags|=2048)),h!==s&&h&&(l.child.flags|=8192),sv(l,l.updateQueue),zr(l),null);case 4:return ee(),s===null&&Wb(l.stateNode.containerInfo),zr(l),null;case 10:return As(l.type),zr(l),null;case 19:if(P(Xr),m=l.memoizedState,m===null)return zr(l),null;if(_=(l.flags&128)!==0,S=m.rendering,S===null)if(_)wm(m,!1);else{if(la!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(S=zc(s),S!==null){for(l.flags|=128,wm(m,!1),s=S.updateQueue,l.updateQueue=s,sv(l,s),l.subtreeFlags=0,s=h,h=l.child;h!==null;)af(h,s),h=h.sibling;return H(Xr,Xr.current&1|2),Sn&&ss(l,m.treeForkCount),l.child}s=s.sibling}m.tail!==null&&Ge()>dv&&(l.flags|=128,_=!0,wm(m,!1),l.lanes=4194304)}else{if(!_)if(s=zc(S),s!==null){if(l.flags|=128,_=!0,s=s.updateQueue,l.updateQueue=s,sv(l,s),wm(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!Sn)return zr(l),null}else 2*Ge()-m.renderingStartTime>dv&&h!==536870912&&(l.flags|=128,_=!0,wm(m,!1),l.lanes=4194304);m.isBackwards?(S.sibling=l.child,l.child=S):(s=m.last,s!==null?s.sibling=S:l.child=S,m.last=S)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ge(),s.sibling=null,h=Xr.current,H(Xr,_?h&1|2:h&1),Sn&&ss(l,m.treeForkCount),s):(zr(l),null);case 22:case 23:return Fi(l),oa(),m=l.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(h&536870912)!==0&&(l.flags&128)===0&&(zr(l),l.subtreeFlags&6&&(l.flags|=8192)):zr(l),h=l.updateQueue,h!==null&&sv(l,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048),s!==null&&P(se),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),As(ea),zr(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function Cq(s,l){switch(ch(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return As(ea),ee(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Se(l),null;case 31:if(l.memoizedState!==null){if(Fi(l),l.alternate===null)throw Error(r(340));Fc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(Fi(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Fc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return P(Xr),null;case 4:return ee(),null;case 10:return As(l.type),null;case 22:case 23:return Fi(l),oa(),s!==null&&P(se),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return As(ea),null;case 25:return null;default:return null}}function Jj(s,l){switch(ch(l),l.tag){case 3:As(ea),ee();break;case 26:case 27:case 5:Se(l);break;case 4:ee();break;case 31:l.memoizedState!==null&&Fi(l);break;case 13:Fi(l);break;case 19:P(Xr);break;case 10:As(l.type);break;case 22:case 23:Fi(l),oa(),s!==null&&P(se);break;case 24:As(ea)}}function Am(s,l){try{var h=l.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var _=m.next;h=_;do{if((h.tag&s)===s){m=void 0;var S=h.create,Y=h.inst;m=S(),Y.destroy=m}h=h.next}while(h!==_)}}catch(he){fr(l,l.return,he)}}function Wu(s,l,h){try{var m=l.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var S=_.next;m=S;do{if((m.tag&s)===s){var Y=m.inst,he=Y.destroy;if(he!==void 0){Y.destroy=void 0,_=l;var Ne=h,Ve=he;try{Ve()}catch(rt){fr(_,Ne,rt)}}}m=m.next}while(m!==S)}}catch(rt){fr(l,l.return,rt)}}function Zj(s){var l=s.updateQueue;if(l!==null){var h=s.stateNode;try{ga(l,h)}catch(m){fr(s,s.return,m)}}}function eT(s,l,h){h.props=hf(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(m){fr(s,l,m)}}function Nm(s,l){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof h=="function"?s.refCleanup=h(m):h.current=m}}catch(_){fr(s,l,_)}}function ec(s,l){var h=s.ref,m=s.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(_){fr(s,l,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){fr(s,l,_)}else h.current=null}function tT(s){var l=s.type,h=s.memoizedProps,m=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(_){fr(s,s.return,_)}}function Eb(s,l,h){try{var m=s.stateNode;Zq(m,s.type,h,l),m[Ft]=l}catch(_){fr(s,s.return,_)}}function nT(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ed(s.type)||s.tag===4}function jb(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||nT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ed(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Tb(s,l,h){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(s),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Fn));else if(m!==4&&(m===27&&ed(s.type)&&(h=s.stateNode,l=null),s=s.child,s!==null))for(Tb(s,l,h),s=s.sibling;s!==null;)Tb(s,l,h),s=s.sibling}function ov(s,l,h){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(m!==4&&(m===27&&ed(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(ov(s,l,h),s=s.sibling;s!==null;)ov(s,l,h),s=s.sibling}function rT(s){var l=s.stateNode,h=s.memoizedProps;try{for(var m=s.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);wi(l,m,h),l[zt]=s,l[Ft]=h}catch(S){fr(s,s.return,S)}}var Kc=!1,Pa=!1,Ob=!1,aT=typeof WeakSet=="function"?WeakSet:Set,li=null;function Iq(s,l){if(s=s.containerInfo,Xb=Tv,s=Qo(s),Ws(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var _=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var Y=0,he=-1,Ne=-1,Ve=0,rt=0,ut=s,$e=null;t:for(;;){for(var Xe;ut!==h||_!==0&&ut.nodeType!==3||(he=Y+_),ut!==S||m!==0&&ut.nodeType!==3||(Ne=Y+m),ut.nodeType===3&&(Y+=ut.nodeValue.length),(Xe=ut.firstChild)!==null;)$e=ut,ut=Xe;for(;;){if(ut===s)break t;if($e===h&&++Ve===_&&(he=Y),$e===S&&++rt===m&&(Ne=Y),(Xe=ut.nextSibling)!==null)break;ut=$e,$e=ut.parentNode}ut=Xe}h=he===-1||Ne===-1?null:{start:he,end:Ne}}else h=null}h=h||{start:0,end:0}}else h=null;for(Qb={focusedElem:s,selectionRange:h},Tv=!1,li=l;li!==null;)if(l=li,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,li=s;else for(;li!==null;){switch(l=li,S=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)_=s[h],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&S!==null){s=void 0,h=l,_=S.memoizedProps,S=S.memoizedState,m=h.stateNode;try{var Rt=hf(h.type,_);s=m.getSnapshotBeforeUpdate(Rt,S),m.__reactInternalSnapshotBeforeUpdate=s}catch(Xt){fr(h,h.return,Xt)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,h=s.nodeType,h===9)e2(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":e2(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,li=s;break}li=l.return}}function iT(s,l,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:Xc(s,h),m&4&&Am(5,h);break;case 1:if(Xc(s,h),m&4)if(s=h.stateNode,l===null)try{s.componentDidMount()}catch(Y){fr(h,h.return,Y)}else{var _=hf(h.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(_,l,s.__reactInternalSnapshotBeforeUpdate)}catch(Y){fr(h,h.return,Y)}}m&64&&Zj(h),m&512&&Nm(h,h.return);break;case 3:if(Xc(s,h),m&64&&(s=h.updateQueue,s!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{ga(s,l)}catch(Y){fr(h,h.return,Y)}}break;case 27:l===null&&m&4&&rT(h);case 26:case 5:Xc(s,h),l===null&&m&4&&tT(h),m&512&&Nm(h,h.return);break;case 12:Xc(s,h);break;case 31:Xc(s,h),m&4&&lT(s,h);break;case 13:Xc(s,h),m&4&&cT(s,h),m&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=zq.bind(null,h),oz(s,h))));break;case 22:if(m=h.memoizedState!==null||Kc,!m){l=l!==null&&l.memoizedState!==null||Pa,_=Kc;var S=Pa;Kc=m,(Pa=l)&&!S?Qc(s,h,(h.subtreeFlags&8772)!==0):Xc(s,h),Kc=_,Pa=S}break;case 30:break;default:Xc(s,h)}}function sT(s){var l=s.alternate;l!==null&&(s.alternate=null,sT(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&kn(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Jr=null,Ss=!1;function Yc(s,l,h){for(h=h.child;h!==null;)oT(s,l,h),h=h.sibling}function oT(s,l,h){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Jt,h)}catch{}switch(h.tag){case 26:Pa||ec(h,l),Yc(s,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Pa||ec(h,l);var m=Jr,_=Ss;ed(h.type)&&(Jr=h.stateNode,Ss=!1),Yc(s,l,h),Pm(h.stateNode),Jr=m,Ss=_;break;case 5:Pa||ec(h,l);case 6:if(m=Jr,_=Ss,Jr=null,Yc(s,l,h),Jr=m,Ss=_,Jr!==null)if(Ss)try{(Jr.nodeType===9?Jr.body:Jr.nodeName==="HTML"?Jr.ownerDocument.body:Jr).removeChild(h.stateNode)}catch(S){fr(h,l,S)}else try{Jr.removeChild(h.stateNode)}catch(S){fr(h,l,S)}break;case 18:Jr!==null&&(Ss?(s=Jr,ZT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Rh(s)):ZT(Jr,h.stateNode));break;case 4:m=Jr,_=Ss,Jr=h.stateNode.containerInfo,Ss=!0,Yc(s,l,h),Jr=m,Ss=_;break;case 0:case 11:case 14:case 15:Wu(2,h,l),Pa||Wu(4,h,l),Yc(s,l,h);break;case 1:Pa||(ec(h,l),m=h.stateNode,typeof m.componentWillUnmount=="function"&&eT(h,l,m)),Yc(s,l,h);break;case 21:Yc(s,l,h);break;case 22:Pa=(m=Pa)||h.memoizedState!==null,Yc(s,l,h),Pa=m;break;default:Yc(s,l,h)}}function lT(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Rh(s)}catch(h){fr(l,l.return,h)}}}function cT(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Rh(s)}catch(h){fr(l,l.return,h)}}function Pq(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new aT),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new aT),l;default:throw Error(r(435,s.tag))}}function lv(s,l){var h=Pq(s);l.forEach(function(m){if(!h.has(m)){h.add(m);var _=Vq.bind(null,s,m);m.then(_,_)}})}function Es(s,l){var h=l.deletions;if(h!==null)for(var m=0;m<h.length;m++){var _=h[m],S=s,Y=l,he=Y;e:for(;he!==null;){switch(he.tag){case 27:if(ed(he.type)){Jr=he.stateNode,Ss=!1;break e}break;case 5:Jr=he.stateNode,Ss=!1;break e;case 3:case 4:Jr=he.stateNode.containerInfo,Ss=!0;break e}he=he.return}if(Jr===null)throw Error(r(160));oT(S,Y,_),Jr=null,Ss=!1,S=_.alternate,S!==null&&(S.return=null),_.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)uT(l,s),l=l.sibling}var ll=null;function uT(s,l){var h=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Es(l,s),js(s),m&4&&(Wu(3,s,s.return),Am(3,s),Wu(5,s,s.return));break;case 1:Es(l,s),js(s),m&512&&(Pa||h===null||ec(h,h.return)),m&64&&Kc&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var _=ll;if(Es(l,s),js(s),m&512&&(Pa||h===null||ec(h,h.return)),m&4){var S=h!==null?h.memoizedState:null;if(m=s.memoizedState,h===null)if(m===null)if(s.stateNode===null){e:{m=s.type,h=s.memoizedProps,_=_.ownerDocument||_;t:switch(m){case"title":S=_.getElementsByTagName("title")[0],(!S||S[Cr]||S[zt]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=_.createElement(m),_.head.insertBefore(S,_.querySelector("head > title"))),wi(S,m,h),S[zt]=s,Br(S),m=S;break e;case"link":var Y=u3("link","href",_).get(m+(h.href||""));if(Y){for(var he=0;he<Y.length;he++)if(S=Y[he],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){Y.splice(he,1);break t}}S=_.createElement(m),wi(S,m,h),_.head.appendChild(S);break;case"meta":if(Y=u3("meta","content",_).get(m+(h.content||""))){for(he=0;he<Y.length;he++)if(S=Y[he],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){Y.splice(he,1);break t}}S=_.createElement(m),wi(S,m,h),_.head.appendChild(S);break;default:throw Error(r(468,m))}S[zt]=s,Br(S),m=S}s.stateNode=m}else d3(_,s.type,s.stateNode);else s.stateNode=c3(_,m,s.memoizedProps);else S!==m?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,m===null?d3(_,s.type,s.stateNode):c3(_,m,s.memoizedProps)):m===null&&s.stateNode!==null&&Eb(s,s.memoizedProps,h.memoizedProps)}break;case 27:Es(l,s),js(s),m&512&&(Pa||h===null||ec(h,h.return)),h!==null&&m&4&&Eb(s,s.memoizedProps,h.memoizedProps);break;case 5:if(Es(l,s),js(s),m&512&&(Pa||h===null||ec(h,h.return)),s.flags&32){_=s.stateNode;try{Za(_,"")}catch(Rt){fr(s,s.return,Rt)}}m&4&&s.stateNode!=null&&(_=s.memoizedProps,Eb(s,_,h!==null?h.memoizedProps:_)),m&1024&&(Ob=!0);break;case 6:if(Es(l,s),js(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,h=s.stateNode;try{h.nodeValue=m}catch(Rt){fr(s,s.return,Rt)}}break;case 3:if(Nv=null,_=ll,ll=wv(l.containerInfo),Es(l,s),ll=_,js(s),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Rh(l.containerInfo)}catch(Rt){fr(s,s.return,Rt)}Ob&&(Ob=!1,dT(s));break;case 4:m=ll,ll=wv(s.stateNode.containerInfo),Es(l,s),js(s),ll=m;break;case 12:Es(l,s),js(s);break;case 31:Es(l,s),js(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,lv(s,m)));break;case 13:Es(l,s),js(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(uv=Ge()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,lv(s,m)));break;case 22:_=s.memoizedState!==null;var Ne=h!==null&&h.memoizedState!==null,Ve=Kc,rt=Pa;if(Kc=Ve||_,Pa=rt||Ne,Es(l,s),Pa=rt,Kc=Ve,js(s),m&8192)e:for(l=s.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(h===null||Ne||Kc||Pa||pf(s)),h=null,l=s;;){if(l.tag===5||l.tag===26){if(h===null){Ne=h=l;try{if(S=Ne.stateNode,_)Y=S.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none";else{he=Ne.stateNode;var ut=Ne.memoizedProps.style,$e=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;he.style.display=$e==null||typeof $e=="boolean"?"":(""+$e).trim()}}catch(Rt){fr(Ne,Ne.return,Rt)}}}else if(l.tag===6){if(h===null){Ne=l;try{Ne.stateNode.nodeValue=_?"":Ne.memoizedProps}catch(Rt){fr(Ne,Ne.return,Rt)}}}else if(l.tag===18){if(h===null){Ne=l;try{var Xe=Ne.stateNode;_?e3(Xe,!0):e3(Ne.stateNode,!1)}catch(Rt){fr(Ne,Ne.return,Rt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=s.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,lv(s,h))));break;case 19:Es(l,s),js(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,lv(s,m)));break;case 30:break;case 21:break;default:Es(l,s),js(s)}}function js(s){var l=s.flags;if(l&2){try{for(var h,m=s.return;m!==null;){if(nT(m)){h=m;break}m=m.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var _=h.stateNode,S=jb(s);ov(s,S,_);break;case 5:var Y=h.stateNode;h.flags&32&&(Za(Y,""),h.flags&=-33);var he=jb(s);ov(s,he,Y);break;case 3:case 4:var Ne=h.stateNode.containerInfo,Ve=jb(s);Tb(s,Ve,Ne);break;default:throw Error(r(161))}}catch(rt){fr(s,s.return,rt)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function dT(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;dT(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Xc(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)iT(s,l.alternate,l),l=l.sibling}function pf(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Wu(4,l,l.return),pf(l);break;case 1:ec(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&eT(l,l.return,h),pf(l);break;case 27:Pm(l.stateNode);case 26:case 5:ec(l,l.return),pf(l);break;case 22:l.memoizedState===null&&pf(l);break;case 30:pf(l);break;default:pf(l)}s=s.sibling}}function Qc(s,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,_=s,S=l,Y=S.flags;switch(S.tag){case 0:case 11:case 15:Qc(_,S,h),Am(4,S);break;case 1:if(Qc(_,S,h),m=S,_=m.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Ve){fr(m,m.return,Ve)}if(m=S,_=m.updateQueue,_!==null){var he=m.stateNode;try{var Ne=_.shared.hiddenCallbacks;if(Ne!==null)for(_.shared.hiddenCallbacks=null,_=0;_<Ne.length;_++)Bi(Ne[_],he)}catch(Ve){fr(m,m.return,Ve)}}h&&Y&64&&Zj(S),Nm(S,S.return);break;case 27:rT(S);case 26:case 5:Qc(_,S,h),h&&m===null&&Y&4&&tT(S),Nm(S,S.return);break;case 12:Qc(_,S,h);break;case 31:Qc(_,S,h),h&&Y&4&&lT(_,S);break;case 13:Qc(_,S,h),h&&Y&4&&cT(_,S);break;case 22:S.memoizedState===null&&Qc(_,S,h),Nm(S,S.return);break;case 30:break;default:Qc(_,S,h)}l=l.sibling}}function kb(s,l){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&lf(h))}function Cb(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&lf(s))}function cl(s,l,h,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)fT(s,l,h,m),l=l.sibling}function fT(s,l,h,m){var _=l.flags;switch(l.tag){case 0:case 11:case 15:cl(s,l,h,m),_&2048&&Am(9,l);break;case 1:cl(s,l,h,m);break;case 3:cl(s,l,h,m),_&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&lf(s)));break;case 12:if(_&2048){cl(s,l,h,m),s=l.stateNode;try{var S=l.memoizedProps,Y=S.id,he=S.onPostCommit;typeof he=="function"&&he(Y,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Ne){fr(l,l.return,Ne)}}else cl(s,l,h,m);break;case 31:cl(s,l,h,m);break;case 13:cl(s,l,h,m);break;case 23:break;case 22:S=l.stateNode,Y=l.alternate,l.memoizedState!==null?S._visibility&2?cl(s,l,h,m):Sm(s,l):S._visibility&2?cl(s,l,h,m):(S._visibility|=2,Ah(s,l,h,m,(l.subtreeFlags&10256)!==0||!1)),_&2048&&kb(Y,l);break;case 24:cl(s,l,h,m),_&2048&&Cb(l.alternate,l);break;default:cl(s,l,h,m)}}function Ah(s,l,h,m,_){for(_=_&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var S=s,Y=l,he=h,Ne=m,Ve=Y.flags;switch(Y.tag){case 0:case 11:case 15:Ah(S,Y,he,Ne,_),Am(8,Y);break;case 23:break;case 22:var rt=Y.stateNode;Y.memoizedState!==null?rt._visibility&2?Ah(S,Y,he,Ne,_):Sm(S,Y):(rt._visibility|=2,Ah(S,Y,he,Ne,_)),_&&Ve&2048&&kb(Y.alternate,Y);break;case 24:Ah(S,Y,he,Ne,_),_&&Ve&2048&&Cb(Y.alternate,Y);break;default:Ah(S,Y,he,Ne,_)}l=l.sibling}}function Sm(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=s,m=l,_=m.flags;switch(m.tag){case 22:Sm(h,m),_&2048&&kb(m.alternate,m);break;case 24:Sm(h,m),_&2048&&Cb(m.alternate,m);break;default:Sm(h,m)}l=l.sibling}}var Em=8192;function Nh(s,l,h){if(s.subtreeFlags&Em)for(s=s.child;s!==null;)hT(s,l,h),s=s.sibling}function hT(s,l,h){switch(s.tag){case 26:Nh(s,l,h),s.flags&Em&&s.memoizedState!==null&&xz(h,ll,s.memoizedState,s.memoizedProps);break;case 5:Nh(s,l,h);break;case 3:case 4:var m=ll;ll=wv(s.stateNode.containerInfo),Nh(s,l,h),ll=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=Em,Em=16777216,Nh(s,l,h),Em=m):Nh(s,l,h));break;default:Nh(s,l,h)}}function pT(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function jm(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];li=m,gT(m,s)}pT(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)mT(s),s=s.sibling}function mT(s){switch(s.tag){case 0:case 11:case 15:jm(s),s.flags&2048&&Wu(9,s,s.return);break;case 3:jm(s);break;case 12:jm(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,cv(s)):jm(s);break;default:jm(s)}}function cv(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];li=m,gT(m,s)}pT(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Wu(8,l,l.return),cv(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,cv(l));break;default:cv(l)}s=s.sibling}}function gT(s,l){for(;li!==null;){var h=li;switch(h.tag){case 0:case 11:case 15:Wu(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:lf(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,li=m;else e:for(h=s;li!==null;){m=li;var _=m.sibling,S=m.return;if(sT(m),m===h){li=null;break e}if(_!==null){_.return=S,li=_;break e}li=S}}}var Rq={getCacheForType:function(s){var l=Ha(ea),h=l.data.get(s);return h===void 0&&(h=s(),l.data.set(s,h)),h},cacheSignal:function(){return Ha(ea).controller.signal}},Dq=typeof WeakMap=="function"?WeakMap:Map,rr=0,Ar=null,jn=null,Pn=0,dr=0,Zs=null,Ku=!1,Sh=!1,Ib=!1,Jc=0,la=0,Yu=0,mf=0,Pb=0,eo=0,Eh=0,Tm=null,Ts=null,Rb=!1,uv=0,vT=0,dv=1/0,fv=null,Xu=null,Wa=0,Qu=null,jh=null,Zc=0,Db=0,Lb=null,yT=null,Om=0,Mb=null;function to(){return(rr&2)!==0&&Pn!==0?Pn&-Pn:J.T!==null?Ub():We()}function xT(){if(eo===0)if((Pn&536870912)===0||Sn){var s=jr;jr<<=1,(jr&3932160)===0&&(jr=262144),eo=s}else eo=536870912;return s=ta.current,s!==null&&(s.flags|=32),eo}function Os(s,l,h){(s===Ar&&(dr===2||dr===9)||s.cancelPendingCommit!==null)&&(Th(s,0),Ju(s,Pn,eo,!1)),ma(s,h),((rr&2)===0||s!==Ar)&&(s===Ar&&((rr&2)===0&&(mf|=h),la===4&&Ju(s,Pn,eo,!1)),tc(s))}function bT(s,l,h){if((rr&6)!==0)throw Error(r(327));var m=!h&&(l&127)===0&&(l&s.expiredLanes)===0||gn(s,l),_=m?Bq(s,l):Fb(s,l,!0),S=m;do{if(_===0){Sh&&!m&&Ju(s,l,0,!1);break}else{if(h=s.current.alternate,S&&!Lq(h)){_=Fb(s,l,!1),S=!1;continue}if(_===2){if(S=l,s.errorRecoveryDisabledLanes&S)var Y=0;else Y=s.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){l=Y;e:{var he=s;_=Tm;var Ne=he.current.memoizedState.isDehydrated;if(Ne&&(Th(he,Y).flags|=256),Y=Fb(he,Y,!1),Y!==2){if(Ib&&!Ne){he.errorRecoveryDisabledLanes|=S,mf|=S,_=4;break e}S=Ts,Ts=_,S!==null&&(Ts===null?Ts=S:Ts.push.apply(Ts,S))}_=Y}if(S=!1,_!==2)continue}}if(_===1){Th(s,0),Ju(s,l,0,!0);break}e:{switch(m=s,S=_,S){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ju(m,l,eo,!Ku);break e;case 2:Ts=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(_=uv+300-Ge(),10<_)){if(Ju(m,l,eo,!Ku),It(m,0,!0)!==0)break e;Zc=l,m.timeoutHandle=QT(_T.bind(null,m,h,Ts,fv,Rb,l,eo,mf,Eh,Ku,S,"Throttled",-0,0),_);break e}_T(m,h,Ts,fv,Rb,l,eo,mf,Eh,Ku,S,null,-0,0)}}break}while(!0);tc(s)}function _T(s,l,h,m,_,S,Y,he,Ne,Ve,rt,ut,$e,Xe){if(s.timeoutHandle=-1,ut=l.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},hT(l,S,ut);var Rt=(S&62914560)===S?uv-Ge():(S&4194048)===S?vT-Ge():0;if(Rt=bz(ut,Rt),Rt!==null){Zc=S,s.cancelPendingCommit=Rt(OT.bind(null,s,l,S,h,m,_,Y,he,Ne,rt,ut,null,$e,Xe)),Ju(s,S,Y,!Ve);return}}OT(s,l,S,h,m,_,Y,he,Ne)}function Lq(s){for(var l=s;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var _=h[m],S=_.getSnapshot;_=_.value;try{if(!ni(S(),_))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ju(s,l,h,m){l&=~Pb,l&=~mf,s.suspendedLanes|=l,s.pingedLanes&=~l,m&&(s.warmLanes|=l),m=s.expirationTimes;for(var _=l;0<_;){var S=31-mn(_),Y=1<<S;m[S]=-1,_&=~Y}h!==0&&Aa(s,h,l)}function hv(){return(rr&6)===0?(km(0),!1):!0}function Bb(){if(jn!==null){if(dr===0)var s=jn.return;else s=jn,bo=Gl=null,gh(s),it=null,jt=0,s=jn;for(;s!==null;)Jj(s.alternate,s),s=s.return;jn=null}}function Th(s,l){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,nz(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),Zc=0,Bb(),Ar=s,jn=h=vs(s.current,null),Pn=l,dr=0,Zs=null,Ku=!1,Sh=gn(s,l),Ib=!1,Eh=eo=Pb=mf=Yu=la=0,Ts=Tm=null,Rb=!1,(l&8)!==0&&(l|=l&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=l;0<m;){var _=31-mn(m),S=1<<_;l|=s[_],m&=~S}return Jc=l,Vl(),h}function wT(s,l){an=null,J.H=bm,l===je||l===Be?(l=st(),dr=3):l===Fe?(l=st(),dr=4):dr=l===gb?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Zs=l,jn===null&&(la=1,nv(s,ys(l,s.current)))}function AT(){var s=ta.current;return s===null?!0:(Pn&4194048)===Pn?ka===null:(Pn&62914560)===Pn||(Pn&536870912)!==0?s===ka:!1}function NT(){var s=J.H;return J.H=bm,s===null?bm:s}function ST(){var s=J.A;return J.A=Rq,s}function pv(){la=4,Ku||(Pn&4194048)!==Pn&&ta.current!==null||(Sh=!0),(Yu&134217727)===0&&(mf&134217727)===0||Ar===null||Ju(Ar,Pn,eo,!1)}function Fb(s,l,h){var m=rr;rr|=2;var _=NT(),S=ST();(Ar!==s||Pn!==l)&&(fv=null,Th(s,l)),l=!1;var Y=la;e:do try{if(dr!==0&&jn!==null){var he=jn,Ne=Zs;switch(dr){case 8:Bb(),Y=6;break e;case 3:case 2:case 9:case 6:ta.current===null&&(l=!0);var Ve=dr;if(dr=0,Zs=null,Oh(s,he,Ne,Ve),h&&Sh){Y=0;break e}break;default:Ve=dr,dr=0,Zs=null,Oh(s,he,Ne,Ve)}}Mq(),Y=la;break}catch(rt){wT(s,rt)}while(!0);return l&&s.shellSuspendCounter++,bo=Gl=null,rr=m,J.H=_,J.A=S,jn===null&&(Ar=null,Pn=0,Vl()),Y}function Mq(){for(;jn!==null;)ET(jn)}function Bq(s,l){var h=rr;rr|=2;var m=NT(),_=ST();Ar!==s||Pn!==l?(fv=null,dv=Ge()+500,Th(s,l)):Sh=gn(s,l);e:do try{if(dr!==0&&jn!==null){l=jn;var S=Zs;t:switch(dr){case 1:dr=0,Zs=null,Oh(s,l,S,1);break;case 2:case 9:if(ct(S)){dr=0,Zs=null,jT(l);break}l=function(){dr!==2&&dr!==9||Ar!==s||(dr=7),tc(s)},S.then(l,l);break e;case 3:dr=7;break e;case 4:dr=5;break e;case 7:ct(S)?(dr=0,Zs=null,jT(l)):(dr=0,Zs=null,Oh(s,l,S,7));break;case 5:var Y=null;switch(jn.tag){case 26:Y=jn.memoizedState;case 5:case 27:var he=jn;if(Y?f3(Y):he.stateNode.complete){dr=0,Zs=null;var Ne=he.sibling;if(Ne!==null)jn=Ne;else{var Ve=he.return;Ve!==null?(jn=Ve,mv(Ve)):jn=null}break t}}dr=0,Zs=null,Oh(s,l,S,5);break;case 6:dr=0,Zs=null,Oh(s,l,S,6);break;case 8:Bb(),la=6;break e;default:throw Error(r(462))}}Fq();break}catch(rt){wT(s,rt)}while(!0);return bo=Gl=null,J.H=m,J.A=_,rr=h,jn!==null?0:(Ar=null,Pn=0,Vl(),la)}function Fq(){for(;jn!==null&&!et();)ET(jn)}function ET(s){var l=Xj(s.alternate,s,Jc);s.memoizedProps=s.pendingProps,l===null?mv(s):jn=l}function jT(s){var l=s,h=l.alternate;switch(l.tag){case 15:case 0:l=$j(h,l,l.pendingProps,l.type,void 0,Pn);break;case 11:l=$j(h,l,l.pendingProps,l.type.render,l.ref,Pn);break;case 5:gh(l);default:Jj(h,l),l=jn=af(l,Jc),l=Xj(h,l,Jc)}s.memoizedProps=s.pendingProps,l===null?mv(s):jn=l}function Oh(s,l,h,m){bo=Gl=null,gh(l),it=null,jt=0;var _=l.return;try{if(jq(s,_,l,h,Pn)){la=1,nv(s,ys(h,s.current)),jn=null;return}}catch(S){if(_!==null)throw jn=_,S;la=1,nv(s,ys(h,s.current)),jn=null;return}l.flags&32768?(Sn||m===1?s=!0:Sh||(Pn&536870912)!==0?s=!1:(Ku=s=!0,(m===2||m===9||m===3||m===6)&&(m=ta.current,m!==null&&m.tag===13&&(m.flags|=16384))),TT(l,s)):mv(l)}function mv(s){var l=s;do{if((l.flags&32768)!==0){TT(l,Ku);return}s=l.return;var h=kq(l.alternate,l,Jc);if(h!==null){jn=h;return}if(l=l.sibling,l!==null){jn=l;return}jn=l=s}while(l!==null);la===0&&(la=5)}function TT(s,l){do{var h=Cq(s.alternate,s);if(h!==null){h.flags&=32767,jn=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(s=s.sibling,s!==null)){jn=s;return}jn=s=h}while(s!==null);la=6,jn=null}function OT(s,l,h,m,_,S,Y,he,Ne){s.cancelPendingCommit=null;do gv();while(Wa!==0);if((rr&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(S=l.lanes|l.childLanes,S|=Qs,Ot(s,h,S,Y,he,Ne),s===Ar&&(jn=Ar=null,Pn=0),jh=l,Qu=s,Zc=h,Db=S,Lb=_,yT=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Uq(Bt,function(){return RT(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=J.T,J.T=null,_=Z.p,Z.p=2,Y=rr,rr|=4;try{Iq(s,l,h)}finally{rr=Y,Z.p=_,J.T=m}}Wa=1,kT(),CT(),IT()}}function kT(){if(Wa===1){Wa=0;var s=Qu,l=jh,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=J.T,J.T=null;var m=Z.p;Z.p=2;var _=rr;rr|=4;try{uT(l,s);var S=Qb,Y=Qo(s.containerInfo),he=S.focusedElem,Ne=S.selectionRange;if(Y!==he&&he&&he.ownerDocument&&ri(he.ownerDocument.documentElement,he)){if(Ne!==null&&Ws(he)){var Ve=Ne.start,rt=Ne.end;if(rt===void 0&&(rt=Ve),"selectionStart"in he)he.selectionStart=Ve,he.selectionEnd=Math.min(rt,he.value.length);else{var ut=he.ownerDocument||document,$e=ut&&ut.defaultView||window;if($e.getSelection){var Xe=$e.getSelection(),Rt=he.textContent.length,Xt=Math.min(Ne.start,Rt),vr=Ne.end===void 0?Xt:Math.min(Ne.end,Rt);!Xe.extend&&Xt>vr&&(Y=vr,vr=Xt,Xt=Y);var De=xi(he,Xt),Oe=xi(he,vr);if(De&&Oe&&(Xe.rangeCount!==1||Xe.anchorNode!==De.node||Xe.anchorOffset!==De.offset||Xe.focusNode!==Oe.node||Xe.focusOffset!==Oe.offset)){var ze=ut.createRange();ze.setStart(De.node,De.offset),Xe.removeAllRanges(),Xt>vr?(Xe.addRange(ze),Xe.extend(Oe.node,Oe.offset)):(ze.setEnd(Oe.node,Oe.offset),Xe.addRange(ze))}}}}for(ut=[],Xe=he;Xe=Xe.parentNode;)Xe.nodeType===1&&ut.push({element:Xe,left:Xe.scrollLeft,top:Xe.scrollTop});for(typeof he.focus=="function"&&he.focus(),he=0;he<ut.length;he++){var ot=ut[he];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}Tv=!!Xb,Qb=Xb=null}finally{rr=_,Z.p=m,J.T=h}}s.current=l,Wa=2}}function CT(){if(Wa===2){Wa=0;var s=Qu,l=jh,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=J.T,J.T=null;var m=Z.p;Z.p=2;var _=rr;rr|=4;try{iT(s,l.alternate,l)}finally{rr=_,Z.p=m,J.T=h}}Wa=3}}function IT(){if(Wa===4||Wa===3){Wa=0,tt();var s=Qu,l=jh,h=Zc,m=yT;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Wa=5:(Wa=0,jh=Qu=null,PT(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(Xu=null),ue(h),l=l.stateNode,er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Jt,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=J.T,_=Z.p,Z.p=2,J.T=null;try{for(var S=s.onRecoverableError,Y=0;Y<m.length;Y++){var he=m[Y];S(he.value,{componentStack:he.stack})}}finally{J.T=l,Z.p=_}}(Zc&3)!==0&&gv(),tc(s),_=s.pendingLanes,(h&261930)!==0&&(_&42)!==0?s===Mb?Om++:(Om=0,Mb=s):Om=0,km(0)}}function PT(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,lf(l)))}function gv(){return kT(),CT(),IT(),RT()}function RT(){if(Wa!==5)return!1;var s=Qu,l=Db;Db=0;var h=ue(Zc),m=J.T,_=Z.p;try{Z.p=32>h?32:h,J.T=null,h=Lb,Lb=null;var S=Qu,Y=Zc;if(Wa=0,jh=Qu=null,Zc=0,(rr&6)!==0)throw Error(r(331));var he=rr;if(rr|=4,mT(S.current),fT(S,S.current,Y,h),rr=he,km(0,!1),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Jt,S)}catch{}return!0}finally{Z.p=_,J.T=m,PT(s,l)}}function DT(s,l,h){l=ys(h,l),l=mb(s.stateNode,l,2),s=ur(s,l,2),s!==null&&(ma(s,2),tc(s))}function fr(s,l,h){if(s.tag===3)DT(s,s,h);else for(;l!==null;){if(l.tag===3){DT(l,s,h);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Xu===null||!Xu.has(m))){s=ys(h,s),h=Lj(2),m=ur(l,h,2),m!==null&&(Mj(h,m,l,s),ma(m,2),tc(m));break}}l=l.return}}function qb(s,l,h){var m=s.pingCache;if(m===null){m=s.pingCache=new Dq;var _=new Set;m.set(l,_)}else _=m.get(l),_===void 0&&(_=new Set,m.set(l,_));_.has(h)||(Ib=!0,_.add(h),s=qq.bind(null,s,l,h),l.then(s,s))}function qq(s,l,h){var m=s.pingCache;m!==null&&m.delete(l),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,Ar===s&&(Pn&h)===h&&(la===4||la===3&&(Pn&62914560)===Pn&&300>Ge()-uv?(rr&2)===0&&Th(s,0):Pb|=h,Eh===Pn&&(Eh=0)),tc(s)}function LT(s,l){l===0&&(l=Tr()),s=tl(s,l),s!==null&&(ma(s,l),tc(s))}function zq(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),LT(s,h)}function Vq(s,l){var h=0;switch(s.tag){case 31:case 13:var m=s.stateNode,_=s.memoizedState;_!==null&&(h=_.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),LT(s,h)}function Uq(s,l){return Ue(s,l)}var vv=null,kh=null,zb=!1,yv=!1,Vb=!1,Zu=0;function tc(s){s!==kh&&s.next===null&&(kh===null?vv=kh=s:kh=kh.next=s),yv=!0,zb||(zb=!0,Hq())}function km(s,l){if(!Vb&&yv){Vb=!0;do for(var h=!1,m=vv;m!==null;){if(s!==0){var _=m.pendingLanes;if(_===0)var S=0;else{var Y=m.suspendedLanes,he=m.pingedLanes;S=(1<<31-mn(42|s)+1)-1,S&=_&~(Y&~he),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,qT(m,S))}else S=Pn,S=It(m,m===Ar?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||gn(m,S)||(h=!0,qT(m,S));m=m.next}while(h);Vb=!1}}function $q(){MT()}function MT(){yv=zb=!1;var s=0;Zu!==0&&tz()&&(s=Zu);for(var l=Ge(),h=null,m=vv;m!==null;){var _=m.next,S=BT(m,l);S===0?(m.next=null,h===null?vv=_:h.next=_,_===null&&(kh=h)):(h=m,(s!==0||(S&3)!==0)&&(yv=!0)),m=_}Wa!==0&&Wa!==5||km(s),Zu!==0&&(Zu=0)}function BT(s,l){for(var h=s.suspendedLanes,m=s.pingedLanes,_=s.expirationTimes,S=s.pendingLanes&-62914561;0<S;){var Y=31-mn(S),he=1<<Y,Ne=_[Y];Ne===-1?((he&h)===0||(he&m)!==0)&&(_[Y]=pa(he,l)):Ne<=l&&(s.expiredLanes|=he),S&=~he}if(l=Ar,h=Pn,h=It(s,s===l?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,h===0||s===l&&(dr===2||dr===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&Ke(m),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||gn(s,h)){if(l=h&-h,l===s.callbackPriority)return l;switch(m!==null&&Ke(m),ue(h)){case 2:case 8:h=_t;break;case 32:h=Bt;break;case 268435456:h=Vt;break;default:h=Bt}return m=FT.bind(null,s),h=Ue(h,m),s.callbackPriority=l,s.callbackNode=h,l}return m!==null&&m!==null&&Ke(m),s.callbackPriority=2,s.callbackNode=null,2}function FT(s,l){if(Wa!==0&&Wa!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(gv()&&s.callbackNode!==h)return null;var m=Pn;return m=It(s,s===Ar?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(bT(s,m,l),BT(s,Ge()),s.callbackNode!=null&&s.callbackNode===h?FT.bind(null,s):null)}function qT(s,l){if(gv())return null;bT(s,l,!0)}function Hq(){rz(function(){(rr&6)!==0?Ue(vt,$q):MT()})}function Ub(){if(Zu===0){var s=v;s===0&&(s=Bn,Bn<<=1,(Bn&261888)===0&&(Bn=256)),Zu=s}return Zu}function zT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ns(""+s)}function VT(s,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,s.id&&h.setAttribute("form",s.id),l.parentNode.insertBefore(h,l),s=new FormData(s),h.parentNode.removeChild(h),s}function Gq(s,l,h,m,_){if(l==="submit"&&h&&h.stateNode===_){var S=zT((_[Ft]||null).action),Y=m.submitter;Y&&(l=(l=Y[Ft]||null)?zT(l.formAction):Y.getAttribute("formAction"),l!==null&&(S=l,Y=null));var he=new mo("action","action",null,m,_);s.push({event:he,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Zu!==0){var Ne=Y?VT(_,Y):new FormData(_);cb(h,{pending:!0,data:Ne,method:_.method,action:S},null,Ne)}}else typeof S=="function"&&(he.preventDefault(),Ne=Y?VT(_,Y):new FormData(_),cb(h,{pending:!0,data:Ne,method:_.method,action:S},S,Ne))},currentTarget:_}]})}}for(var $b=0;$b<Mi.length;$b++){var Hb=Mi[$b],Wq=Hb.toLowerCase(),Kq=Hb[0].toUpperCase()+Hb.slice(1);Nn(Wq,"on"+Kq)}Nn(Fl,"onAnimationEnd"),Nn(Zo,"onAnimationIteration"),Nn(ql,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Ru,"onTransitionRun"),Nn(Mc,"onTransitionStart"),Nn(zl,"onTransitionCancel"),Nn(Du,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cm));function UT(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var m=s[h],_=m.event;m=m.listeners;e:{var S=void 0;if(l)for(var Y=m.length-1;0<=Y;Y--){var he=m[Y],Ne=he.instance,Ve=he.currentTarget;if(he=he.listener,Ne!==S&&_.isPropagationStopped())break e;S=he,_.currentTarget=Ve;try{S(_)}catch(rt){tr(rt)}_.currentTarget=null,S=Ne}else for(Y=0;Y<m.length;Y++){if(he=m[Y],Ne=he.instance,Ve=he.currentTarget,he=he.listener,Ne!==S&&_.isPropagationStopped())break e;S=he,_.currentTarget=Ve;try{S(_)}catch(rt){tr(rt)}_.currentTarget=null,S=Ne}}}}function Tn(s,l){var h=l[Me];h===void 0&&(h=l[Me]=new Set);var m=s+"__bubble";h.has(m)||($T(l,s,2,!1),h.add(m))}function Gb(s,l,h){var m=0;l&&(m|=4),$T(h,s,m,l)}var xv="_reactListening"+Math.random().toString(36).slice(2);function Wb(s){if(!s[xv]){s[xv]=!0,Ms.forEach(function(h){h!=="selectionchange"&&(Yq.has(h)||Gb(h,!1,s),Gb(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[xv]||(l[xv]=!0,Gb("selectionchange",!1,l))}}function $T(s,l,h,m){switch(x3(l)){case 2:var _=Az;break;case 8:_=Nz;break;default:_=l2}h=_.bind(null,l,h,s),_=void 0,!$o||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),m?_!==void 0?s.addEventListener(l,h,{capture:!0,passive:_}):s.addEventListener(l,h,!0):_!==void 0?s.addEventListener(l,h,{passive:_}):s.addEventListener(l,h,!1)}function Kb(s,l,h,m,_){var S=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var Y=m.tag;if(Y===3||Y===4){var he=m.stateNode.containerInfo;if(he===_)break;if(Y===4)for(Y=m.return;Y!==null;){var Ne=Y.tag;if((Ne===3||Ne===4)&&Y.stateNode.containerInfo===_)return;Y=Y.return}for(;he!==null;){if(Y=Ir(he),Y===null)return;if(Ne=Y.tag,Ne===5||Ne===6||Ne===26||Ne===27){m=S=Y;continue e}he=he.parentNode}}m=m.return}Ic(function(){var Ve=S,rt=Uo(h),ut=[];e:{var $e=is.get(s);if($e!==void 0){var Xe=mo,Rt=s;switch(s){case"keypress":if(Ri(h)===0)break e;case"keydown":case"keyup":Xe=Dl;break;case"focusin":Rt="focus",Xe=go;break;case"focusout":Rt="blur",Xe=go;break;case"beforeblur":case"afterblur":Xe=go;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=Us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=kl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=te;break;case Fl:case Zo:case ql:Xe=Cl;break;case Du:Xe=Ee;break;case"scroll":case"scrollend":Xe=Pc;break;case"wheel":Xe=Ze;break;case"copy":case"cut":case"paste":Xe=Il;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=Ko;break;case"toggle":case"beforetoggle":Xe=St}var Xt=(l&4)!==0,vr=!Xt&&(s==="scroll"||s==="scrollend"),De=Xt?$e!==null?$e+"Capture":null:$e;Xt=[];for(var Oe=Ve,ze;Oe!==null;){var ot=Oe;if(ze=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||ze===null||De===null||(ot=qa(Oe,De),ot!=null&&Xt.push(Im(Oe,ot,ze))),vr)break;Oe=Oe.return}0<Xt.length&&($e=new Xe($e,Rt,null,h,rt),ut.push({event:$e,listeners:Xt}))}}if((l&7)===0){e:{if($e=s==="mouseover"||s==="pointerover",Xe=s==="mouseout"||s==="pointerout",$e&&h!==Tl&&(Rt=h.relatedTarget||h.fromElement)&&(Ir(Rt)||Rt[Zt]))break e;if((Xe||$e)&&($e=rt.window===rt?rt:($e=rt.ownerDocument)?$e.defaultView||$e.parentWindow:window,Xe?(Rt=h.relatedTarget||h.toElement,Xe=Ve,Rt=Rt?Ir(Rt):null,Rt!==null&&(vr=i(Rt),Xt=Rt.tag,Rt!==vr||Xt!==5&&Xt!==27&&Xt!==6)&&(Rt=null)):(Xe=null,Rt=Ve),Xe!==Rt)){if(Xt=Us,ot="onMouseLeave",De="onMouseEnter",Oe="mouse",(s==="pointerout"||s==="pointerover")&&(Xt=Ko,ot="onPointerLeave",De="onPointerEnter",Oe="pointer"),vr=Xe==null?$e:Oi(Xe),ze=Rt==null?$e:Oi(Rt),$e=new Xt(ot,Oe+"leave",Xe,h,rt),$e.target=vr,$e.relatedTarget=ze,ot=null,Ir(rt)===Ve&&(Xt=new Xt(De,Oe+"enter",Rt,h,rt),Xt.target=ze,Xt.relatedTarget=vr,ot=Xt),vr=ot,Xe&&Rt)t:{for(Xt=Xq,De=Xe,Oe=Rt,ze=0,ot=De;ot;ot=Xt(ot))ze++;ot=0;for(var $t=Oe;$t;$t=Xt($t))ot++;for(;0<ze-ot;)De=Xt(De),ze--;for(;0<ot-ze;)Oe=Xt(Oe),ot--;for(;ze--;){if(De===Oe||Oe!==null&&De===Oe.alternate){Xt=De;break t}De=Xt(De),Oe=Xt(Oe)}Xt=null}else Xt=null;Xe!==null&&HT(ut,$e,Xe,Xt,!1),Rt!==null&&vr!==null&&HT(ut,vr,Rt,Xt,!0)}}e:{if($e=Ve?Oi(Ve):window,Xe=$e.nodeName&&$e.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&$e.type==="file")var Yn=Ea;else if(Sa($e))if(Dc)Yn=Cu;else{Yn=nh;var Lt=nf}else Xe=$e.nodeName,!Xe||Xe.toLowerCase()!=="input"||$e.type!=="checkbox"&&$e.type!=="radio"?Ve&&ts(Ve.elementType)&&(Yn=Ea):Yn=ms;if(Yn&&(Yn=Yn(s,Ve))){Gs(ut,Yn,h,rt);break e}Lt&&Lt(s,$e,Ve),s==="focusout"&&Ve&&$e.type==="number"&&Ve.memoizedProps.value!=null&&Vo($e,"number",$e.value)}switch(Lt=Ve?Oi(Ve):window,s){case"focusin":(Sa(Lt)||Lt.contentEditable==="true")&&(Ks=Lt,Ys=Ve,br=null);break;case"focusout":br=Ys=Ks=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,ai(ut,h,rt);break;case"selectionchange":if(Jo)break;case"keydown":case"keyup":ai(ut,h,rt)}var vn;if(z)e:{switch(s){case"compositionstart":var Rn="onCompositionStart";break e;case"compositionend":Rn="onCompositionEnd";break e;case"compositionupdate":Rn="onCompositionUpdate";break e}Rn=void 0}else Kt?rn(s,h)&&(Rn="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Rn="onCompositionStart");Rn&&(Ie&&h.locale!=="ko"&&(Kt||Rn!=="onCompositionStart"?Rn==="onCompositionEnd"&&Kt&&(vn=Pi()):(gi=rt,Ol="value"in gi?gi.value:gi.textContent,Kt=!0)),Lt=bv(Ve,Rn),0<Lt.length&&(Rn=new yo(Rn,s,null,h,rt),ut.push({event:Rn,listeners:Lt}),vn?Rn.data=vn:(vn=_n(h),vn!==null&&(Rn.data=vn)))),(vn=fe?Wn(s,h):cr(s,h))&&(Rn=bv(Ve,"onBeforeInput"),0<Rn.length&&(Lt=new yo("onBeforeInput","beforeinput",null,h,rt),ut.push({event:Lt,listeners:Rn}),Lt.data=vn)),Gq(ut,s,Ve,h,rt)}UT(ut,l)})}function Im(s,l,h){return{instance:s,listener:l,currentTarget:h}}function bv(s,l){for(var h=l+"Capture",m=[];s!==null;){var _=s,S=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||S===null||(_=qa(s,h),_!=null&&m.unshift(Im(s,_,S)),_=qa(s,l),_!=null&&m.push(Im(s,_,S))),s.tag===3)return m;s=s.return}return[]}function Xq(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function HT(s,l,h,m,_){for(var S=l._reactName,Y=[];h!==null&&h!==m;){var he=h,Ne=he.alternate,Ve=he.stateNode;if(he=he.tag,Ne!==null&&Ne===m)break;he!==5&&he!==26&&he!==27||Ve===null||(Ne=Ve,_?(Ve=qa(h,S),Ve!=null&&Y.unshift(Im(h,Ve,Ne))):_||(Ve=qa(h,S),Ve!=null&&Y.push(Im(h,Ve,Ne)))),h=h.return}Y.length!==0&&s.push({event:l,listeners:Y})}var Qq=/\r\n?/g,Jq=/\u0000|\uFFFD/g;function GT(s){return(typeof s=="string"?s:""+s).replace(Qq,`
`).replace(Jq,"")}function WT(s,l){return l=GT(l),GT(s)===l}function gr(s,l,h,m,_,S){switch(h){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Za(s,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Za(s,""+m);break;case"className":ir(s,"class",m);break;case"tabIndex":ir(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(s,h,m);break;case"style":ju(s,m,S);break;case"data":if(l!=="object"){ir(s,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||h!=="href")){s.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(h);break}m=ns(""+m),s.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(l!=="input"&&gr(s,l,"name",_.name,_,null),gr(s,l,"formEncType",_.formEncType,_,null),gr(s,l,"formMethod",_.formMethod,_,null),gr(s,l,"formTarget",_.formTarget,_,null)):(gr(s,l,"encType",_.encType,_,null),gr(s,l,"method",_.method,_,null),gr(s,l,"target",_.target,_,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(h);break}m=ns(""+m),s.setAttribute(h,m);break;case"onClick":m!=null&&(s.onclick=Fn);break;case"onScroll":m!=null&&Tn("scroll",s);break;case"onScrollEnd":m!=null&&Tn("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}h=ns(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(h,""+m):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":m===!0?s.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(h,m):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(h,m):s.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(h):s.setAttribute(h,m);break;case"popover":Tn("beforetoggle",s),Tn("toggle",s),uo(s,"popover",m);break;case"xlinkActuate":hi(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":hi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":hi(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":hi(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":hi(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":hi(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":hi(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":hi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":hi(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":uo(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=El.get(h)||h,uo(s,h,m))}}function Yb(s,l,h,m,_,S){switch(h){case"style":ju(s,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof m=="string"?Za(s,m):(typeof m=="number"||typeof m=="bigint")&&Za(s,""+m);break;case"onScroll":m!=null&&Tn("scroll",s);break;case"onScrollEnd":m!=null&&Tn("scrollend",s);break;case"onClick":m!=null&&(s.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bs.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),l=h.slice(2,_?h.length-7:void 0),S=s[Ft]||null,S=S!=null?S[h]:null,typeof S=="function"&&s.removeEventListener(l,S,_),typeof m=="function")){typeof S!="function"&&S!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(l,m,_);break e}h in s?s[h]=m:m===!0?s.setAttribute(h,""):uo(s,h,m)}}}function wi(s,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tn("error",s),Tn("load",s);var m=!1,_=!1,S;for(S in h)if(h.hasOwnProperty(S)){var Y=h[S];if(Y!=null)switch(S){case"src":m=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:gr(s,l,S,Y,h,null)}}_&&gr(s,l,"srcSet",h.srcSet,h,null),m&&gr(s,l,"src",h.src,h,null);return;case"input":Tn("invalid",s);var he=S=Y=_=null,Ne=null,Ve=null;for(m in h)if(h.hasOwnProperty(m)){var rt=h[m];if(rt!=null)switch(m){case"name":_=rt;break;case"type":Y=rt;break;case"checked":Ne=rt;break;case"defaultChecked":Ve=rt;break;case"value":S=rt;break;case"defaultValue":he=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,l));break;default:gr(s,l,m,rt,h,null)}}zo(s,S,he,Ne,Ve,Y,_,!1);return;case"select":Tn("invalid",s),m=Y=S=null;for(_ in h)if(h.hasOwnProperty(_)&&(he=h[_],he!=null))switch(_){case"value":S=he;break;case"defaultValue":Y=he;break;case"multiple":m=he;default:gr(s,l,_,he,h,null)}l=S,h=Y,s.multiple=!!m,l!=null?Cn(s,!!m,l,!1):h!=null&&Cn(s,!!m,h,!0);return;case"textarea":Tn("invalid",s),S=_=m=null;for(Y in h)if(h.hasOwnProperty(Y)&&(he=h[Y],he!=null))switch(Y){case"value":m=he;break;case"defaultValue":_=he;break;case"children":S=he;break;case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(91));break;default:gr(s,l,Y,he,h,null)}ho(s,m,_,S);return;case"option":for(Ne in h)if(h.hasOwnProperty(Ne)&&(m=h[Ne],m!=null))switch(Ne){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:gr(s,l,Ne,m,h,null)}return;case"dialog":Tn("beforetoggle",s),Tn("toggle",s),Tn("cancel",s),Tn("close",s);break;case"iframe":case"object":Tn("load",s);break;case"video":case"audio":for(m=0;m<Cm.length;m++)Tn(Cm[m],s);break;case"image":Tn("error",s),Tn("load",s);break;case"details":Tn("toggle",s);break;case"embed":case"source":case"link":Tn("error",s),Tn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ve in h)if(h.hasOwnProperty(Ve)&&(m=h[Ve],m!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:gr(s,l,Ve,m,h,null)}return;default:if(ts(l)){for(rt in h)h.hasOwnProperty(rt)&&(m=h[rt],m!==void 0&&Yb(s,l,rt,m,h,void 0));return}}for(he in h)h.hasOwnProperty(he)&&(m=h[he],m!=null&&gr(s,l,he,m,h,null))}function Zq(s,l,h,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,S=null,Y=null,he=null,Ne=null,Ve=null,rt=null;for(Xe in h){var ut=h[Xe];if(h.hasOwnProperty(Xe)&&ut!=null)switch(Xe){case"checked":break;case"value":break;case"defaultValue":Ne=ut;default:m.hasOwnProperty(Xe)||gr(s,l,Xe,null,m,ut)}}for(var $e in m){var Xe=m[$e];if(ut=h[$e],m.hasOwnProperty($e)&&(Xe!=null||ut!=null))switch($e){case"type":S=Xe;break;case"name":_=Xe;break;case"checked":Ve=Xe;break;case"defaultChecked":rt=Xe;break;case"value":Y=Xe;break;case"defaultValue":he=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(r(137,l));break;default:Xe!==ut&&gr(s,l,$e,Xe,m,ut)}}qs(s,Y,he,Ne,Ve,rt,S,_);return;case"select":Xe=Y=he=$e=null;for(S in h)if(Ne=h[S],h.hasOwnProperty(S)&&Ne!=null)switch(S){case"value":break;case"multiple":Xe=Ne;default:m.hasOwnProperty(S)||gr(s,l,S,null,m,Ne)}for(_ in m)if(S=m[_],Ne=h[_],m.hasOwnProperty(_)&&(S!=null||Ne!=null))switch(_){case"value":$e=S;break;case"defaultValue":he=S;break;case"multiple":Y=S;default:S!==Ne&&gr(s,l,_,S,m,Ne)}l=he,h=Y,m=Xe,$e!=null?Cn(s,!!h,$e,!1):!!m!=!!h&&(l!=null?Cn(s,!!h,l,!0):Cn(s,!!h,h?[]:"",!1));return;case"textarea":Xe=$e=null;for(he in h)if(_=h[he],h.hasOwnProperty(he)&&_!=null&&!m.hasOwnProperty(he))switch(he){case"value":break;case"children":break;default:gr(s,l,he,null,m,_)}for(Y in m)if(_=m[Y],S=h[Y],m.hasOwnProperty(Y)&&(_!=null||S!=null))switch(Y){case"value":$e=_;break;case"defaultValue":Xe=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==S&&gr(s,l,Y,_,m,S)}fo(s,$e,Xe);return;case"option":for(var Rt in h)if($e=h[Rt],h.hasOwnProperty(Rt)&&$e!=null&&!m.hasOwnProperty(Rt))switch(Rt){case"selected":s.selected=!1;break;default:gr(s,l,Rt,null,m,$e)}for(Ne in m)if($e=m[Ne],Xe=h[Ne],m.hasOwnProperty(Ne)&&$e!==Xe&&($e!=null||Xe!=null))switch(Ne){case"selected":s.selected=$e&&typeof $e!="function"&&typeof $e!="symbol";break;default:gr(s,l,Ne,$e,m,Xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xt in h)$e=h[Xt],h.hasOwnProperty(Xt)&&$e!=null&&!m.hasOwnProperty(Xt)&&gr(s,l,Xt,null,m,$e);for(Ve in m)if($e=m[Ve],Xe=h[Ve],m.hasOwnProperty(Ve)&&$e!==Xe&&($e!=null||Xe!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(r(137,l));break;default:gr(s,l,Ve,$e,m,Xe)}return;default:if(ts(l)){for(var vr in h)$e=h[vr],h.hasOwnProperty(vr)&&$e!==void 0&&!m.hasOwnProperty(vr)&&Yb(s,l,vr,void 0,m,$e);for(rt in m)$e=m[rt],Xe=h[rt],!m.hasOwnProperty(rt)||$e===Xe||$e===void 0&&Xe===void 0||Yb(s,l,rt,$e,m,Xe);return}}for(var De in h)$e=h[De],h.hasOwnProperty(De)&&$e!=null&&!m.hasOwnProperty(De)&&gr(s,l,De,null,m,$e);for(ut in m)$e=m[ut],Xe=h[ut],!m.hasOwnProperty(ut)||$e===Xe||$e==null&&Xe==null||gr(s,l,ut,$e,m,Xe)}function KT(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ez(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,h=performance.getEntriesByType("resource"),m=0;m<h.length;m++){var _=h[m],S=_.transferSize,Y=_.initiatorType,he=_.duration;if(S&&he&&KT(Y)){for(Y=0,he=_.responseEnd,m+=1;m<h.length;m++){var Ne=h[m],Ve=Ne.startTime;if(Ve>he)break;var rt=Ne.transferSize,ut=Ne.initiatorType;rt&&KT(ut)&&(Ne=Ne.responseEnd,Y+=rt*(Ne<he?1:(he-Ve)/(Ne-Ve)))}if(--m,l+=8*(S+Y)/(_.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Xb=null,Qb=null;function _v(s){return s.nodeType===9?s:s.ownerDocument}function YT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XT(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function Jb(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Zb=null;function tz(){var s=window.event;return s&&s.type==="popstate"?s===Zb?!1:(Zb=s,!0):(Zb=null,!1)}var QT=typeof setTimeout=="function"?setTimeout:void 0,nz=typeof clearTimeout=="function"?clearTimeout:void 0,JT=typeof Promise=="function"?Promise:void 0,rz=typeof queueMicrotask=="function"?queueMicrotask:typeof JT<"u"?function(s){return JT.resolve(null).then(s).catch(az)}:QT;function az(s){setTimeout(function(){throw s})}function ed(s){return s==="head"}function ZT(s,l){var h=l,m=0;do{var _=h.nextSibling;if(s.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"||h==="/&"){if(m===0){s.removeChild(_),Rh(l);return}m--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")m++;else if(h==="html")Pm(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,Pm(h);for(var S=h.firstChild;S;){var Y=S.nextSibling,he=S.nodeName;S[Cr]||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&S.rel.toLowerCase()==="stylesheet"||h.removeChild(S),S=Y}}else h==="body"&&Pm(s.ownerDocument.body);h=_}while(h);Rh(l)}function e3(s,l){var h=s;s=0;do{var m=h.nextSibling;if(h.nodeType===1?l?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(l?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),m&&m.nodeType===8)if(h=m.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=m}while(h)}function e2(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":e2(h),kn(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function iz(s,l,h,m){for(;s.nodeType===1;){var _=h;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[Cr])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(S=s.getAttribute("rel"),S==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(S!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(S=s.getAttribute("src"),(S!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&S&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var S=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===S)return s}else return s;if(s=Eo(s.nextSibling),s===null)break}return null}function sz(s,l,h){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Eo(s.nextSibling),s===null))return null;return s}function t3(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Eo(s.nextSibling),s===null))return null;return s}function t2(s){return s.data==="$?"||s.data==="$~"}function n2(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function oz(s,l){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||h.readyState!=="loading")l();else{var m=function(){l(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function Eo(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var r2=null;function n3(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(l===0)return Eo(s.nextSibling);l--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||l++}s=s.nextSibling}return null}function r3(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(l===0)return s;l--}else h!=="/$"&&h!=="/&"||l++}s=s.previousSibling}return null}function a3(s,l,h){switch(l=_v(h),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Pm(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);kn(s)}var jo=new Map,i3=new Set;function wv(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var eu=Z.d;Z.d={f:lz,r:cz,D:uz,C:dz,L:fz,m:hz,X:mz,S:pz,M:gz};function lz(){var s=eu.f(),l=hv();return s||l}function cz(s){var l=zn(s);l!==null&&l.tag===5&&l.type==="form"?wj(l):eu.r(s)}var Ch=typeof document>"u"?null:document;function s3(s,l,h){var m=Ch;if(m&&typeof l=="string"&&l){var _=pr(l);_='link[rel="'+s+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),i3.has(_)||(i3.add(_),s={rel:s,crossOrigin:h,href:l},m.querySelector(_)===null&&(l=m.createElement("link"),wi(l,"link",s),Br(l),m.head.appendChild(l)))}}function uz(s){eu.D(s),s3("dns-prefetch",s,null)}function dz(s,l){eu.C(s,l),s3("preconnect",s,l)}function fz(s,l,h){eu.L(s,l,h);var m=Ch;if(m&&s&&l){var _='link[rel="preload"][as="'+pr(l)+'"]';l==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+pr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+pr(h.imageSizes)+'"]')):_+='[href="'+pr(s)+'"]';var S=_;switch(l){case"style":S=Ih(s);break;case"script":S=Ph(s)}jo.has(S)||(s=g({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:s,as:l},h),jo.set(S,s),m.querySelector(_)!==null||l==="style"&&m.querySelector(Rm(S))||l==="script"&&m.querySelector(Dm(S))||(l=m.createElement("link"),wi(l,"link",s),Br(l),m.head.appendChild(l)))}}function hz(s,l){eu.m(s,l);var h=Ch;if(h&&s){var m=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+pr(m)+'"][href="'+pr(s)+'"]',S=_;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Ph(s)}if(!jo.has(S)&&(s=g({rel:"modulepreload",href:s},l),jo.set(S,s),h.querySelector(_)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Dm(S)))return}m=h.createElement("link"),wi(m,"link",s),Br(m),h.head.appendChild(m)}}}function pz(s,l,h){eu.S(s,l,h);var m=Ch;if(m&&s){var _=es(m).hoistableStyles,S=Ih(s);l=l||"default";var Y=_.get(S);if(!Y){var he={loading:0,preload:null};if(Y=m.querySelector(Rm(S)))he.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":l},h),(h=jo.get(S))&&a2(s,h);var Ne=Y=m.createElement("link");Br(Ne),wi(Ne,"link",s),Ne._p=new Promise(function(Ve,rt){Ne.onload=Ve,Ne.onerror=rt}),Ne.addEventListener("load",function(){he.loading|=1}),Ne.addEventListener("error",function(){he.loading|=2}),he.loading|=4,Av(Y,l,m)}Y={type:"stylesheet",instance:Y,count:1,state:he},_.set(S,Y)}}}function mz(s,l){eu.X(s,l);var h=Ch;if(h&&s){var m=es(h).hoistableScripts,_=Ph(s),S=m.get(_);S||(S=h.querySelector(Dm(_)),S||(s=g({src:s,async:!0},l),(l=jo.get(_))&&i2(s,l),S=h.createElement("script"),Br(S),wi(S,"link",s),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(_,S))}}function gz(s,l){eu.M(s,l);var h=Ch;if(h&&s){var m=es(h).hoistableScripts,_=Ph(s),S=m.get(_);S||(S=h.querySelector(Dm(_)),S||(s=g({src:s,async:!0,type:"module"},l),(l=jo.get(_))&&i2(s,l),S=h.createElement("script"),Br(S),wi(S,"link",s),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(_,S))}}function o3(s,l,h,m){var _=(_=X.current)?wv(_):null;if(!_)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Ih(h.href),h=es(_).hoistableStyles,m=h.get(l),m||(m={type:"style",instance:null,count:0,state:null},h.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Ih(h.href);var S=es(_).hoistableStyles,Y=S.get(s);if(Y||(_=_.ownerDocument||_,Y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(s,Y),(S=_.querySelector(Rm(s)))&&!S._p&&(Y.instance=S,Y.state.loading=5),jo.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},jo.set(s,h),S||vz(_,s,h,Y.state))),l&&m===null)throw Error(r(528,""));return Y}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ph(h),h=es(_).hoistableScripts,m=h.get(l),m||(m={type:"script",instance:null,count:0,state:null},h.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Ih(s){return'href="'+pr(s)+'"'}function Rm(s){return'link[rel="stylesheet"]['+s+"]"}function l3(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function vz(s,l,h,m){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=s.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),wi(l,"link",h),Br(l),s.head.appendChild(l))}function Ph(s){return'[src="'+pr(s)+'"]'}function Dm(s){return"script[async]"+s}function c3(s,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var m=s.querySelector('style[data-href~="'+pr(h.href)+'"]');if(m)return l.instance=m,Br(m),m;var _=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),Br(m),wi(m,"style",_),Av(m,h.precedence,s),l.instance=m;case"stylesheet":_=Ih(h.href);var S=s.querySelector(Rm(_));if(S)return l.state.loading|=4,l.instance=S,Br(S),S;m=l3(h),(_=jo.get(_))&&a2(m,_),S=(s.ownerDocument||s).createElement("link"),Br(S);var Y=S;return Y._p=new Promise(function(he,Ne){Y.onload=he,Y.onerror=Ne}),wi(S,"link",m),l.state.loading|=4,Av(S,h.precedence,s),l.instance=S;case"script":return S=Ph(h.src),(_=s.querySelector(Dm(S)))?(l.instance=_,Br(_),_):(m=h,(_=jo.get(S))&&(m=g({},h),i2(m,_)),s=s.ownerDocument||s,_=s.createElement("script"),Br(_),wi(_,"link",m),s.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Av(m,h.precedence,s));return l.instance}function Av(s,l,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=m.length?m[m.length-1]:null,S=_,Y=0;Y<m.length;Y++){var he=m[Y];if(he.dataset.precedence===l)S=he;else if(S!==_)break}S?S.parentNode.insertBefore(s,S.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(s,l.firstChild))}function a2(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function i2(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Nv=null;function u3(s,l,h){if(Nv===null){var m=new Map,_=Nv=new Map;_.set(h,m)}else _=Nv,m=_.get(h),m||(m=new Map,_.set(h,m));if(m.has(s))return m;for(m.set(s,null),h=h.getElementsByTagName(s),_=0;_<h.length;_++){var S=h[_];if(!(S[Cr]||S[zt]||s==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var Y=S.getAttribute(l)||"";Y=s+Y;var he=m.get(Y);he?he.push(S):m.set(Y,[S])}}return m}function d3(s,l,h){s=s.ownerDocument||s,s.head.insertBefore(h,l==="title"?s.querySelector("head > title"):null)}function yz(s,l,h){if(h===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function f3(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function xz(s,l,h,m){if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var _=Ih(m.href),S=l.querySelector(Rm(_));if(S){l=S._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Sv.bind(s),l.then(s,s)),h.state.loading|=4,h.instance=S,Br(S);return}S=l.ownerDocument||l,m=l3(m),(_=jo.get(_))&&a2(m,_),S=S.createElement("link"),Br(S);var Y=S;Y._p=new Promise(function(he,Ne){Y.onload=he,Y.onerror=Ne}),wi(S,"link",m),h.instance=S}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=Sv.bind(s),l.addEventListener("load",h),l.addEventListener("error",h))}}var s2=0;function bz(s,l){return s.stylesheets&&s.count===0&&jv(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var m=setTimeout(function(){if(s.stylesheets&&jv(s,s.stylesheets),s.unsuspend){var S=s.unsuspend;s.unsuspend=null,S()}},6e4+l);0<s.imgBytes&&s2===0&&(s2=62500*ez());var _=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&jv(s,s.stylesheets),s.unsuspend)){var S=s.unsuspend;s.unsuspend=null,S()}},(s.imgBytes>s2?50:800)+l);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(_)}}:null}function Sv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ev=null;function jv(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ev=new Map,l.forEach(_z,s),Ev=null,Sv.call(s))}function _z(s,l){if(!(l.state.loading&4)){var h=Ev.get(s);if(h)var m=h.get(null);else{h=new Map,Ev.set(s,h);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<_.length;S++){var Y=_[S];(Y.nodeName==="LINK"||Y.getAttribute("media")!=="not all")&&(h.set(Y.dataset.precedence,Y),m=Y)}m&&h.set(null,m)}_=l.instance,Y=_.getAttribute("data-precedence"),S=h.get(Y)||m,S===m&&h.set(null,_),h.set(Y,_),this.count++,m=Sv.bind(this),_.addEventListener("load",m),_.addEventListener("error",m),S?S.parentNode.insertBefore(_,S.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),l.state.loading|=4}}var Lm={$$typeof:B,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function wz(s,l,h,m,_,S,Y,he,Ne){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.hiddenUpdates=ia(null),this.identifierPrefix=m,this.onUncaughtError=_,this.onCaughtError=S,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ne,this.incompleteTransitions=new Map}function h3(s,l,h,m,_,S,Y,he,Ne,Ve,rt,ut){return s=new wz(s,l,h,Y,Ne,Ve,rt,ut,he),l=1,S===!0&&(l|=24),S=si(3,null,null,l),s.current=S,S.stateNode=s,l=Vu(),l.refCount++,s.pooledCache=l,l.refCount++,S.memoizedState={element:m,isDehydrated:h,cache:l},nr(S),s}function p3(s){return s?(s=Va,s):Va}function m3(s,l,h,m,_,S){_=p3(_),m.context===null?m.context=_:m.pendingContext=_,m=Yt(l),m.payload={element:h},S=S===void 0?null:S,S!==null&&(m.callback=S),h=ur(s,m,l),h!==null&&(Os(h,s,l),Ta(h,s,l))}function g3(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function o2(s,l){g3(s,l),(s=s.alternate)&&g3(s,l)}function v3(s){if(s.tag===13||s.tag===31){var l=tl(s,67108864);l!==null&&Os(l,s,67108864),o2(s,67108864)}}function y3(s){if(s.tag===13||s.tag===31){var l=to();l=ar(l);var h=tl(s,l);h!==null&&Os(h,s,l),o2(s,l)}}var Tv=!0;function Az(s,l,h,m){var _=J.T;J.T=null;var S=Z.p;try{Z.p=2,l2(s,l,h,m)}finally{Z.p=S,J.T=_}}function Nz(s,l,h,m){var _=J.T;J.T=null;var S=Z.p;try{Z.p=8,l2(s,l,h,m)}finally{Z.p=S,J.T=_}}function l2(s,l,h,m){if(Tv){var _=c2(m);if(_===null)Kb(s,l,m,Ov,h),b3(s,m);else if(Ez(_,s,l,h,m))m.stopPropagation();else if(b3(s,m),l&4&&-1<Sz.indexOf(s)){for(;_!==null;){var S=zn(_);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var Y=bn(S.pendingLanes);if(Y!==0){var he=S;for(he.pendingLanes|=2,he.entangledLanes|=2;Y;){var Ne=1<<31-mn(Y);he.entanglements[1]|=Ne,Y&=~Ne}tc(S),(rr&6)===0&&(dv=Ge()+500,km(0))}}break;case 31:case 13:he=tl(S,2),he!==null&&Os(he,S,2),hv(),o2(S,2)}if(S=c2(m),S===null&&Kb(s,l,m,Ov,h),S===_)break;_=S}_!==null&&m.stopPropagation()}else Kb(s,l,m,null,h)}}function c2(s){return s=Uo(s),u2(s)}var Ov=null;function u2(s){if(Ov=null,s=Ir(s),s!==null){var l=i(s);if(l===null)s=null;else{var h=l.tag;if(h===13){if(s=o(l),s!==null)return s;s=null}else if(h===31){if(s=u(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Ov=s,null}function x3(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case vt:return 2;case _t:return 8;case Bt:case At:return 32;case Vt:return 268435456;default:return 32}default:return 32}}var d2=!1,td=null,nd=null,rd=null,Mm=new Map,Bm=new Map,ad=[],Sz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b3(s,l){switch(s){case"focusin":case"focusout":td=null;break;case"dragenter":case"dragleave":nd=null;break;case"mouseover":case"mouseout":rd=null;break;case"pointerover":case"pointerout":Mm.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bm.delete(l.pointerId)}}function Fm(s,l,h,m,_,S){return s===null||s.nativeEvent!==S?(s={blockedOn:l,domEventName:h,eventSystemFlags:m,nativeEvent:S,targetContainers:[_]},l!==null&&(l=zn(l),l!==null&&v3(l)),s):(s.eventSystemFlags|=m,l=s.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),s)}function Ez(s,l,h,m,_){switch(l){case"focusin":return td=Fm(td,s,l,h,m,_),!0;case"dragenter":return nd=Fm(nd,s,l,h,m,_),!0;case"mouseover":return rd=Fm(rd,s,l,h,m,_),!0;case"pointerover":var S=_.pointerId;return Mm.set(S,Fm(Mm.get(S)||null,s,l,h,m,_)),!0;case"gotpointercapture":return S=_.pointerId,Bm.set(S,Fm(Bm.get(S)||null,s,l,h,m,_)),!0}return!1}function _3(s){var l=Ir(s.target);if(l!==null){var h=i(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){s.blockedOn=l,Gt(s.priority,function(){y3(h)});return}}else if(l===31){if(l=u(h),l!==null){s.blockedOn=l,Gt(s.priority,function(){y3(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function kv(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=c2(s.nativeEvent);if(h===null){h=s.nativeEvent;var m=new h.constructor(h.type,h);Tl=m,h.target.dispatchEvent(m),Tl=null}else return l=zn(h),l!==null&&v3(l),s.blockedOn=h,!1;l.shift()}return!0}function w3(s,l,h){kv(s)&&h.delete(l)}function jz(){d2=!1,td!==null&&kv(td)&&(td=null),nd!==null&&kv(nd)&&(nd=null),rd!==null&&kv(rd)&&(rd=null),Mm.forEach(w3),Bm.forEach(w3)}function Cv(s,l){s.blockedOn===l&&(s.blockedOn=null,d2||(d2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jz)))}var Iv=null;function A3(s){Iv!==s&&(Iv=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Iv===s&&(Iv=null);for(var l=0;l<s.length;l+=3){var h=s[l],m=s[l+1],_=s[l+2];if(typeof m!="function"){if(u2(m||h)===null)continue;break}var S=zn(h);S!==null&&(s.splice(l,3),l-=3,cb(S,{pending:!0,data:_,method:h.method,action:m},m,_))}}))}function Rh(s){function l(Ne){return Cv(Ne,s)}td!==null&&Cv(td,s),nd!==null&&Cv(nd,s),rd!==null&&Cv(rd,s),Mm.forEach(l),Bm.forEach(l);for(var h=0;h<ad.length;h++){var m=ad[h];m.blockedOn===s&&(m.blockedOn=null)}for(;0<ad.length&&(h=ad[0],h.blockedOn===null);)_3(h),h.blockedOn===null&&ad.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var _=h[m],S=h[m+1],Y=_[Ft]||null;if(typeof S=="function")Y||A3(h);else if(Y){var he=null;if(S&&S.hasAttribute("formAction")){if(_=S,Y=S[Ft]||null)he=Y.formAction;else if(u2(_)!==null)continue}else he=Y.action;typeof he=="function"?h[m+1]=he:(h.splice(m,3),m-=3),A3(h)}}}function N3(){function s(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(Y){return _=Y})},focusReset:"manual",scroll:"manual"})}function l(){_!==null&&(_(),_=null),m||setTimeout(h,20)}function h(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,_=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(h,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),_!==null&&(_(),_=null)}}}function f2(s){this._internalRoot=s}Pv.prototype.render=f2.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,m=to();m3(h,m,s,l,null,null)},Pv.prototype.unmount=f2.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;m3(s.current,2,null,s,null,null),hv(),l[Zt]=null}};function Pv(s){this._internalRoot=s}Pv.prototype.unstable_scheduleHydration=function(s){if(s){var l=We();s={blockedOn:null,target:s,priority:l};for(var h=0;h<ad.length&&l!==0&&l<ad[h].priority;h++);ad.splice(h,0,s),h===0&&_3(s)}};var S3=e.version;if(S3!=="19.2.3")throw Error(r(527,S3,"19.2.3"));Z.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var Tz={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rv.isDisabled&&Rv.supportsFiber)try{Jt=Rv.inject(Tz),er=Rv}catch{}}return zm.createRoot=function(s,l){if(!a(s))throw Error(r(299));var h=!1,m="",_=Ij,S=Pj,Y=Rj;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(Y=l.onRecoverableError)),l=h3(s,1,!1,null,null,h,m,null,_,S,Y,N3),s[Zt]=l.current,Wb(s),new f2(l)},zm.hydrateRoot=function(s,l,h){if(!a(s))throw Error(r(299));var m=!1,_="",S=Ij,Y=Pj,he=Rj,Ne=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(Y=h.onCaughtError),h.onRecoverableError!==void 0&&(he=h.onRecoverableError),h.formState!==void 0&&(Ne=h.formState)),l=h3(s,1,!0,l,h??null,m,_,Ne,S,Y,he,N3),l.context=p3(null),h=l.current,m=to(),m=ar(m),_=Yt(m),_.callback=null,ur(h,_,m),h=m,l.current.lanes=h,ma(l,h),tc(l),s[Zt]=l.current,Wb(s),new Pv(l)},zm.version="19.2.3",zm}var D3;function Bz(){if(D3)return m2.exports;D3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),m2.exports=Mz(),m2.exports}var Fz=Bz();const qz=xr(Fz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=ve.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...u},d)=>ve.createElement("svg",{ref:d,...Vz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:UD("lucide",a),...u},[...o.map(([f,p])=>ve.createElement(f,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(t,e)=>{const n=ve.forwardRef(({className:r,...a},i)=>ve.createElement(Uz,{ref:i,iconNode:e,className:UD(`lucide-${zz(t)}`,r),...a}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ps=mt("Activity",$z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],L3=mt("Archive",Hz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ji=mt("ArrowLeft",Gz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$D=mt("Award",Wz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],Yz=mt("Barcode",Kz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]],$A=mt("Beef",Xz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Jz=mt("Bell",Qz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],e0=mt("Bot",Zz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],tV=mt("BrainCircuit",eV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],rV=mt("Calculator",nV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$p=mt("Calendar",aV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],sV=mt("ChartColumn",iV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],lV=mt("ChartNoAxesColumn",oV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],HD=mt("ChartPie",cV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],N1=mt("Check",uV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_c=mt("ChevronRight",dV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],E0=mt("CircleAlert",fV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ic=mt("CircleCheckBig",hV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],M3=mt("CircleCheck",pV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gV=mt("CircleX",mV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],j0=mt("Clock",vV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],xV=mt("Contact",yV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],GD=mt("Cpu",bV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],WD=mt("CreditCard",_V);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],AV=mt("Crown",wV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],S1=mt("Database",NV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],EV=mt("Dna",SV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Nd=mt("DollarSign",jV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],OV=mt("Download",TV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],CV=mt("ExternalLink",kV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fp=mt("FileText",IV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],B3=mt("Filter",PV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],DV=mt("Fingerprint",RV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],MV=mt("Flame",LV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],FV=mt("FolderOpen",BV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],zV=mt("Folder",qV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],UV=mt("Globe",VV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],du=mt("History",$V);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],F3=mt("Image",HV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],WV=mt("Info",GV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],q3=mt("Landmark",KV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],XV=mt("Layers",YV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],JV=mt("LayoutDashboard",QV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],eU=mt("LayoutGrid",ZV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],nU=mt("Link",tU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jh=mt("LoaderCircle",rU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],iU=mt("LockOpen",aU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],E1=mt("Lock",sU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],lU=mt("LogOut",oU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],uU=mt("Mail",cU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],j1=mt("MapPin",dU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],hU=mt("Medal",fU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],T0=mt("MessageCircle",pU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],gU=mt("MicOff",mU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],dd=mt("Mic",vU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M5 12h14",key:"1ays0h"}]],T1=mt("Minus",yU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],bU=mt("Navigation",xU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],wU=mt("PackagePlus",_U);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],fu=mt("Package",AU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],KD=mt("PenLine",NU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],d0=mt("Pencil",SU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],z3=mt("Play",EU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Tf=mt("Plus",jU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],O1=mt("Printer",TU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],XS=mt("RefreshCw",OU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],hp=mt("RotateCcw",kU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],k1=mt("Save",CU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Zh=mt("Scale",IU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 9h.01",key:"x1ddxp"}]],RU=mt("ScanFace",PU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Hp=mt("Search",DU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],V3=mt("Send",LU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BU=mt("Settings",MU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21",key:"1ib60c"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21",key:"1n26ft"}]],qU=mt("Sheet",FU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],YD=mt("ShieldAlert",zU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wc=mt("ShieldCheck",VU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],$U=mt("ShoppingBag",UU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],U3=mt("ShoppingCart",HU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],$3=mt("Smartphone",GU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],KU=mt("Sparkles",WU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],H3=mt("Star",YU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],QU=mt("Sword",XU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ZU=mt("Tag",JU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],t$=mt("Target",e$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],G3=mt("Terminal",n$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],a$=mt("Thermometer",r$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],QS=mt("Trash2",i$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],C1=mt("TrendingDown",s$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],O0=mt("TrendingUp",o$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pp=mt("TriangleAlert",l$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],uc=mt("Truck",c$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],l1=mt("Upload",u$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],XD=mt("UserPlus",d$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],I1=mt("User",f$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],JS=mt("Users",h$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],m$=mt("VideoOff",p$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],W3=mt("Video",g$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],k0=mt("Wallet",v$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],QD=mt("Waves",y$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],b$=mt("WifiOff",x$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],w$=mt("Wifi",_$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hu=mt("X",A$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Rs=mt("Zap",N$);var hn=(t=>(t[t.INTEIRO=1]="INTEIRO",t[t.BANDA_A=2]="BANDA_A",t[t.BANDA_B=3]="BANDA_B",t))(hn||{});const JD="2.8.0",S$="2026-02-24",E$=`FG-PRO_v${JD}`,ZS=`v${JD}`,t0=new Date().toISOString().split("T")[0],j$={clients:[],batches:[],stock:[],sales:[],transactions:[],scheduledOrders:[],reports:[],suppliers:[],payables:[]},K3=t=>{switch(t){case hn.INTEIRO:return"Carcaa Inteira";case hn.BANDA_A:return"Banda A (Dir)";case hn.BANDA_B:return"Banda B (Esq)";default:return"Desconhecido"}},T$=({setView:t,onLogout:e,onSyncSheets:n,sheetsSyncStatus:r})=>{const a=[{id:"dashboard",label:"Painel Geral",description:"Viso Macro & KPIs",icon:JV,color:"text-blue-600",bg:"bg-blue-50",glow:"group-hover:shadow-lg"},{id:"clients",label:"Clientes",description:"Agenda & Contatos",icon:JS,color:"text-indigo-600",bg:"bg-indigo-50",glow:"group-hover:shadow-lg"},{id:"suppliers",label:"Fornecedores",description:"Cadastro Rural",icon:uc,color:"text-blue-600",bg:"bg-blue-50",glow:"group-hover:shadow-lg"},{id:"batches",label:"Cadastro de Lotes",description:"Entrada de Gado",icon:fu,color:"text-purple-600",bg:"bg-purple-50",glow:"group-hover:shadow-lg"},{id:"stock",label:"Estoque",description:"Auditoria Fria",icon:$A,color:"text-emerald-600",bg:"bg-emerald-50",glow:"group-hover:shadow-lg"},{id:"expedition",label:"Vendas",description:"Venda de Peas",icon:Zh,color:"text-amber-600",bg:"bg-amber-50",glow:"group-hover:shadow-lg"},{id:"sales_history",label:"Histrico",description:"Relatrios de Venda",icon:fp,color:"text-rose-600",bg:"bg-rose-50",glow:"group-hover:shadow-lg"},{id:"financial",label:"Financeiro",description:"Fluxo de Caixa",icon:Nd,color:"text-emerald-600",bg:"bg-emerald-50",glow:"group-hover:shadow-lg"},{id:"scheduled_orders",label:"Agendamentos",description:"Pedidos Futuros",icon:$p,color:"text-indigo-600",bg:"bg-indigo-50",glow:"group-hover:shadow-lg"},{id:"heifers",label:"Gesto Abate",description:"Novilhas Dirias",icon:$A,color:"text-emerald-700",bg:"bg-emerald-100",glow:"group-hover:shadow-lg"},{id:"sales_agent",label:"Agente IA",description:"Rob de Vendas",icon:e0,color:"text-purple-600",bg:"bg-purple-100",glow:"group-hover:shadow-lg"},{id:"report",label:"Relatrio",description:"Resumo Dirio",icon:fp,color:"text-emerald-600",bg:"bg-emerald-50",glow:"group-hover:shadow-lg"},{id:"audit",label:"Auditoria",description:"Quem Fez O Qu",icon:wc,color:"text-rose-600",bg:"bg-rose-50",glow:"group-hover:shadow-lg"}];return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-indigo-700 flex flex-col items-center justify-center p-6 lg:p-12 relative overflow-hidden font-sans text-white",children:[c.jsx("div",{className:"absolute inset-0 opacity-[0.08] pointer-events-none",style:{backgroundImage:"linear-gradient(white 1px, transparent 1px), linear-gradient(90deg, white 1px, transparent 1px)",backgroundSize:"60px 60px"}}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-white/10 rounded-full blur-[120px] pointer-events-none"}),c.jsxs("div",{className:"w-full max-w-6xl z-10 animate-fade-in flex flex-col items-center gap-12",children:[c.jsxs("div",{className:"text-center space-y-4 relative",children:[c.jsx("div",{className:"absolute -top-6 -right-12 bg-white/20 text-white text-[8px] font-black px-2 py-0.5 rounded border border-white/30 uppercase tracking-[0.2em] animate-pulse",children:"Sistema Ativo"}),c.jsxs("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-white/10 backdrop-blur-xl rounded-[2rem] shadow-2xl border border-white/20 mb-4 transform hover:scale-110 transition-all duration-700 group cursor-default",children:[c.jsx(uc,{size:48,className:"text-white group-hover:text-blue-100 transition-colors"}),c.jsx("div",{className:"absolute inset-0 rounded-[2rem] border border-white/20 animate-ping opacity-20"})]}),c.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-white tracking-tighter uppercase italic leading-none drop-shadow-2xl",children:["Frigo",c.jsx("span",{className:"text-blue-200 drop-shadow-[0_0_15px_rgba(255,255,255,0.5)]",children:"Gest"})]}),c.jsxs("div",{className:"flex items-center justify-center gap-4",children:[c.jsx("div",{className:"h-[1px] w-12 bg-gradient-to-r from-transparent to-white/30"}),c.jsxs("p",{className:"text-white/70 font-black text-[10px] uppercase tracking-[0.4em] flex items-center gap-2",children:[c.jsx(Rs,{size:12,className:"text-blue-200"})," Sistema Avanado ",ZS,"  ",S$]}),c.jsx("div",{className:"h-[1px] w-12 bg-gradient-to-l from-transparent to-white/30"})]})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-5 w-full",children:a.map(i=>{const o=i.icon;return c.jsxs("button",{onClick:()=>t(i.id),className:`group relative flex flex-col items-start justify-between p-8 h-48 bg-white/10 backdrop-blur-2xl border border-white/20 rounded-[2.5rem] hover:border-white/40 hover:bg-white/15 transition-all duration-500 shadow-2xl active:scale-[0.98] text-left overflow-hidden ${i.glow}`,children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),c.jsx("div",{className:`w-14 h-14 rounded-2xl ${i.bg} flex items-center justify-center ${i.color} group-hover:scale-110 transition-all duration-500 border border-white/10 shadow-lg`,children:c.jsx(o,{size:28})}),c.jsxs("div",{className:"relative z-10 transition-transform duration-500 group-hover:translate-x-1",children:[c.jsx("h3",{className:"text-lg font-black text-white group-hover:text-blue-100 transition-colors uppercase tracking-tight",children:i.label}),c.jsx("p",{className:"text-[10px] text-white/60 font-black mt-1 tracking-widest uppercase opacity-60 group-hover:opacity-100",children:i.description})]}),c.jsxs("div",{className:"absolute bottom-8 right-8 flex items-center gap-2 opacity-20 group-hover:opacity-100 transition-all",children:[c.jsx("div",{className:"h-[1px] w-4 bg-white/30 group-hover:bg-white/60 transition-colors"}),c.jsxs("span",{className:"text-[10px] font-mono font-bold text-white/40 group-hover:text-white/80 transition-colors",children:["0",a.indexOf(i)+1]})]}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/0 via-white/0 to-white/10 opacity-0 group-hover:opacity-100 transition-opacity"})]},i.id)})}),c.jsxs("div",{className:"mt-4 flex flex-col items-center gap-8 relative",children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:()=>{confirm(` Atualizar para nova verso?

Seus dados no sero perdidos!`)&&window.location.reload()},className:"flex items-center gap-3 px-8 py-5 rounded-[2rem] text-white/80 font-black text-xs uppercase tracking-[0.2em] bg-emerald-500/20 backdrop-blur-md border border-emerald-400/30 hover:border-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/30 transition-all hover:shadow-lg active:scale-95 group",children:[c.jsx(Rs,{size:16,className:"group-hover:rotate-180 transition-transform"}),"ATUALIZAR"]}),n&&c.jsxs("button",{onClick:n,disabled:r==="syncing",className:`flex items-center gap-3 px-8 py-5 rounded-[2rem] font-black text-xs uppercase tracking-[0.2em] backdrop-blur-md border transition-all hover:shadow-lg active:scale-95 group ${r==="syncing"?"text-amber-300/80 bg-amber-500/20 border-amber-400/30 cursor-wait":r==="ok"?"text-emerald-300/80 bg-emerald-500/20 border-emerald-400/30":r==="error"?"text-rose-300/80 bg-rose-500/20 border-rose-400/30":"text-white/80 bg-white/10 border-white/20 hover:border-blue-400 hover:text-blue-300 hover:bg-blue-500/20"}`,children:[c.jsx(qU,{size:16,className:r==="syncing"?"animate-spin":"group-hover:scale-110 transition-transform"}),r==="syncing"?"SINCRONIZANDO...":r==="ok"?" SINCRONIZADO":"SYNC PLANILHA"]}),c.jsxs("button",{onClick:e,className:"flex items-center gap-3 px-8 py-5 rounded-[2rem] text-white/80 font-black text-xs uppercase tracking-[0.2em] bg-white/10 backdrop-blur-md border border-white/20 hover:border-rose-400 hover:text-rose-300 hover:bg-rose-500/20 transition-all hover:shadow-lg active:scale-95 group",children:[c.jsx(lU,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),"SAIR"]})]}),c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-4 text-white/40 font-bold text-[8px] uppercase tracking-[0.5em]",children:[c.jsx("span",{children:"Status: Online"}),c.jsx("span",{className:"w-1 h-1 bg-emerald-400 rounded-full animate-pulse"}),c.jsx("span",{children:"Enc: 256-Bit"})]}),c.jsx("p",{className:"text-[9px] text-white/30 font-black uppercase tracking-[0.4em]",children:" FRIGOGEST 2026  SYS_ID: FG-PRO-X"})]})]})]})]})},O$=t=>{const e=new Date(t),n=new Date(t0),r=Math.abs(n.getTime()-e.getTime());return Math.ceil(r/(1e3*60*60*24))},k$=t=>t<=1?{label:"Resfriamento",color:"text-blue-500",bg:"bg-blue-50",border:"border-blue-100",status:"fresh"}:t<=4?{label:"Pronto (pice)",color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100",status:"prime"}:t<=7?{label:"Alerta Venda",color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100",status:"warning"}:{label:"Risco Quebra",color:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100",status:"critical"},kt=t=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t),Sr=t=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)+" kg",HA=(t,e,n,r)=>r===0?0:(t+e+n)/r,C$=(t,e)=>{if(!t||!t.length)return;const n=";",r=Object.keys(t[0]),a=r.join(n)+`
`+t.map(u=>r.map(d=>{let f=u[d]===null||u[d]===void 0?"":u[d];return f=f instanceof Date?f.toLocaleString():f.toString().replace(/"/g,'""'),f.search(new RegExp(`("|${n}|
)`))>=0&&(f=`"${f}"`),f}).join(n)).join(`
`),i=new Blob(["\uFEFF"+a],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a");if(o.download!==void 0){const u=URL.createObjectURL(i);o.setAttribute("href",u),o.setAttribute("download",e),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}},Y3=(t,e,n)=>{const r=e.filter(y=>y.id_cliente===t.id_ferro),i=r.filter(y=>y.status_pagamento==="PENDENTE").filter(y=>y.data_vencimento<n),o=r.reduce((y,x)=>y+x.peso_real_saida*x.preco_venda_kg,0),u=t.limite_credito>0?t.saldo_devedor/t.limite_credito:0;let d=5,f="AAA",p="Cliente Exemplar";return i.length>0&&(d-=2,f="C",p="Faturas em Atraso"),u>.8&&(d-=1,f==="AAA"&&(f="A"),p="Limite Prximo ao Fim"),t.saldo_devedor>t.limite_credito&&t.limite_credito>0&&(d-=2,f="C",p="Limite Excedido"),i.reduce((y,x)=>{const E=Math.ceil((new Date(n).getTime()-new Date(x.data_vencimento).getTime())/864e5);return Math.max(y,E)},0)>10&&(d=1,f="F",p="Risco Iminente (Fumo)"),o>1e5&&i.length===0&&u<.6&&(f="AAA",d=5,p="Parceiro Estratgico (Ouro)"),{stars:Math.max(1,Math.min(5,d)),tier:f,reason:p,color:f==="AAA"?"text-emerald-500":f==="A"?"text-blue-500":f==="C"?"text-orange-600":f==="F"?"text-rose-600":"text-slate-600",border:f==="F"?"border-rose-100":"border-slate-100",bg:f==="F"?"bg-rose-50":"bg-slate-50"}};function ZD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=ZD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Gn(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=ZD(t))&&(r&&(r+=" "),r+=e);return r}var x2,X3;function Ds(){if(X3)return x2;X3=1;var t=Array.isArray;return x2=t,x2}var b2,Q3;function eL(){if(Q3)return b2;Q3=1;var t=typeof Dv=="object"&&Dv&&Dv.Object===Object&&Dv;return b2=t,b2}var _2,J3;function Sc(){if(J3)return _2;J3=1;var t=eL(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return _2=n,_2}var w2,Z3;function Ng(){if(Z3)return w2;Z3=1;var t=Sc(),e=t.Symbol;return w2=e,w2}var A2,eO;function I$(){if(eO)return A2;eO=1;var t=Ng(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,a=t?t.toStringTag:void 0;function i(o){var u=n.call(o,a),d=o[a];try{o[a]=void 0;var f=!0}catch{}var p=r.call(o);return f&&(u?o[a]=d:delete o[a]),p}return A2=i,A2}var N2,tO;function P$(){if(tO)return N2;tO=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return N2=n,N2}var S2,nO;function Au(){if(nO)return S2;nO=1;var t=Ng(),e=I$(),n=P$(),r="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(u){return u==null?u===void 0?a:r:i&&i in Object(u)?e(u):n(u)}return S2=o,S2}var E2,rO;function Nu(){if(rO)return E2;rO=1;function t(e){return e!=null&&typeof e=="object"}return E2=t,E2}var j2,aO;function Gp(){if(aO)return j2;aO=1;var t=Au(),e=Nu(),n="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&t(a)==n}return j2=r,j2}var T2,iO;function eE(){if(iO)return T2;iO=1;var t=Ds(),e=Gp(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){if(t(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||e(i)?!0:r.test(i)||!n.test(i)||o!=null&&i in Object(o)}return T2=a,T2}var O2,sO;function Ud(){if(sO)return O2;sO=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return O2=t,O2}var k2,oO;function tE(){if(oO)return k2;oO=1;var t=Au(),e=Ud(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(u){if(!e(u))return!1;var d=t(u);return d==r||d==a||d==n||d==i}return k2=o,k2}var C2,lO;function R$(){if(lO)return C2;lO=1;var t=Sc(),e=t["__core-js_shared__"];return C2=e,C2}var I2,cO;function D$(){if(cO)return I2;cO=1;var t=R$(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return I2=n,I2}var P2,uO;function tL(){if(uO)return P2;uO=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return P2=n,P2}var R2,dO;function L$(){if(dO)return R2;dO=1;var t=tE(),e=D$(),n=Ud(),r=tL(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,d=o.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(y){if(!n(y)||e(y))return!1;var x=t(y)?p:i;return x.test(r(y))}return R2=g,R2}var D2,fO;function M$(){if(fO)return D2;fO=1;function t(e,n){return e==null?void 0:e[n]}return D2=t,D2}var L2,hO;function Gf(){if(hO)return L2;hO=1;var t=L$(),e=M$();function n(r,a){var i=e(r,a);return t(i)?i:void 0}return L2=n,L2}var M2,pO;function Zy(){if(pO)return M2;pO=1;var t=Gf(),e=t(Object,"create");return M2=e,M2}var B2,mO;function B$(){if(mO)return B2;mO=1;var t=Zy();function e(){this.__data__=t?t(null):{},this.size=0}return B2=e,B2}var F2,gO;function F$(){if(gO)return F2;gO=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return F2=t,F2}var q2,vO;function q$(){if(vO)return q2;vO=1;var t=Zy(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var o=this.__data__;if(t){var u=o[i];return u===e?void 0:u}return r.call(o,i)?o[i]:void 0}return q2=a,q2}var z2,yO;function z$(){if(yO)return z2;yO=1;var t=Zy(),e=Object.prototype,n=e.hasOwnProperty;function r(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return z2=r,z2}var V2,xO;function V$(){if(xO)return V2;xO=1;var t=Zy(),e="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&a===void 0?e:a,this}return V2=n,V2}var U2,bO;function U$(){if(bO)return U2;bO=1;var t=B$(),e=F$(),n=q$(),r=z$(),a=V$();function i(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,U2=i,U2}var $2,_O;function $$(){if(_O)return $2;_O=1;function t(){this.__data__=[],this.size=0}return $2=t,$2}var H2,wO;function nE(){if(wO)return H2;wO=1;function t(e,n){return e===n||e!==e&&n!==n}return H2=t,H2}var G2,AO;function ex(){if(AO)return G2;AO=1;var t=nE();function e(n,r){for(var a=n.length;a--;)if(t(n[a][0],r))return a;return-1}return G2=e,G2}var W2,NO;function H$(){if(NO)return W2;NO=1;var t=ex(),e=Array.prototype,n=e.splice;function r(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var u=i.length-1;return o==u?i.pop():n.call(i,o,1),--this.size,!0}return W2=r,W2}var K2,SO;function G$(){if(SO)return K2;SO=1;var t=ex();function e(n){var r=this.__data__,a=t(r,n);return a<0?void 0:r[a][1]}return K2=e,K2}var Y2,EO;function W$(){if(EO)return Y2;EO=1;var t=ex();function e(n){return t(this.__data__,n)>-1}return Y2=e,Y2}var X2,jO;function K$(){if(jO)return X2;jO=1;var t=ex();function e(n,r){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return X2=e,X2}var Q2,TO;function tx(){if(TO)return Q2;TO=1;var t=$$(),e=H$(),n=G$(),r=W$(),a=K$();function i(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,Q2=i,Q2}var J2,OO;function rE(){if(OO)return J2;OO=1;var t=Gf(),e=Sc(),n=t(e,"Map");return J2=n,J2}var Z2,kO;function Y$(){if(kO)return Z2;kO=1;var t=U$(),e=tx(),n=rE();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Z2=r,Z2}var e_,CO;function X$(){if(CO)return e_;CO=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return e_=t,e_}var t_,IO;function nx(){if(IO)return t_;IO=1;var t=X$();function e(n,r){var a=n.__data__;return t(r)?a[typeof r=="string"?"string":"hash"]:a.map}return t_=e,t_}var n_,PO;function Q$(){if(PO)return n_;PO=1;var t=nx();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return n_=e,n_}var r_,RO;function J$(){if(RO)return r_;RO=1;var t=nx();function e(n){return t(this,n).get(n)}return r_=e,r_}var a_,DO;function Z$(){if(DO)return a_;DO=1;var t=nx();function e(n){return t(this,n).has(n)}return a_=e,a_}var i_,LO;function eH(){if(LO)return i_;LO=1;var t=nx();function e(n,r){var a=t(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return i_=e,i_}var s_,MO;function aE(){if(MO)return s_;MO=1;var t=Y$(),e=Q$(),n=J$(),r=Z$(),a=eH();function i(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,s_=i,s_}var o_,BO;function nL(){if(BO)return o_;BO=1;var t=aE(),e="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,u=a?a.apply(this,o):o[0],d=i.cache;if(d.has(u))return d.get(u);var f=r.apply(this,o);return i.cache=d.set(u,f)||d,f};return i.cache=new(n.Cache||t),i}return n.Cache=t,o_=n,o_}var l_,FO;function tH(){if(FO)return l_;FO=1;var t=nL(),e=500;function n(r){var a=t(r,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return l_=n,l_}var c_,qO;function nH(){if(qO)return c_;qO=1;var t=tH(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,u,d,f){i.push(d?f.replace(n,"$1"):u||o)}),i});return c_=r,c_}var u_,zO;function iE(){if(zO)return u_;zO=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=Array(a);++r<a;)i[r]=n(e[r],r,e);return i}return u_=t,u_}var d_,VO;function rH(){if(VO)return d_;VO=1;var t=Ng(),e=iE(),n=Ds(),r=Gp(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(u){if(typeof u=="string")return u;if(n(u))return e(u,o)+"";if(r(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return d_=o,d_}var f_,UO;function rL(){if(UO)return f_;UO=1;var t=rH();function e(n){return n==null?"":t(n)}return f_=e,f_}var h_,$O;function aL(){if($O)return h_;$O=1;var t=Ds(),e=eE(),n=nH(),r=rL();function a(i,o){return t(i)?i:e(i,o)?[i]:n(r(i))}return h_=a,h_}var p_,HO;function rx(){if(HO)return p_;HO=1;var t=Gp();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return p_=e,p_}var m_,GO;function sE(){if(GO)return m_;GO=1;var t=aL(),e=rx();function n(r,a){a=t(a,r);for(var i=0,o=a.length;r!=null&&i<o;)r=r[e(a[i++])];return i&&i==o?r:void 0}return m_=n,m_}var g_,WO;function iL(){if(WO)return g_;WO=1;var t=sE();function e(n,r,a){var i=n==null?void 0:t(n,r);return i===void 0?a:i}return g_=e,g_}var aH=iL();const Mo=xr(aH);var v_,KO;function iH(){if(KO)return v_;KO=1;function t(e){return e==null}return v_=t,v_}var sH=iH();const Mn=xr(sH);var y_,YO;function oH(){if(YO)return y_;YO=1;var t=Au(),e=Ds(),n=Nu(),r="[object String]";function a(i){return typeof i=="string"||!e(i)&&n(i)&&t(i)==r}return y_=a,y_}var lH=oH();const Df=xr(lH);var cH=tE();const yn=xr(cH);var uH=Ud();const Wp=xr(uH);var x_={exports:{}},sr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XO;function dH(){if(XO)return sr;XO=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),E;E=Symbol.for("react.module.reference");function w(N){if(typeof N=="object"&&N!==null){var T=N.$$typeof;switch(T){case t:switch(N=N.type,N){case n:case a:case r:case f:case p:return N;default:switch(N=N&&N.$$typeof,N){case u:case o:case d:case y:case g:case i:return N;default:return T}}case e:return T}}}return sr.ContextConsumer=o,sr.ContextProvider=i,sr.Element=t,sr.ForwardRef=d,sr.Fragment=n,sr.Lazy=y,sr.Memo=g,sr.Portal=e,sr.Profiler=a,sr.StrictMode=r,sr.Suspense=f,sr.SuspenseList=p,sr.isAsyncMode=function(){return!1},sr.isConcurrentMode=function(){return!1},sr.isContextConsumer=function(N){return w(N)===o},sr.isContextProvider=function(N){return w(N)===i},sr.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===t},sr.isForwardRef=function(N){return w(N)===d},sr.isFragment=function(N){return w(N)===n},sr.isLazy=function(N){return w(N)===y},sr.isMemo=function(N){return w(N)===g},sr.isPortal=function(N){return w(N)===e},sr.isProfiler=function(N){return w(N)===a},sr.isStrictMode=function(N){return w(N)===r},sr.isSuspense=function(N){return w(N)===f},sr.isSuspenseList=function(N){return w(N)===p},sr.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===n||N===a||N===r||N===f||N===p||N===x||typeof N=="object"&&N!==null&&(N.$$typeof===y||N.$$typeof===g||N.$$typeof===i||N.$$typeof===o||N.$$typeof===d||N.$$typeof===E||N.getModuleId!==void 0)},sr.typeOf=w,sr}var QO;function fH(){return QO||(QO=1,x_.exports=dH()),x_.exports}var hH=fH(),b_,JO;function sL(){if(JO)return b_;JO=1;var t=Au(),e=Nu(),n="[object Number]";function r(a){return typeof a=="number"||e(a)&&t(a)==n}return b_=r,b_}var __,ZO;function pH(){if(ZO)return __;ZO=1;var t=sL();function e(n){return t(n)&&n!=+n}return __=e,__}var mH=pH();const Kp=xr(mH);var gH=sL();const vH=xr(gH);var gl=function(e){return e===0?0:e>0?1:-1},wf=function(e){return Df(e)&&e.indexOf("%")===e.length-1},xt=function(e){return vH(e)&&!Kp(e)},yH=function(e){return Mn(e)},Xa=function(e){return xt(e)||Df(e)},xH=0,Sg=function(e){var n=++xH;return"".concat(e||"").concat(n)},Lf=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xt(e)&&!Df(e))return r;var i;if(wf(e)){var o=e.indexOf("%");i=n*parseFloat(e.slice(0,o))/100}else i=+e;return Kp(i)&&(i=r),a&&i>n&&(i=n),i},hd=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},bH=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},a=0;a<n;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1},Po=function(e,n){return xt(e)&&xt(n)?function(r){return e+r*(n-e)}:function(){return n}};function P1(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Mo(r,e))===n})}var _H=function(e,n){return xt(e)&&xt(n)?e-n:Df(e)&&Df(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ep(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function GA(t){"@babel/helpers - typeof";return GA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GA(t)}var wH=["viewBox","children"],AH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],e6=["points","pathLength"],w_={svg:wH,polygon:e6,polyline:e6},oE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],R1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(ve.isValidElement(e)&&(r=e.props),!Wp(r))return null;var a={};return Object.keys(r).forEach(function(i){oE.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},NH=function(e,n,r){return function(a){return e(n,r,a),null}},D1=function(e,n,r){if(!Wp(e)||GA(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];oE.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=NH(o,n,r))}),a},SH=["children"],EH=["children"];function t6(t,e){if(t==null)return{};var n=jH(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WA(t){"@babel/helpers - typeof";return WA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WA(t)}var n6={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},lu=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},r6=null,A_=null,lE=function t(e){if(e===r6&&Array.isArray(A_))return A_;var n=[];return ve.Children.forEach(e,function(r){Mn(r)||(hH.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),A_=n,r6=e,n};function yl(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(a){return lu(a)}):r=[lu(e)],lE(t).forEach(function(a){var i=Mo(a,"type.displayName")||Mo(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function ro(t,e){var n=yl(t,e);return n&&n[0]}var a6=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,a=n.height;return!(!xt(r)||r<=0||!xt(a)||a<=0)},TH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],OH=function(e){return e&&e.type&&Df(e.type)&&TH.indexOf(e.type)>=0},kH=function(e){return e&&WA(e)==="object"&&"clipDot"in e},CH=function(e,n,r,a){var i,o=(i=w_==null?void 0:w_[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!yn(e)&&(a&&o.includes(n)||AH.includes(n))||r&&oE.includes(n)},On=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(ve.isValidElement(e)&&(a=e.props),!Wp(a))return null;var i={};return Object.keys(a).forEach(function(o){var u;CH((u=a)===null||u===void 0?void 0:u[o],o,n,r)&&(i[o]=a[o])}),i},KA=function t(e,n){if(e===n)return!0;var r=ve.Children.count(e);if(r!==ve.Children.count(n))return!1;if(r===0)return!0;if(r===1)return i6(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=e[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!i6(i,o))return!1}return!0},i6=function(e,n){if(Mn(e)&&Mn(n))return!0;if(!Mn(e)&&!Mn(n)){var r=e.props||{},a=r.children,i=t6(r,SH),o=n.props||{},u=o.children,d=t6(o,EH);return a&&u?ep(i,d)&&KA(a,u):!a&&!u?ep(i,d):!1}return!1},s6=function(e,n){var r=[],a={};return lE(e).forEach(function(i,o){if(OH(i))r.push(i);else if(i){var u=lu(i.type),d=n[u]||{},f=d.handler,p=d.once;if(f&&(!p||!a[u])){var g=f(i,u,o);r.push(g),a[u]=!0}}}),r},IH=function(e){var n=e&&e.type;return n&&n6[n]?n6[n]:null},PH=function(e,n){return lE(n).indexOf(e)},RH=["children","width","height","viewBox","className","style","title","desc"];function YA(){return YA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YA.apply(this,arguments)}function DH(t,e){if(t==null)return{};var n=LH(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XA(t){var e=t.children,n=t.width,r=t.height,a=t.viewBox,i=t.className,o=t.style,u=t.title,d=t.desc,f=DH(t,RH),p=a||{width:n,height:r,x:0,y:0},g=Gn("recharts-surface",i);return Ce.createElement("svg",YA({},On(f,!0,"svg"),{className:g,width:n,height:r,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),Ce.createElement("title",null,u),Ce.createElement("desc",null,d),e)}var MH=["children","className"];function QA(){return QA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QA.apply(this,arguments)}function BH(t,e){if(t==null)return{};var n=FH(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var na=Ce.forwardRef(function(t,e){var n=t.children,r=t.className,a=BH(t,MH),i=Gn("recharts-layer",r);return Ce.createElement("g",QA({className:i},On(a,!0),{ref:e}),n)}),cu=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]},N_,o6;function qH(){if(o6)return N_;o6=1;function t(e,n,r){var a=-1,i=e.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+n];return o}return N_=t,N_}var S_,l6;function zH(){if(l6)return S_;l6=1;var t=qH();function e(n,r,a){var i=n.length;return a=a===void 0?i:a,!r&&a>=i?n:t(n,r,a)}return S_=e,S_}var E_,c6;function oL(){if(c6)return E_;c6=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+t+a+i+"]");function d(f){return u.test(f)}return E_=d,E_}var j_,u6;function VH(){if(u6)return j_;u6=1;function t(e){return e.split("")}return j_=t,j_}var T_,d6;function UH(){if(d6)return T_;d6=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",o="["+t+"]",u="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",p="[^"+t+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",E=f+"?",w="["+i+"]?",N="(?:"+x+"(?:"+[p,g,y].join("|")+")"+w+E+")*",T=w+E+N,C="(?:"+[p+u+"?",u,g,y,o].join("|")+")",B=RegExp(d+"(?="+d+")|"+C+T,"g");function q(D){return D.match(B)||[]}return T_=q,T_}var O_,f6;function $H(){if(f6)return O_;f6=1;var t=VH(),e=oL(),n=UH();function r(a){return e(a)?n(a):t(a)}return O_=r,O_}var k_,h6;function HH(){if(h6)return k_;h6=1;var t=zH(),e=oL(),n=$H(),r=rL();function a(i){return function(o){o=r(o);var u=e(o)?n(o):void 0,d=u?u[0]:o.charAt(0),f=u?t(u,1).join(""):o.slice(1);return d[i]()+f}}return k_=a,k_}var C_,p6;function GH(){if(p6)return C_;p6=1;var t=HH(),e=t("toUpperCase");return C_=e,C_}var WH=GH();const ax=xr(WH);function Rr(t){return function(){return t}}const lL=Math.cos,L1=Math.sin,_l=Math.sqrt,M1=Math.PI,ix=2*M1,JA=Math.PI,ZA=2*JA,vf=1e-6,KH=ZA-vf;function cL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function YH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return cL;const n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class XH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?cL:YH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,o){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,u=this._y1,d=r-e,f=a-n,p=o-e,g=u-n,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>vf)if(!(Math.abs(g*d-f*p)>vf)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-o,E=a-u,w=d*d+f*f,N=x*x+E*E,T=Math.sqrt(w),C=Math.sqrt(y),B=i*Math.tan((JA-Math.acos((w+y-N)/(2*T*C)))/2),q=B/C,D=B/T;Math.abs(q-1)>vf&&this._append`L${e+q*p},${n+q*g}`,this._append`A${i},${i},0,0,${+(g*x>p*E)},${this._x1=e+D*d},${this._y1=n+D*f}`}}arc(e,n,r,a,i,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),d=r*Math.sin(a),f=e+u,p=n+d,g=1^o,y=o?a-i:i-a;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>vf||Math.abs(this._y1-p)>vf)&&this._append`L${f},${p}`,r&&(y<0&&(y=y%ZA+ZA),y>KH?this._append`A${r},${r},0,1,${g},${e-u},${n-d}A${r},${r},0,1,${g},${this._x1=f},${this._y1=p}`:y>vf&&this._append`A${r},${r},0,${+(y>=JA)},${g},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function cE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new XH(e)}function uE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function uL(t){this._context=t}uL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function sx(t){return new uL(t)}function dL(t){return t[0]}function fL(t){return t[1]}function hL(t,e){var n=Rr(!0),r=null,a=sx,i=null,o=cE(u);t=typeof t=="function"?t:t===void 0?dL:Rr(t),e=typeof e=="function"?e:e===void 0?fL:Rr(e);function u(d){var f,p=(d=uE(d)).length,g,y=!1,x;for(r==null&&(i=a(x=o())),f=0;f<=p;++f)!(f<p&&n(g=d[f],f,d))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+t(g,f,d),+e(g,f,d));if(x)return i=null,x+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Rr(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Rr(+d),u):e},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Rr(!!d),u):n},u.curve=function(d){return arguments.length?(a=d,r!=null&&(i=a(r)),u):a},u.context=function(d){return arguments.length?(d==null?r=i=null:i=a(r=d),u):r},u}function Lv(t,e,n){var r=null,a=Rr(!0),i=null,o=sx,u=null,d=cE(f);t=typeof t=="function"?t:t===void 0?dL:Rr(+t),e=typeof e=="function"?e:Rr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?fL:Rr(+n);function f(g){var y,x,E,w=(g=uE(g)).length,N,T=!1,C,B=new Array(w),q=new Array(w);for(i==null&&(u=o(C=d())),y=0;y<=w;++y){if(!(y<w&&a(N=g[y],y,g))===T)if(T=!T)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=y-1;E>=x;--E)u.point(B[E],q[E]);u.lineEnd(),u.areaEnd()}T&&(B[y]=+t(N,y,g),q[y]=+e(N,y,g),u.point(r?+r(N,y,g):B[y],n?+n(N,y,g):q[y]))}if(C)return u=null,C+""||null}function p(){return hL().defined(a).curve(o).context(i)}return f.x=function(g){return arguments.length?(t=typeof g=="function"?g:Rr(+g),r=null,f):t},f.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Rr(+g),f):t},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Rr(+g),f):r},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:Rr(+g),n=null,f):e},f.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Rr(+g),f):e},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Rr(+g),f):n},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(n)},f.lineX1=function(){return p().x(r).y(e)},f.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Rr(!!g),f):a},f.curve=function(g){return arguments.length?(o=g,i!=null&&(u=o(i)),f):o},f.context=function(g){return arguments.length?(g==null?i=u=null:u=o(i=g),f):i},f}class pL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function QH(t){return new pL(t,!0)}function JH(t){return new pL(t,!1)}const dE={draw(t,e){const n=_l(e/M1);t.moveTo(n,0),t.arc(0,0,n,0,ix)}},ZH={draw(t,e){const n=_l(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mL=_l(1/3),eG=mL*2,tG={draw(t,e){const n=_l(e/eG),r=n*mL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},nG={draw(t,e){const n=_l(e),r=-n/2;t.rect(r,r,n,n)}},rG=.8908130915292852,gL=L1(M1/10)/L1(7*M1/10),aG=L1(ix/10)*gL,iG=-lL(ix/10)*gL,sG={draw(t,e){const n=_l(e*rG),r=aG*n,a=iG*n;t.moveTo(0,-n),t.lineTo(r,a);for(let i=1;i<5;++i){const o=ix*i/5,u=lL(o),d=L1(o);t.lineTo(d*n,-u*n),t.lineTo(u*r-d*a,d*r+u*a)}t.closePath()}},I_=_l(3),oG={draw(t,e){const n=-_l(e/(I_*3));t.moveTo(0,n*2),t.lineTo(-I_*n,-n),t.lineTo(I_*n,-n),t.closePath()}},To=-.5,Oo=_l(3)/2,eN=1/_l(12),lG=(eN/2+1)*3,cG={draw(t,e){const n=_l(e/lG),r=n/2,a=n*eN,i=r,o=n*eN+n,u=-i,d=o;t.moveTo(r,a),t.lineTo(i,o),t.lineTo(u,d),t.lineTo(To*r-Oo*a,Oo*r+To*a),t.lineTo(To*i-Oo*o,Oo*i+To*o),t.lineTo(To*u-Oo*d,Oo*u+To*d),t.lineTo(To*r+Oo*a,To*a-Oo*r),t.lineTo(To*i+Oo*o,To*o-Oo*i),t.lineTo(To*u+Oo*d,To*d-Oo*u),t.closePath()}};function uG(t,e){let n=null,r=cE(a);t=typeof t=="function"?t:Rr(t||dE),e=typeof e=="function"?e:Rr(e===void 0?64:+e);function a(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Rr(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Rr(+i),a):e},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function B1(){}function F1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function vL(t){this._context=t}vL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:F1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:F1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dG(t){return new vL(t)}function yL(t){this._context=t}yL.prototype={areaStart:B1,areaEnd:B1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:F1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fG(t){return new yL(t)}function xL(t){this._context=t}xL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:F1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hG(t){return new xL(t)}function bL(t){this._context=t}bL.prototype={areaStart:B1,areaEnd:B1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function pG(t){return new bL(t)}function m6(t){return t<0?-1:1}function g6(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),o=(n-t._y1)/(a||r<0&&-0),u=(i*a+o*r)/(r+a);return(m6(i)+m6(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(u))||0}function v6(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function P_(t,e,n){var r=t._x0,a=t._y0,i=t._x1,o=t._y1,u=(i-r)/3;t._context.bezierCurveTo(r+u,a+u*e,i-u,o-u*n,i,o)}function q1(t){this._context=t}q1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:P_(this,this._t0,v6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,P_(this,v6(this,n=g6(this,t,e)),n);break;default:P_(this,this._t0,n=g6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function _L(t){this._context=new wL(t)}(_L.prototype=Object.create(q1.prototype)).point=function(t,e){q1.prototype.point.call(this,e,t)};function wL(t){this._context=t}wL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}};function mG(t){return new q1(t)}function gG(t){return new _L(t)}function AL(t){this._context=t}AL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=y6(t),a=y6(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function y6(t){var e,n=t.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/i[e-1],i[e]-=r,o[e]-=r*o[e-1];for(a[n-1]=o[n-1]/i[n-1],e=n-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function vG(t){return new AL(t)}function ox(t,e){this._context=t,this._t=e}ox.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function yG(t){return new ox(t,.5)}function xG(t){return new ox(t,0)}function bG(t){return new ox(t,1)}function mp(t,e){if((o=t.length)>1)for(var n=1,r,a,i=t[e[0]],o,u=i.length;n<o;++n)for(a=i,i=t[e[n]],r=0;r<u;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function tN(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function _G(t,e){return t[e]}function wG(t){const e=[];return e.key=t,e}function AG(){var t=Rr([]),e=tN,n=mp,r=_G;function a(i){var o=Array.from(t.apply(this,arguments),wG),u,d=o.length,f=-1,p;for(const g of i)for(u=0,++f;u<d;++u)(o[u][f]=[0,+r(g,o[u].key,f,i)]).data=g;for(u=0,p=uE(e(o));u<d;++u)o[p[u]].index=u;return n(o,p),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Rr(Array.from(i)),a):t},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Rr(+i),a):r},a.order=function(i){return arguments.length?(e=i==null?tN:typeof i=="function"?i:Rr(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(n=i??mp,a):n},a}function NG(t,e){if((r=t.length)>0){for(var n,r,a=0,i=t[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=t[n][a][1]||0;if(o)for(n=0;n<r;++n)t[n][a][1]/=o}mp(t,e)}}function SG(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,i=r.length;n<i;++n){for(var o=0,u=0;o<a;++o)u+=t[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}mp(t,e)}}function EG(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var u=0,d=0,f=0;u<o;++u){for(var p=t[e[u]],g=p[r][1]||0,y=p[r-1][1]||0,x=(g-y)/2,E=0;E<u;++E){var w=t[e[E]],N=w[r][1]||0,T=w[r-1][1]||0;x+=N-T}d+=g,f+=x*g}a[r-1][1]+=a[r-1][0]=n,d&&(n-=f/d)}a[r-1][1]+=a[r-1][0]=n,mp(t,e)}}function C0(t){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}var jG=["type","size","sizeType"];function nN(){return nN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nN.apply(this,arguments)}function x6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function b6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(n),!0).forEach(function(r){TG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TG(t,e,n){return e=OG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OG(t){var e=kG(t,"string");return C0(e)=="symbol"?e:e+""}function kG(t,e){if(C0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(C0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CG(t,e){if(t==null)return{};var n=IG(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var NL={symbolCircle:dE,symbolCross:ZH,symbolDiamond:tG,symbolSquare:nG,symbolStar:sG,symbolTriangle:oG,symbolWye:cG},PG=Math.PI/180,RG=function(e){var n="symbol".concat(ax(e));return NL[n]||dE},DG=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*PG;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},LG=function(e,n){NL["symbol".concat(ax(e))]=n},fE=function(e){var n=e.type,r=n===void 0?"circle":n,a=e.size,i=a===void 0?64:a,o=e.sizeType,u=o===void 0?"area":o,d=CG(e,jG),f=b6(b6({},d),{},{type:r,size:i,sizeType:u}),p=function(){var N=RG(r),T=uG().type(N).size(DG(i,u,r));return T()},g=f.className,y=f.cx,x=f.cy,E=On(f,!0);return y===+y&&x===+x&&i===+i?Ce.createElement("path",nN({},E,{className:Gn("recharts-symbols",g),transform:"translate(".concat(y,", ").concat(x,")"),d:p()})):null};fE.registerSymbol=LG;function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function rN(){return rN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rN.apply(this,arguments)}function _6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function MG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_6(Object(n),!0).forEach(function(r){I0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EL(r.key),r)}}function qG(t,e,n){return e&&FG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zG(t,e,n){return e=z1(e),VG(t,SL()?Reflect.construct(e,n||[],z1(t).constructor):e.apply(t,n))}function VG(t,e){if(e&&(gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UG(t)}function UG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SL=function(){return!!t})()}function z1(t){return z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z1(t)}function $G(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aN(t,e)}function aN(t,e){return aN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},aN(t,e)}function I0(t,e,n){return e=EL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EL(t){var e=HG(t,"string");return gp(e)=="symbol"?e:e+""}function HG(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ko=32,hE=(function(t){function e(){return BG(this,e),zG(this,e,arguments)}return $G(e,t),qG(e,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=ko/2,o=ko/6,u=ko/3,d=r.inactive?a:r.color;if(r.type==="plainline")return Ce.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:ko,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return Ce.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(ko,"M").concat(2*u,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return Ce.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(ko/8,"h").concat(ko,"v").concat(ko*3/4,"h").concat(-ko,"z"),className:"recharts-legend-icon"});if(Ce.isValidElement(r.legendIcon)){var f=MG({},r);return delete f.legendIcon,Ce.cloneElement(r.legendIcon,f)}return Ce.createElement(fE,{fill:d,cx:i,cy:i,size:ko,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,u=a.layout,d=a.formatter,f=a.inactiveColor,p={x:0,y:0,width:ko,height:ko},g={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(x,E){var w=x.formatter||d,N=Gn(I0(I0({"recharts-legend-item":!0},"legend-item-".concat(E),!0),"inactive",x.inactive));if(x.type==="none")return null;var T=yn(x.value)?null:x.value;cu(!yn(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=x.inactive?f:x.color;return Ce.createElement("li",rN({className:N,style:g,key:"legend-item-".concat(E)},D1(r.props,x,E)),Ce.createElement(XA,{width:o,height:o,viewBox:p,style:y},r.renderIcon(x)),Ce.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},w?w(T,x,E):T))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Ce.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(ve.PureComponent);I0(hE,"displayName","Legend");I0(hE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var R_,w6;function GG(){if(w6)return R_;w6=1;var t=tx();function e(){this.__data__=new t,this.size=0}return R_=e,R_}var D_,A6;function WG(){if(A6)return D_;A6=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return D_=t,D_}var L_,N6;function KG(){if(N6)return L_;N6=1;function t(e){return this.__data__.get(e)}return L_=t,L_}var M_,S6;function YG(){if(S6)return M_;S6=1;function t(e){return this.__data__.has(e)}return M_=t,M_}var B_,E6;function XG(){if(E6)return B_;E6=1;var t=tx(),e=rE(),n=aE(),r=200;function a(i,o){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<r-1)return d.push([i,o]),this.size=++u.size,this;u=this.__data__=new n(d)}return u.set(i,o),this.size=u.size,this}return B_=a,B_}var F_,j6;function jL(){if(j6)return F_;j6=1;var t=tx(),e=GG(),n=WG(),r=KG(),a=YG(),i=XG();function o(u){var d=this.__data__=new t(u);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=a,o.prototype.set=i,F_=o,F_}var q_,T6;function QG(){if(T6)return q_;T6=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return q_=e,q_}var z_,O6;function JG(){if(O6)return z_;O6=1;function t(e){return this.__data__.has(e)}return z_=t,z_}var V_,k6;function TL(){if(k6)return V_;k6=1;var t=aE(),e=QG(),n=JG();function r(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,V_=r,V_}var U_,C6;function OL(){if(C6)return U_;C6=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(e[r],r,e))return!0;return!1}return U_=t,U_}var $_,I6;function kL(){if(I6)return $_;I6=1;function t(e,n){return e.has(n)}return $_=t,$_}var H_,P6;function CL(){if(P6)return H_;P6=1;var t=TL(),e=OL(),n=kL(),r=1,a=2;function i(o,u,d,f,p,g){var y=d&r,x=o.length,E=u.length;if(x!=E&&!(y&&E>x))return!1;var w=g.get(o),N=g.get(u);if(w&&N)return w==u&&N==o;var T=-1,C=!0,B=d&a?new t:void 0;for(g.set(o,u),g.set(u,o);++T<x;){var q=o[T],D=u[T];if(f)var F=y?f(D,q,T,u,o,g):f(q,D,T,o,u,g);if(F!==void 0){if(F)continue;C=!1;break}if(B){if(!e(u,function(k,I){if(!n(B,I)&&(q===k||p(q,k,d,f,g)))return B.push(I)})){C=!1;break}}else if(!(q===D||p(q,D,d,f,g))){C=!1;break}}return g.delete(o),g.delete(u),C}return H_=i,H_}var G_,R6;function ZG(){if(R6)return G_;R6=1;var t=Sc(),e=t.Uint8Array;return G_=e,G_}var W_,D6;function eW(){if(D6)return W_;D6=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a,i){r[++n]=[i,a]}),r}return W_=t,W_}var K_,L6;function pE(){if(L6)return K_;L6=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a){r[++n]=a}),r}return K_=t,K_}var Y_,M6;function tW(){if(M6)return Y_;M6=1;var t=Ng(),e=ZG(),n=nE(),r=CL(),a=eW(),i=pE(),o=1,u=2,d="[object Boolean]",f="[object Date]",p="[object Error]",g="[object Map]",y="[object Number]",x="[object RegExp]",E="[object Set]",w="[object String]",N="[object Symbol]",T="[object ArrayBuffer]",C="[object DataView]",B=t?t.prototype:void 0,q=B?B.valueOf:void 0;function D(F,k,I,V,U,M,R){switch(I){case C:if(F.byteLength!=k.byteLength||F.byteOffset!=k.byteOffset)return!1;F=F.buffer,k=k.buffer;case T:return!(F.byteLength!=k.byteLength||!M(new e(F),new e(k)));case d:case f:case y:return n(+F,+k);case p:return F.name==k.name&&F.message==k.message;case x:case w:return F==k+"";case g:var j=a;case E:var G=V&o;if(j||(j=i),F.size!=k.size&&!G)return!1;var re=R.get(F);if(re)return re==k;V|=u,R.set(F,k);var J=r(j(F),j(k),V,U,M,R);return R.delete(F),J;case N:if(q)return q.call(F)==q.call(k)}return!1}return Y_=D,Y_}var X_,B6;function IL(){if(B6)return X_;B6=1;function t(e,n){for(var r=-1,a=n.length,i=e.length;++r<a;)e[i+r]=n[r];return e}return X_=t,X_}var Q_,F6;function nW(){if(F6)return Q_;F6=1;var t=IL(),e=Ds();function n(r,a,i){var o=a(r);return e(r)?o:t(o,i(r))}return Q_=n,Q_}var J_,q6;function rW(){if(q6)return J_;q6=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=0,o=[];++r<a;){var u=e[r];n(u,r,e)&&(o[i++]=u)}return o}return J_=t,J_}var Z_,z6;function aW(){if(z6)return Z_;z6=1;function t(){return[]}return Z_=t,Z_}var ew,V6;function iW(){if(V6)return ew;V6=1;var t=rW(),e=aW(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(u){return r.call(o,u)}))}:e;return ew=i,ew}var tw,U6;function sW(){if(U6)return tw;U6=1;function t(e,n){for(var r=-1,a=Array(e);++r<e;)a[r]=n(r);return a}return tw=t,tw}var nw,$6;function oW(){if($6)return nw;$6=1;var t=Au(),e=Nu(),n="[object Arguments]";function r(a){return e(a)&&t(a)==n}return nw=r,nw}var rw,H6;function mE(){if(H6)return rw;H6=1;var t=oW(),e=Nu(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&r.call(o,"callee")&&!a.call(o,"callee")};return rw=i,rw}var n0={exports:{}},aw,G6;function lW(){if(G6)return aw;G6=1;function t(){return!1}return aw=t,aw}n0.exports;var W6;function PL(){return W6||(W6=1,(function(t,e){var n=Sc(),r=lW(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,u=o?n.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||r;t.exports=f})(n0,n0.exports)),n0.exports}var iw,K6;function gE(){if(K6)return iw;K6=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<a}return iw=n,iw}var sw,Y6;function vE(){if(Y6)return sw;Y6=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return sw=e,sw}var ow,X6;function cW(){if(X6)return ow;X6=1;var t=Au(),e=vE(),n=Nu(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",g="[object Object]",y="[object RegExp]",x="[object Set]",E="[object String]",w="[object WeakMap]",N="[object ArrayBuffer]",T="[object DataView]",C="[object Float32Array]",B="[object Float64Array]",q="[object Int8Array]",D="[object Int16Array]",F="[object Int32Array]",k="[object Uint8Array]",I="[object Uint8ClampedArray]",V="[object Uint16Array]",U="[object Uint32Array]",M={};M[C]=M[B]=M[q]=M[D]=M[F]=M[k]=M[I]=M[V]=M[U]=!0,M[r]=M[a]=M[N]=M[i]=M[T]=M[o]=M[u]=M[d]=M[f]=M[p]=M[g]=M[y]=M[x]=M[E]=M[w]=!1;function R(j){return n(j)&&e(j.length)&&!!M[t(j)]}return ow=R,ow}var lw,Q6;function RL(){if(Q6)return lw;Q6=1;function t(e){return function(n){return e(n)}}return lw=t,lw}var r0={exports:{}};r0.exports;var J6;function uW(){return J6||(J6=1,(function(t,e){var n=eL(),r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,o=i&&n.process,u=(function(){try{var d=a&&a.require&&a.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();t.exports=u})(r0,r0.exports)),r0.exports}var cw,Z6;function DL(){if(Z6)return cw;Z6=1;var t=cW(),e=RL(),n=uW(),r=n&&n.isTypedArray,a=r?e(r):t;return cw=a,cw}var uw,ek;function dW(){if(ek)return uw;ek=1;var t=sW(),e=mE(),n=Ds(),r=PL(),a=gE(),i=DL(),o=Object.prototype,u=o.hasOwnProperty;function d(f,p){var g=n(f),y=!g&&e(f),x=!g&&!y&&r(f),E=!g&&!y&&!x&&i(f),w=g||y||x||E,N=w?t(f.length,String):[],T=N.length;for(var C in f)(p||u.call(f,C))&&!(w&&(C=="length"||x&&(C=="offset"||C=="parent")||E&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||a(C,T)))&&N.push(C);return N}return uw=d,uw}var dw,tk;function fW(){if(tk)return dw;tk=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||t;return n===a}return dw=e,dw}var fw,nk;function LL(){if(nk)return fw;nk=1;function t(e,n){return function(r){return e(n(r))}}return fw=t,fw}var hw,rk;function hW(){if(rk)return hw;rk=1;var t=LL(),e=t(Object.keys,Object);return hw=e,hw}var pw,ak;function pW(){if(ak)return pw;ak=1;var t=fW(),e=hW(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var u in Object(i))r.call(i,u)&&u!="constructor"&&o.push(u);return o}return pw=a,pw}var mw,ik;function Eg(){if(ik)return mw;ik=1;var t=tE(),e=vE();function n(r){return r!=null&&e(r.length)&&!t(r)}return mw=n,mw}var gw,sk;function lx(){if(sk)return gw;sk=1;var t=dW(),e=pW(),n=Eg();function r(a){return n(a)?t(a):e(a)}return gw=r,gw}var vw,ok;function mW(){if(ok)return vw;ok=1;var t=nW(),e=iW(),n=lx();function r(a){return t(a,n,e)}return vw=r,vw}var yw,lk;function gW(){if(lk)return yw;lk=1;var t=mW(),e=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,o,u,d,f,p){var g=u&e,y=t(i),x=y.length,E=t(o),w=E.length;if(x!=w&&!g)return!1;for(var N=x;N--;){var T=y[N];if(!(g?T in o:r.call(o,T)))return!1}var C=p.get(i),B=p.get(o);if(C&&B)return C==o&&B==i;var q=!0;p.set(i,o),p.set(o,i);for(var D=g;++N<x;){T=y[N];var F=i[T],k=o[T];if(d)var I=g?d(k,F,T,o,i,p):d(F,k,T,i,o,p);if(!(I===void 0?F===k||f(F,k,u,d,p):I)){q=!1;break}D||(D=T=="constructor")}if(q&&!D){var V=i.constructor,U=o.constructor;V!=U&&"constructor"in i&&"constructor"in o&&!(typeof V=="function"&&V instanceof V&&typeof U=="function"&&U instanceof U)&&(q=!1)}return p.delete(i),p.delete(o),q}return yw=a,yw}var xw,ck;function vW(){if(ck)return xw;ck=1;var t=Gf(),e=Sc(),n=t(e,"DataView");return xw=n,xw}var bw,uk;function yW(){if(uk)return bw;uk=1;var t=Gf(),e=Sc(),n=t(e,"Promise");return bw=n,bw}var _w,dk;function ML(){if(dk)return _w;dk=1;var t=Gf(),e=Sc(),n=t(e,"Set");return _w=n,_w}var ww,fk;function xW(){if(fk)return ww;fk=1;var t=Gf(),e=Sc(),n=t(e,"WeakMap");return ww=n,ww}var Aw,hk;function bW(){if(hk)return Aw;hk=1;var t=vW(),e=rE(),n=yW(),r=ML(),a=xW(),i=Au(),o=tL(),u="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",g="[object WeakMap]",y="[object DataView]",x=o(t),E=o(e),w=o(n),N=o(r),T=o(a),C=i;return(t&&C(new t(new ArrayBuffer(1)))!=y||e&&C(new e)!=u||n&&C(n.resolve())!=f||r&&C(new r)!=p||a&&C(new a)!=g)&&(C=function(B){var q=i(B),D=q==d?B.constructor:void 0,F=D?o(D):"";if(F)switch(F){case x:return y;case E:return u;case w:return f;case N:return p;case T:return g}return q}),Aw=C,Aw}var Nw,pk;function _W(){if(pk)return Nw;pk=1;var t=jL(),e=CL(),n=tW(),r=gW(),a=bW(),i=Ds(),o=PL(),u=DL(),d=1,f="[object Arguments]",p="[object Array]",g="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function E(w,N,T,C,B,q){var D=i(w),F=i(N),k=D?p:a(w),I=F?p:a(N);k=k==f?g:k,I=I==f?g:I;var V=k==g,U=I==g,M=k==I;if(M&&o(w)){if(!o(N))return!1;D=!0,V=!1}if(M&&!V)return q||(q=new t),D||u(w)?e(w,N,T,C,B,q):n(w,N,k,T,C,B,q);if(!(T&d)){var R=V&&x.call(w,"__wrapped__"),j=U&&x.call(N,"__wrapped__");if(R||j){var G=R?w.value():w,re=j?N.value():N;return q||(q=new t),B(G,re,T,C,q)}}return M?(q||(q=new t),r(w,N,T,C,B,q)):!1}return Nw=E,Nw}var Sw,mk;function yE(){if(mk)return Sw;mk=1;var t=_W(),e=Nu();function n(r,a,i,o,u){return r===a?!0:r==null||a==null||!e(r)&&!e(a)?r!==r&&a!==a:t(r,a,i,o,n,u)}return Sw=n,Sw}var Ew,gk;function wW(){if(gk)return Ew;gk=1;var t=jL(),e=yE(),n=1,r=2;function a(i,o,u,d){var f=u.length,p=f,g=!d;if(i==null)return!p;for(i=Object(i);f--;){var y=u[f];if(g&&y[2]?y[1]!==i[y[0]]:!(y[0]in i))return!1}for(;++f<p;){y=u[f];var x=y[0],E=i[x],w=y[1];if(g&&y[2]){if(E===void 0&&!(x in i))return!1}else{var N=new t;if(d)var T=d(E,w,x,i,o,N);if(!(T===void 0?e(w,E,n|r,d,N):T))return!1}}return!0}return Ew=a,Ew}var jw,vk;function BL(){if(vk)return jw;vk=1;var t=Ud();function e(n){return n===n&&!t(n)}return jw=e,jw}var Tw,yk;function AW(){if(yk)return Tw;yk=1;var t=BL(),e=lx();function n(r){for(var a=e(r),i=a.length;i--;){var o=a[i],u=r[o];a[i]=[o,u,t(u)]}return a}return Tw=n,Tw}var Ow,xk;function FL(){if(xk)return Ow;xk=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Ow=t,Ow}var kw,bk;function NW(){if(bk)return kw;bk=1;var t=wW(),e=AW(),n=FL();function r(a){var i=e(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return kw=r,kw}var Cw,_k;function SW(){if(_k)return Cw;_k=1;function t(e,n){return e!=null&&n in Object(e)}return Cw=t,Cw}var Iw,wk;function EW(){if(wk)return Iw;wk=1;var t=aL(),e=mE(),n=Ds(),r=gE(),a=vE(),i=rx();function o(u,d,f){d=t(d,u);for(var p=-1,g=d.length,y=!1;++p<g;){var x=i(d[p]);if(!(y=u!=null&&f(u,x)))break;u=u[x]}return y||++p!=g?y:(g=u==null?0:u.length,!!g&&a(g)&&r(x,g)&&(n(u)||e(u)))}return Iw=o,Iw}var Pw,Ak;function jW(){if(Ak)return Pw;Ak=1;var t=SW(),e=EW();function n(r,a){return r!=null&&e(r,a,t)}return Pw=n,Pw}var Rw,Nk;function TW(){if(Nk)return Rw;Nk=1;var t=yE(),e=iL(),n=jW(),r=eE(),a=BL(),i=FL(),o=rx(),u=1,d=2;function f(p,g){return r(p)&&a(g)?i(o(p),g):function(y){var x=e(y,p);return x===void 0&&x===g?n(y,p):t(g,x,u|d)}}return Rw=f,Rw}var Dw,Sk;function Yp(){if(Sk)return Dw;Sk=1;function t(e){return e}return Dw=t,Dw}var Lw,Ek;function OW(){if(Ek)return Lw;Ek=1;function t(e){return function(n){return n==null?void 0:n[e]}}return Lw=t,Lw}var Mw,jk;function kW(){if(jk)return Mw;jk=1;var t=sE();function e(n){return function(r){return t(r,n)}}return Mw=e,Mw}var Bw,Tk;function CW(){if(Tk)return Bw;Tk=1;var t=OW(),e=kW(),n=eE(),r=rx();function a(i){return n(i)?t(r(i)):e(i)}return Bw=a,Bw}var Fw,Ok;function $d(){if(Ok)return Fw;Ok=1;var t=NW(),e=TW(),n=Yp(),r=Ds(),a=CW();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):a(o)}return Fw=i,Fw}var qw,kk;function qL(){if(kk)return qw;kk=1;function t(e,n,r,a){for(var i=e.length,o=r+(a?1:-1);a?o--:++o<i;)if(n(e[o],o,e))return o;return-1}return qw=t,qw}var zw,Ck;function IW(){if(Ck)return zw;Ck=1;function t(e){return e!==e}return zw=t,zw}var Vw,Ik;function PW(){if(Ik)return Vw;Ik=1;function t(e,n,r){for(var a=r-1,i=e.length;++a<i;)if(e[a]===n)return a;return-1}return Vw=t,Vw}var Uw,Pk;function RW(){if(Pk)return Uw;Pk=1;var t=qL(),e=IW(),n=PW();function r(a,i,o){return i===i?n(a,i,o):t(a,e,o)}return Uw=r,Uw}var $w,Rk;function DW(){if(Rk)return $w;Rk=1;var t=RW();function e(n,r){var a=n==null?0:n.length;return!!a&&t(n,r,0)>-1}return $w=e,$w}var Hw,Dk;function LW(){if(Dk)return Hw;Dk=1;function t(e,n,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(n,e[a]))return!0;return!1}return Hw=t,Hw}var Gw,Lk;function MW(){if(Lk)return Gw;Lk=1;function t(){}return Gw=t,Gw}var Ww,Mk;function BW(){if(Mk)return Ww;Mk=1;var t=ML(),e=MW(),n=pE(),r=1/0,a=t&&1/n(new t([,-0]))[1]==r?function(i){return new t(i)}:e;return Ww=a,Ww}var Kw,Bk;function FW(){if(Bk)return Kw;Bk=1;var t=TL(),e=DW(),n=LW(),r=kL(),a=BW(),i=pE(),o=200;function u(d,f,p){var g=-1,y=e,x=d.length,E=!0,w=[],N=w;if(p)E=!1,y=n;else if(x>=o){var T=f?null:a(d);if(T)return i(T);E=!1,y=r,N=new t}else N=f?[]:w;e:for(;++g<x;){var C=d[g],B=f?f(C):C;if(C=p||C!==0?C:0,E&&B===B){for(var q=N.length;q--;)if(N[q]===B)continue e;f&&N.push(B),w.push(C)}else y(N,B,p)||(N!==w&&N.push(B),w.push(C))}return w}return Kw=u,Kw}var Yw,Fk;function qW(){if(Fk)return Yw;Fk=1;var t=$d(),e=FW();function n(r,a){return r&&r.length?e(r,t(a,2)):[]}return Yw=n,Yw}var zW=qW();const qk=xr(zW);function zL(t,e,n){return e===!0?qk(t,n):yn(e)?qk(t,e):t}function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}var VW=["ref"];function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){cx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UL(r.key),r)}}function $W(t,e,n){return e&&Vk(t.prototype,e),n&&Vk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HW(t,e,n){return e=V1(e),GW(t,VL()?Reflect.construct(e,n||[],V1(t).constructor):e.apply(t,n))}function GW(t,e){if(e&&(vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WW(t)}function WW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VL=function(){return!!t})()}function V1(t){return V1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V1(t)}function KW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iN(t,e)}function iN(t,e){return iN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},iN(t,e)}function cx(t,e,n){return e=UL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UL(t){var e=YW(t,"string");return vp(e)=="symbol"?e:e+""}function YW(t,e){if(vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XW(t,e){if(t==null)return{};var n=QW(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JW(t){return t.value}function ZW(t,e){if(Ce.isValidElement(t))return Ce.cloneElement(t,e);if(typeof t=="function")return Ce.createElement(t,e);e.ref;var n=XW(e,VW);return Ce.createElement(hE,n)}var Uk=1,tp=(function(t){function e(){var n;UW(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=HW(this,e,[].concat(a)),cx(n,"lastBoundingBox",{width:-1,height:-1}),n}return KW(e,t),$W(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Uk||Math.abs(a.height-this.lastBoundingBox.height)>Uk)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?tu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,u=a.verticalAlign,d=a.margin,f=a.chartWidth,p=a.chartHeight,g,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var x=this.getBBoxSnapshot();g={left:((f||0)-x.width)/2}}else g=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var E=this.getBBoxSnapshot();y={top:((p||0)-E.height)/2}}else y=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return tu(tu({},g),y)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,u=a.height,d=a.wrapperStyle,f=a.payloadUniqBy,p=a.payload,g=tu(tu({position:"absolute",width:o||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return Ce.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:function(x){r.wrapperNode=x}},ZW(i,tu(tu({},this.props),{},{payload:zL(p,f,JW)})))}}],[{key:"getWithHeight",value:function(r,a){var i=tu(tu({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&xt(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])})(ve.PureComponent);cx(tp,"displayName","Legend");cx(tp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Xw,$k;function eK(){if($k)return Xw;$k=1;var t=Ng(),e=mE(),n=Ds(),r=t?t.isConcatSpreadable:void 0;function a(i){return n(i)||e(i)||!!(r&&i&&i[r])}return Xw=a,Xw}var Qw,Hk;function $L(){if(Hk)return Qw;Hk=1;var t=IL(),e=eK();function n(r,a,i,o,u){var d=-1,f=r.length;for(i||(i=e),u||(u=[]);++d<f;){var p=r[d];a>0&&i(p)?a>1?n(p,a-1,i,o,u):t(u,p):o||(u[u.length]=p)}return u}return Qw=n,Qw}var Jw,Gk;function tK(){if(Gk)return Jw;Gk=1;function t(e){return function(n,r,a){for(var i=-1,o=Object(n),u=a(n),d=u.length;d--;){var f=u[e?d:++i];if(r(o[f],f,o)===!1)break}return n}}return Jw=t,Jw}var Zw,Wk;function nK(){if(Wk)return Zw;Wk=1;var t=tK(),e=t();return Zw=e,Zw}var e5,Kk;function HL(){if(Kk)return e5;Kk=1;var t=nK(),e=lx();function n(r,a){return r&&t(r,a,e)}return e5=n,e5}var t5,Yk;function rK(){if(Yk)return t5;Yk=1;var t=Eg();function e(n,r){return function(a,i){if(a==null)return a;if(!t(a))return n(a,i);for(var o=a.length,u=r?o:-1,d=Object(a);(r?u--:++u<o)&&i(d[u],u,d)!==!1;);return a}}return t5=e,t5}var n5,Xk;function xE(){if(Xk)return n5;Xk=1;var t=HL(),e=rK(),n=e(t);return n5=n,n5}var r5,Qk;function GL(){if(Qk)return r5;Qk=1;var t=xE(),e=Eg();function n(r,a){var i=-1,o=e(r)?Array(r.length):[];return t(r,function(u,d,f){o[++i]=a(u,d,f)}),o}return r5=n,r5}var a5,Jk;function aK(){if(Jk)return a5;Jk=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return a5=t,a5}var i5,Zk;function iK(){if(Zk)return i5;Zk=1;var t=Gp();function e(n,r){if(n!==r){var a=n!==void 0,i=n===null,o=n===n,u=t(n),d=r!==void 0,f=r===null,p=r===r,g=t(r);if(!f&&!g&&!u&&n>r||u&&d&&p&&!f&&!g||i&&d&&p||!a&&p||!o)return 1;if(!i&&!u&&!g&&n<r||g&&a&&o&&!i&&!u||f&&a&&o||!d&&o||!p)return-1}return 0}return i5=e,i5}var s5,eC;function sK(){if(eC)return s5;eC=1;var t=iK();function e(n,r,a){for(var i=-1,o=n.criteria,u=r.criteria,d=o.length,f=a.length;++i<d;){var p=t(o[i],u[i]);if(p){if(i>=f)return p;var g=a[i];return p*(g=="desc"?-1:1)}}return n.index-r.index}return s5=e,s5}var o5,tC;function oK(){if(tC)return o5;tC=1;var t=iE(),e=sE(),n=$d(),r=GL(),a=aK(),i=RL(),o=sK(),u=Yp(),d=Ds();function f(p,g,y){g.length?g=t(g,function(w){return d(w)?function(N){return e(N,w.length===1?w[0]:w)}:w}):g=[u];var x=-1;g=t(g,i(n));var E=r(p,function(w,N,T){var C=t(g,function(B){return B(w)});return{criteria:C,index:++x,value:w}});return a(E,function(w,N){return o(w,N,y)})}return o5=f,o5}var l5,nC;function lK(){if(nC)return l5;nC=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return l5=t,l5}var c5,rC;function cK(){if(rC)return c5;rC=1;var t=lK(),e=Math.max;function n(r,a,i){return a=e(a===void 0?r.length-1:a,0),function(){for(var o=arguments,u=-1,d=e(o.length-a,0),f=Array(d);++u<d;)f[u]=o[a+u];u=-1;for(var p=Array(a+1);++u<a;)p[u]=o[u];return p[a]=i(f),t(r,this,p)}}return c5=n,c5}var u5,aC;function uK(){if(aC)return u5;aC=1;function t(e){return function(){return e}}return u5=t,u5}var d5,iC;function WL(){if(iC)return d5;iC=1;var t=Gf(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return d5=e,d5}var f5,sC;function dK(){if(sC)return f5;sC=1;var t=uK(),e=WL(),n=Yp(),r=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return f5=r,f5}var h5,oC;function fK(){if(oC)return h5;oC=1;var t=800,e=16,n=Date.now;function r(a){var i=0,o=0;return function(){var u=n(),d=e-(u-o);if(o=u,d>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return h5=r,h5}var p5,lC;function hK(){if(lC)return p5;lC=1;var t=dK(),e=fK(),n=e(t);return p5=n,p5}var m5,cC;function pK(){if(cC)return m5;cC=1;var t=Yp(),e=cK(),n=hK();function r(a,i){return n(e(a,i,t),a+"")}return m5=r,m5}var g5,uC;function ux(){if(uC)return g5;uC=1;var t=nE(),e=Eg(),n=gE(),r=Ud();function a(i,o,u){if(!r(u))return!1;var d=typeof o;return(d=="number"?e(u)&&n(o,u.length):d=="string"&&o in u)?t(u[o],i):!1}return g5=a,g5}var v5,dC;function mK(){if(dC)return v5;dC=1;var t=$L(),e=oK(),n=pK(),r=ux(),a=n(function(i,o){if(i==null)return[];var u=o.length;return u>1&&r(i,o[0],o[1])?o=[]:u>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return v5=a,v5}var gK=mK();const bE=xr(gK);function P0(t){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P0(t)}function sN(){return sN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sN.apply(this,arguments)}function vK(t,e){return _K(t)||bK(t,e)||xK(t,e)||yK()}function yK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xK(t,e){if(t){if(typeof t=="string")return fC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fC(t,e)}}function fC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function _K(t){if(Array.isArray(t))return t}function hC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function y5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(n),!0).forEach(function(r){wK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wK(t,e,n){return e=AK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AK(t){var e=NK(t,"string");return P0(e)=="symbol"?e:e+""}function NK(t,e){if(P0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(P0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SK(t){return Array.isArray(t)&&Xa(t[0])&&Xa(t[1])?t.join(" ~ "):t}var EK=function(e){var n=e.separator,r=n===void 0?" : ":n,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,u=o===void 0?{}:o,d=e.labelStyle,f=d===void 0?{}:d,p=e.payload,g=e.formatter,y=e.itemSorter,x=e.wrapperClassName,E=e.labelClassName,w=e.label,N=e.labelFormatter,T=e.accessibilityLayer,C=T===void 0?!1:T,B=function(){if(p&&p.length){var R={padding:0,margin:0},j=(y?bE(p,y):p).map(function(G,re){if(G.type==="none")return null;var J=y5({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},u),Z=G.formatter||g||SK,oe=G.value,ye=G.name,ge=oe,le=ye;if(Z&&ge!=null&&le!=null){var P=Z(oe,ye,G,re,p);if(Array.isArray(P)){var H=vK(P,2);ge=H[0],le=H[1]}else ge=P}return Ce.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(re),style:J},Xa(le)?Ce.createElement("span",{className:"recharts-tooltip-item-name"},le):null,Xa(le)?Ce.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Ce.createElement("span",{className:"recharts-tooltip-item-value"},ge),Ce.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return Ce.createElement("ul",{className:"recharts-tooltip-item-list",style:R},j)}return null},q=y5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),D=y5({margin:0},f),F=!Mn(w),k=F?w:"",I=Gn("recharts-default-tooltip",x),V=Gn("recharts-tooltip-label",E);F&&N&&p!==void 0&&p!==null&&(k=N(w,p));var U=C?{role:"status","aria-live":"assertive"}:{};return Ce.createElement("div",sN({className:I,style:q},U),Ce.createElement("p",{className:V,style:D},Ce.isValidElement(k)?k:"".concat(k)),B())};function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}function Mv(t,e,n){return e=jK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jK(t){var e=TK(t,"string");return R0(e)=="symbol"?e:e+""}function TK(t,e){if(R0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(R0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vm="recharts-tooltip-wrapper",OK={visibility:"hidden"};function kK(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Gn(Vm,Mv(Mv(Mv(Mv({},"".concat(Vm,"-right"),xt(n)&&e&&xt(e.x)&&n>=e.x),"".concat(Vm,"-left"),xt(n)&&e&&xt(e.x)&&n<e.x),"".concat(Vm,"-bottom"),xt(r)&&e&&xt(e.y)&&r>=e.y),"".concat(Vm,"-top"),xt(r)&&e&&xt(e.y)&&r<e.y))}function pC(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,f=t.viewBoxDimension;if(i&&xt(i[r]))return i[r];var p=n[r]-u-a,g=n[r]+a;if(e[r])return o[r]?p:g;if(o[r]){var y=p,x=d[r];return y<x?Math.max(g,d[r]):Math.max(p,d[r])}var E=g+u,w=d[r]+f;return E>w?Math.max(p,d[r]):Math.max(g,d[r])}function CK(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function IK(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,f,p,g;return o.height>0&&o.width>0&&n?(p=pC({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),g=pC({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=CK({translateX:p,translateY:g,useTranslate3d:u})):f=OK,{cssProperties:f,cssClasses:kK({translateX:p,translateY:g,coordinate:n})}}function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function mC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mC(Object(n),!0).forEach(function(r){lN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YL(r.key),r)}}function DK(t,e,n){return e&&RK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LK(t,e,n){return e=U1(e),MK(t,KL()?Reflect.construct(e,n||[],U1(t).constructor):e.apply(t,n))}function MK(t,e){if(e&&(yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BK(t)}function BK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KL=function(){return!!t})()}function U1(t){return U1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U1(t)}function FK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oN(t,e)}function oN(t,e){return oN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},oN(t,e)}function lN(t,e,n){return e=YL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YL(t){var e=qK(t,"string");return yp(e)=="symbol"?e:e+""}function qK(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vC=1,zK=(function(t){function e(){var n;PK(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=LK(this,e,[].concat(a)),lN(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),lN(n,"handleKeyDown",function(o){if(o.key==="Escape"){var u,d,f,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),n}return FK(e,t),DK(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>vC||Math.abs(r.height-this.state.lastBoundingBox.height)>vC)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,f=a.children,p=a.coordinate,g=a.hasPayload,y=a.isAnimationActive,x=a.offset,E=a.position,w=a.reverseDirection,N=a.useTranslate3d,T=a.viewBox,C=a.wrapperStyle,B=IK({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:x,position:E,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:N,viewBox:T}),q=B.cssClasses,D=B.cssProperties,F=gC(gC({transition:y&&i?"transform ".concat(u,"ms ").concat(d):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&g?"visible":"hidden",position:"absolute",top:0,left:0},C);return Ce.createElement("div",{tabIndex:-1,className:q,style:F,ref:function(I){r.wrapperNode=I}},f)}}])})(ve.PureComponent),VK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xp={isSsr:VK()};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function yC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(n),!0).forEach(function(r){_E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QL(r.key),r)}}function HK(t,e,n){return e&&$K(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GK(t,e,n){return e=$1(e),WK(t,XL()?Reflect.construct(e,n||[],$1(t).constructor):e.apply(t,n))}function WK(t,e){if(e&&(xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KK(t)}function KK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XL=function(){return!!t})()}function $1(t){return $1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$1(t)}function YK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cN(t,e)}function cN(t,e){return cN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},cN(t,e)}function _E(t,e,n){return e=QL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QL(t){var e=XK(t,"string");return xp(e)=="symbol"?e:e+""}function XK(t,e){if(xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QK(t){return t.dataKey}function JK(t,e){return Ce.isValidElement(t)?Ce.cloneElement(t,e):typeof t=="function"?Ce.createElement(t,e):Ce.createElement(EK,e)}var rc=(function(t){function e(){return UK(this,e),GK(this,e,arguments)}return YK(e,t),HK(e,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,f=a.content,p=a.coordinate,g=a.filterNull,y=a.isAnimationActive,x=a.offset,E=a.payload,w=a.payloadUniqBy,N=a.position,T=a.reverseDirection,C=a.useTranslate3d,B=a.viewBox,q=a.wrapperStyle,D=E??[];g&&D.length&&(D=zL(E.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),w,QK));var F=D.length>0;return Ce.createElement(zK,{allowEscapeViewBox:o,animationDuration:u,animationEasing:d,isAnimationActive:y,active:i,coordinate:p,hasPayload:F,offset:x,position:N,reverseDirection:T,useTranslate3d:C,viewBox:B,wrapperStyle:q},JK(f,xC(xC({},this.props),{},{payload:D})))}}])})(ve.PureComponent);_E(rc,"displayName","Tooltip");_E(rc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var x5,bC;function ZK(){if(bC)return x5;bC=1;var t=Sc(),e=function(){return t.Date.now()};return x5=e,x5}var b5,_C;function eY(){if(_C)return b5;_C=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return b5=e,b5}var _5,wC;function tY(){if(wC)return _5;wC=1;var t=eY(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return _5=n,_5}var w5,AC;function JL(){if(AC)return w5;AC=1;var t=tY(),e=Ud(),n=Gp(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=e(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=t(f);var g=i.test(f);return g||o.test(f)?u(f.slice(2),g?2:8):a.test(f)?r:+f}return w5=d,w5}var A5,NC;function nY(){if(NC)return A5;NC=1;var t=Ud(),e=ZK(),n=JL(),r="Expected a function",a=Math.max,i=Math.min;function o(u,d,f){var p,g,y,x,E,w,N=0,T=!1,C=!1,B=!0;if(typeof u!="function")throw new TypeError(r);d=n(d)||0,t(f)&&(T=!!f.leading,C="maxWait"in f,y=C?a(n(f.maxWait)||0,d):y,B="trailing"in f?!!f.trailing:B);function q(j){var G=p,re=g;return p=g=void 0,N=j,x=u.apply(re,G),x}function D(j){return N=j,E=setTimeout(I,d),T?q(j):x}function F(j){var G=j-w,re=j-N,J=d-G;return C?i(J,y-re):J}function k(j){var G=j-w,re=j-N;return w===void 0||G>=d||G<0||C&&re>=y}function I(){var j=e();if(k(j))return V(j);E=setTimeout(I,F(j))}function V(j){return E=void 0,B&&p?q(j):(p=g=void 0,x)}function U(){E!==void 0&&clearTimeout(E),N=0,p=w=g=E=void 0}function M(){return E===void 0?x:V(e())}function R(){var j=e(),G=k(j);if(p=arguments,g=this,w=j,G){if(E===void 0)return D(w);if(C)return clearTimeout(E),E=setTimeout(I,d),q(w)}return E===void 0&&(E=setTimeout(I,d)),x}return R.cancel=U,R.flush=M,R}return A5=o,A5}var N5,SC;function rY(){if(SC)return N5;SC=1;var t=nY(),e=Ud(),n="Expected a function";function r(a,i,o){var u=!0,d=!0;if(typeof a!="function")throw new TypeError(n);return e(o)&&(u="leading"in o?!!o.leading:u,d="trailing"in o?!!o.trailing:d),t(a,i,{leading:u,maxWait:i,trailing:d})}return N5=r,N5}var aY=rY();const ZL=xr(aY);function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}function EC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Bv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(n),!0).forEach(function(r){iY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iY(t,e,n){return e=sY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sY(t){var e=oY(t,"string");return D0(e)=="symbol"?e:e+""}function oY(t,e){if(D0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(D0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lY(t,e){return fY(t)||dY(t,e)||uY(t,e)||cY()}function cY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uY(t,e){if(t){if(typeof t=="string")return jC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jC(t,e)}}function jC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function fY(t){if(Array.isArray(t))return t}var hY=ve.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=t.width,o=i===void 0?"100%":i,u=t.height,d=u===void 0?"100%":u,f=t.minWidth,p=f===void 0?0:f,g=t.minHeight,y=t.maxHeight,x=t.children,E=t.debounce,w=E===void 0?0:E,N=t.id,T=t.className,C=t.onResize,B=t.style,q=B===void 0?{}:B,D=ve.useRef(null),F=ve.useRef();F.current=C,ve.useImperativeHandle(e,function(){return Object.defineProperty(D.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),D.current},configurable:!0})});var k=ve.useState({containerWidth:a.width,containerHeight:a.height}),I=lY(k,2),V=I[0],U=I[1],M=ve.useCallback(function(j,G){U(function(re){var J=Math.round(j),Z=Math.round(G);return re.containerWidth===J&&re.containerHeight===Z?re:{containerWidth:J,containerHeight:Z}})},[]);ve.useEffect(function(){var j=function(ye){var ge,le=ye[0].contentRect,P=le.width,H=le.height;M(P,H),(ge=F.current)===null||ge===void 0||ge.call(F,P,H)};w>0&&(j=ZL(j,w,{trailing:!0,leading:!1}));var G=new ResizeObserver(j),re=D.current.getBoundingClientRect(),J=re.width,Z=re.height;return M(J,Z),G.observe(D.current),function(){G.disconnect()}},[M,w]);var R=ve.useMemo(function(){var j=V.containerWidth,G=V.containerHeight;if(j<0||G<0)return null;cu(wf(o)||wf(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),cu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var re=wf(o)?j:o,J=wf(d)?G:d;n&&n>0&&(re?J=re/n:J&&(re=J*n),y&&J>y&&(J=y)),cu(re>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,re,J,o,d,p,g,n);var Z=!Array.isArray(x)&&lu(x.type).endsWith("Chart");return Ce.Children.map(x,function(oe){return Ce.isValidElement(oe)?ve.cloneElement(oe,Bv({width:re,height:J},Z?{style:Bv({height:"100%",width:"100%",maxHeight:J,maxWidth:re},oe.props.style)}:{})):oe})},[n,x,d,y,g,p,V,o]);return Ce.createElement("div",{id:N?"".concat(N):void 0,className:Gn("recharts-responsive-container",T),style:Bv(Bv({},q),{},{width:o,height:d,minWidth:p,minHeight:g,maxHeight:y}),ref:D},R)}),eM=function(e){return null};eM.displayName="Cell";function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}function TC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function uN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(n),!0).forEach(function(r){pY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pY(t,e,n){return e=mY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mY(t){var e=gY(t,"string");return L0(e)=="symbol"?e:e+""}function gY(t,e){if(L0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(L0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dh={widthCache:{},cacheCount:0},vY=2e3,yY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OC="recharts_measurement_span";function xY(t){var e=uN({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var f0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Xp.isSsr)return{width:0,height:0};var r=xY(n),a=JSON.stringify({text:e,copyStyle:r});if(Dh.widthCache[a])return Dh.widthCache[a];try{var i=document.getElementById(OC);i||(i=document.createElement("span"),i.setAttribute("id",OC),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=uN(uN({},yY),r);Object.assign(i.style,o),i.textContent="".concat(e);var u=i.getBoundingClientRect(),d={width:u.width,height:u.height};return Dh.widthCache[a]=d,++Dh.cacheCount>vY&&(Dh.cacheCount=0,Dh.widthCache={}),d}catch{return{width:0,height:0}}},bY=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function M0(t){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M0(t)}function H1(t,e){return NY(t)||AY(t,e)||wY(t,e)||_Y()}function _Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wY(t,e){if(t){if(typeof t=="string")return kC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(t,e)}}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function NY(t){if(Array.isArray(t))return t}function SY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jY(r.key),r)}}function EY(t,e,n){return e&&CC(t.prototype,e),n&&CC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jY(t){var e=TY(t,"string");return M0(e)=="symbol"?e:e+""}function TY(t,e){if(M0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(M0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},CY=Object.keys(tM),Wh="NaN";function IY(t,e){return t*tM[e]}var Fv=(function(){function t(e,n){SY(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!OY.test(n)&&(this.num=NaN,this.unit=""),CY.includes(n)&&(this.num=IY(e,n),this.unit="px")}return EY(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=kY.exec(n))!==null&&r!==void 0?r:[],i=H1(a,3),o=i[1],u=i[2];return new t(parseFloat(o),u??"")}}])})();function nM(t){if(t.includes(Wh))return Wh;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=IC.exec(e))!==null&&n!==void 0?n:[],a=H1(r,4),i=a[1],o=a[2],u=a[3],d=Fv.parse(i??""),f=Fv.parse(u??""),p=o==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return Wh;e=e.replace(IC,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var g,y=(g=PC.exec(e))!==null&&g!==void 0?g:[],x=H1(y,4),E=x[1],w=x[2],N=x[3],T=Fv.parse(E??""),C=Fv.parse(N??""),B=w==="+"?T.add(C):T.subtract(C);if(B.isNaN())return Wh;e=e.replace(PC,B.toString())}return e}var RC=/\(([^()]*)\)/;function PY(t){for(var e=t;e.includes("(");){var n=RC.exec(e),r=H1(n,2),a=r[1];e=e.replace(RC,nM(a))}return e}function RY(t){var e=t.replace(/\s+/g,"");return e=PY(e),e=nM(e),e}function DY(t){try{return RY(t)}catch{return Wh}}function S5(t){var e=DY(t.slice(5,-1));return e===Wh?"":e}var LY=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],MY=["dx","dy","angle","className","breakAll"];function dN(){return dN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dN.apply(this,arguments)}function DC(t,e){if(t==null)return{};var n=BY(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LC(t,e){return VY(t)||zY(t,e)||qY(t,e)||FY()}function FY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qY(t,e){if(t){if(typeof t=="string")return MC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MC(t,e)}}function MC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function VY(t){if(Array.isArray(t))return t}var rM=/[ \f\n\r\t\v\u2028\u2029]+/,aM=function(e){var n=e.children,r=e.breakAll,a=e.style;try{var i=[];Mn(n)||(r?i=n.toString().split(""):i=n.toString().split(rM));var o=i.map(function(d){return{word:d,width:f0(d,a).width}}),u=r?0:f0("",a).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},UY=function(e,n,r,a,i){var o=e.maxLines,u=e.children,d=e.style,f=e.breakAll,p=xt(o),g=u,y=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re.reduce(function(J,Z){var oe=Z.word,ye=Z.width,ge=J[J.length-1];if(ge&&(a==null||i||ge.width+ye+r<Number(a)))ge.words.push(oe),ge.width+=ye+r;else{var le={words:[oe],width:ye};J.push(le)}return J},[])},x=y(n),E=function(re){return re.reduce(function(J,Z){return J.width>Z.width?J:Z})};if(!p)return x;for(var w="",N=function(re){var J=g.slice(0,re),Z=aM({breakAll:f,style:d,children:J+w}).wordsWithComputedWidth,oe=y(Z),ye=oe.length>o||E(oe).width>Number(a);return[ye,oe]},T=0,C=g.length-1,B=0,q;T<=C&&B<=g.length-1;){var D=Math.floor((T+C)/2),F=D-1,k=N(F),I=LC(k,2),V=I[0],U=I[1],M=N(D),R=LC(M,1),j=R[0];if(!V&&!j&&(T=D+1),V&&j&&(C=D-1),!V&&j){q=U;break}B++}return q||x},BC=function(e){var n=Mn(e)?[]:e.toString().split(rM);return[{words:n}]},$Y=function(e){var n=e.width,r=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,u=e.maxLines;if((n||r)&&!Xp.isSsr){var d,f,p=aM({breakAll:o,children:a,style:i});if(p){var g=p.wordsWithComputedWidth,y=p.spaceWidth;d=g,f=y}else return BC(a);return UY({breakAll:o,children:a,maxLines:u,style:i},d,f,n,r)}return BC(a)},FC="#808080",G1=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,o=e.lineHeight,u=o===void 0?"1em":o,d=e.capHeight,f=d===void 0?"0.71em":d,p=e.scaleToFit,g=p===void 0?!1:p,y=e.textAnchor,x=y===void 0?"start":y,E=e.verticalAnchor,w=E===void 0?"end":E,N=e.fill,T=N===void 0?FC:N,C=DC(e,LY),B=ve.useMemo(function(){return $Y({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:g,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,g,C.style,C.width]),q=C.dx,D=C.dy,F=C.angle,k=C.className,I=C.breakAll,V=DC(C,MY);if(!Xa(r)||!Xa(i))return null;var U=r+(xt(q)?q:0),M=i+(xt(D)?D:0),R;switch(w){case"start":R=S5("calc(".concat(f,")"));break;case"middle":R=S5("calc(".concat((B.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:R=S5("calc(".concat(B.length-1," * -").concat(u,")"));break}var j=[];if(g){var G=B[0].width,re=C.width;j.push("scale(".concat((xt(re)?re/G:1)/G,")"))}return F&&j.push("rotate(".concat(F,", ").concat(U,", ").concat(M,")")),j.length&&(V.transform=j.join(" ")),Ce.createElement("text",dN({},On(V,!0),{x:U,y:M,className:Gn("recharts-text",k),textAnchor:x,fill:T.includes("url")?FC:T}),B.map(function(J,Z){var oe=J.words.join(I?"":" ");return Ce.createElement("tspan",{x:U,dy:Z===0?R:u,key:"".concat(oe,"-").concat(Z)},oe)}))};function Sd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function HY(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wE(t){let e,n,r;t.length!==2?(e=Sd,n=(u,d)=>Sd(t(u),d),r=(u,d)=>t(u)-d):(e=t===Sd||t===HY?t:GY,n=t,r=t);function a(u,d,f=0,p=u.length){if(f<p){if(e(d,d)!==0)return p;do{const g=f+p>>>1;n(u[g],d)<0?f=g+1:p=g}while(f<p)}return f}function i(u,d,f=0,p=u.length){if(f<p){if(e(d,d)!==0)return p;do{const g=f+p>>>1;n(u[g],d)<=0?f=g+1:p=g}while(f<p)}return f}function o(u,d,f=0,p=u.length){const g=a(u,d,f,p-1);return g>f&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:a,center:o,right:i}}function GY(){return 0}function iM(t){return t===null?NaN:+t}function*WY(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const KY=wE(Sd),jg=KY.right;wE(iM).center;class qC extends Map{constructor(e,n=QY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(zC(this,e))}has(e){return super.has(zC(this,e))}set(e,n){return super.set(YY(this,e),n)}delete(e){return super.delete(XY(this,e))}}function zC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function YY({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function XY({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function QY(t){return t!==null&&typeof t=="object"?t.valueOf():t}function JY(t=Sd){if(t===Sd)return sM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function sM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ZY=Math.sqrt(50),eX=Math.sqrt(10),tX=Math.sqrt(2);function W1(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=ZY?10:i>=eX?5:i>=tX?2:1;let u,d,f;return a<0?(f=Math.pow(10,-a)/o,u=Math.round(t*f),d=Math.round(e*f),u/f<t&&++u,d/f>e&&--d,f=-f):(f=Math.pow(10,a)*o,u=Math.round(t/f),d=Math.round(e/f),u*f<t&&++u,d*f>e&&--d),d<u&&.5<=n&&n<2?W1(t,e,n*2):[u,d,f]}function fN(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,i,o]=r?W1(e,t,n):W1(t,e,n);if(!(i>=a))return[];const u=i-a+1,d=new Array(u);if(r)if(o<0)for(let f=0;f<u;++f)d[f]=(i-f)/-o;else for(let f=0;f<u;++f)d[f]=(i-f)*o;else if(o<0)for(let f=0;f<u;++f)d[f]=(a+f)/-o;else for(let f=0;f<u;++f)d[f]=(a+f)*o;return d}function hN(t,e,n){return e=+e,t=+t,n=+n,W1(t,e,n)[2]}function pN(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?hN(e,t,n):hN(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function VC(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function UC(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function oM(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?sM:JY(a);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,p=Math.log(d),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(d-g)/d)*(f-d/2<0?-1:1),x=Math.max(n,Math.floor(e-f*g/d+y)),E=Math.min(r,Math.floor(e+(d-f)*g/d+y));oM(t,e,x,E,a)}const i=t[e];let o=n,u=r;for(Um(t,n,e),a(t[r],i)>0&&Um(t,n,r);o<u;){for(Um(t,o,u),++o,--u;a(t[o],i)<0;)++o;for(;a(t[u],i)>0;)--u}a(t[n],i)===0?Um(t,n,u):(++u,Um(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Um(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function nX(t,e,n){if(t=Float64Array.from(WY(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return UC(t);if(e>=1)return VC(t);var r,a=(r-1)*e,i=Math.floor(a),o=VC(oM(t,i).subarray(0,i+1)),u=UC(t.subarray(i+1));return o+(u-o)*(a-i)}}function rX(t,e,n=iM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),o=+n(t[i],i,t),u=+n(t[i+1],i+1,t);return o+(u-o)*(a-i)}}function aX(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(a);++r<a;)i[r]=t+r*n;return i}function Fo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Su(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const mN=Symbol("implicit");function AE(){var t=new qC,e=[],n=[],r=mN;function a(i){let o=t.get(i);if(o===void 0){if(r!==mN)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new qC;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return AE(e,n).unknown(r)},Fo.apply(a,arguments),a}function B0(){var t=AE().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,i,o,u=!1,d=0,f=0,p=.5;delete t.unknown;function g(){var y=e().length,x=a<r,E=x?a:r,w=x?r:a;i=(w-E)/Math.max(1,y-d+f*2),u&&(i=Math.floor(i)),E+=(w-E-i*(y-d))*p,o=i*(1-d),u&&(E=Math.round(E),o=Math.round(o));var N=aX(y).map(function(T){return E+i*T});return n(x?N.reverse():N)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([r,a]=y,r=+r,a=+a,g()):[r,a]},t.rangeRound=function(y){return[r,a]=y,r=+r,a=+a,u=!0,g()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(y){return arguments.length?(u=!!y,g()):u},t.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),g()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),g()):d},t.paddingOuter=function(y){return arguments.length?(f=+y,g()):f},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},t.copy=function(){return B0(e(),[r,a]).round(u).paddingInner(d).paddingOuter(f).align(p)},Fo.apply(g(),arguments)}function lM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lM(e())},t}function h0(){return lM(B0.apply(null,arguments).paddingInner(1))}function NE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Tg(){}var F0=.7,K1=1/F0,np="\\s*([+-]?\\d+)\\s*",q0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iX=/^#([0-9a-f]{3,8})$/,sX=new RegExp(`^rgb\\(${np},${np},${np}\\)$`),oX=new RegExp(`^rgb\\(${dc},${dc},${dc}\\)$`),lX=new RegExp(`^rgba\\(${np},${np},${np},${q0}\\)$`),cX=new RegExp(`^rgba\\(${dc},${dc},${dc},${q0}\\)$`),uX=new RegExp(`^hsl\\(${q0},${dc},${dc}\\)$`),dX=new RegExp(`^hsla\\(${q0},${dc},${dc},${q0}\\)$`),$C={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NE(Tg,z0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:HC,formatHex:HC,formatHex8:fX,formatHsl:hX,formatRgb:GC,toString:GC});function HC(){return this.rgb().formatHex()}function fX(){return this.rgb().formatHex8()}function hX(){return uM(this).formatHsl()}function GC(){return this.rgb().formatRgb()}function z0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=iX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?WC(e):n===3?new Is(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sX.exec(t))?new Is(e[1],e[2],e[3],1):(e=oX.exec(t))?new Is(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=lX.exec(t))?qv(e[1],e[2],e[3],e[4]):(e=cX.exec(t))?qv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uX.exec(t))?XC(e[1],e[2]/100,e[3]/100,1):(e=dX.exec(t))?XC(e[1],e[2]/100,e[3]/100,e[4]):$C.hasOwnProperty(t)?WC($C[t]):t==="transparent"?new Is(NaN,NaN,NaN,0):null}function WC(t){return new Is(t>>16&255,t>>8&255,t&255,1)}function qv(t,e,n,r){return r<=0&&(t=e=n=NaN),new Is(t,e,n,r)}function pX(t){return t instanceof Tg||(t=z0(t)),t?(t=t.rgb(),new Is(t.r,t.g,t.b,t.opacity)):new Is}function gN(t,e,n,r){return arguments.length===1?pX(t):new Is(t,e,n,r??1)}function Is(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}NE(Is,gN,cM(Tg,{brighter(t){return t=t==null?K1:Math.pow(K1,t),new Is(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?F0:Math.pow(F0,t),new Is(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Is(Of(this.r),Of(this.g),Of(this.b),Y1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KC,formatHex:KC,formatHex8:mX,formatRgb:YC,toString:YC}));function KC(){return`#${Af(this.r)}${Af(this.g)}${Af(this.b)}`}function mX(){return`#${Af(this.r)}${Af(this.g)}${Af(this.b)}${Af((isNaN(this.opacity)?1:this.opacity)*255)}`}function YC(){const t=Y1(this.opacity);return`${t===1?"rgb(":"rgba("}${Of(this.r)}, ${Of(this.g)}, ${Of(this.b)}${t===1?")":`, ${t})`}`}function Y1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Of(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Af(t){return t=Of(t),(t<16?"0":"")+t.toString(16)}function XC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ml(t,e,n,r)}function uM(t){if(t instanceof ml)return new ml(t.h,t.s,t.l,t.opacity);if(t instanceof Tg||(t=z0(t)),!t)return new ml;if(t instanceof ml)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,u=i-a,d=(i+a)/2;return u?(e===i?o=(n-r)/u+(n<r)*6:n===i?o=(r-e)/u+2:o=(e-n)/u+4,u/=d<.5?i+a:2-i-a,o*=60):u=d>0&&d<1?0:o,new ml(o,u,d,t.opacity)}function gX(t,e,n,r){return arguments.length===1?uM(t):new ml(t,e,n,r??1)}function ml(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}NE(ml,gX,cM(Tg,{brighter(t){return t=t==null?K1:Math.pow(K1,t),new ml(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?F0:Math.pow(F0,t),new ml(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Is(E5(t>=240?t-240:t+120,a,r),E5(t,a,r),E5(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new ml(QC(this.h),zv(this.s),zv(this.l),Y1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Y1(this.opacity);return`${t===1?"hsl(":"hsla("}${QC(this.h)}, ${zv(this.s)*100}%, ${zv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function QC(t){return t=(t||0)%360,t<0?t+360:t}function zv(t){return Math.max(0,Math.min(1,t||0))}function E5(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const SE=t=>()=>t;function vX(t,e){return function(n){return t+n*e}}function yX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xX(t){return(t=+t)==1?dM:function(e,n){return n-e?yX(e,n,t):SE(isNaN(e)?n:e)}}function dM(t,e){var n=e-t;return n?vX(t,n):SE(isNaN(t)?e:t)}const JC=(function t(e){var n=xX(e);function r(a,i){var o=n((a=gN(a)).r,(i=gN(i)).r),u=n(a.g,i.g),d=n(a.b,i.b),f=dM(a.opacity,i.opacity);return function(p){return a.r=o(p),a.g=u(p),a.b=d(p),a.opacity=f(p),a+""}}return r.gamma=t,r})(1);function bX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function _X(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Qp(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(u){for(o=0;o<r;++o)i[o]=a[o](u);return i}}function AX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function X1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function NX(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Qp(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var vN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,j5=new RegExp(vN.source,"g");function SX(t){return function(){return t}}function EX(t){return function(e){return t(e)+""}}function jX(t,e){var n=vN.lastIndex=j5.lastIndex=0,r,a,i,o=-1,u=[],d=[];for(t=t+"",e=e+"";(r=vN.exec(t))&&(a=j5.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),u[o]?u[o]+=i:u[++o]=i),(r=r[0])===(a=a[0])?u[o]?u[o]+=a:u[++o]=a:(u[++o]=null,d.push({i:o,x:X1(r,a)})),n=j5.lastIndex;return n<e.length&&(i=e.slice(n),u[o]?u[o]+=i:u[++o]=i),u.length<2?d[0]?EX(d[0].x):SX(e):(e=d.length,function(f){for(var p=0,g;p<e;++p)u[(g=d[p]).i]=g.x(f);return u.join("")})}function Qp(t,e){var n=typeof e,r;return e==null||n==="boolean"?SE(e):(n==="number"?X1:n==="string"?(r=z0(e))?(e=r,JC):jX:e instanceof z0?JC:e instanceof Date?AX:_X(e)?bX:Array.isArray(e)?wX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?NX:X1)(t,e)}function EE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function TX(t,e){e===void 0&&(e=t,t=Qp);for(var n=0,r=e.length-1,a=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(a,a=e[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[u](o-u)}}function OX(t){return function(){return t}}function Q1(t){return+t}var ZC=[0,1];function fs(t){return t}function yN(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:OX(isNaN(e)?NaN:.5)}function kX(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function CX(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=yN(a,r),i=n(o,i)):(r=yN(r,a),i=n(i,o)),function(u){return i(r(u))}}function IX(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=yN(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(u){var d=jg(t,u,1,r)-1;return i[d](a[d](u))}}function Og(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function dx(){var t=ZC,e=ZC,n=Qp,r,a,i,o=fs,u,d,f;function p(){var y=Math.min(t.length,e.length);return o!==fs&&(o=kX(t[0],t[y-1])),u=y>2?IX:CX,d=f=null,g}function g(y){return y==null||isNaN(y=+y)?i:(d||(d=u(t.map(r),e,n)))(r(o(y)))}return g.invert=function(y){return o(a((f||(f=u(e,t.map(r),X1)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,Q1),p()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),n=EE,p()},g.clamp=function(y){return arguments.length?(o=y?!0:fs,p()):o!==fs},g.interpolate=function(y){return arguments.length?(n=y,p()):n},g.unknown=function(y){return arguments.length?(i=y,g):i},function(y,x){return r=y,a=x,p()}}function jE(){return dx()(fs,fs)}function PX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function J1(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function bp(t){return t=J1(Math.abs(t)),t?t[1]:NaN}function RX(t,e){return function(n,r){for(var a=n.length,i=[],o=0,u=t[0],d=0;a>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),i.push(n.substring(a-=u,a+u)),!((d+=u+1)>r));)u=t[o=(o+1)%t.length];return i.reverse().join(e)}}function DX(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var LX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function V0(t){if(!(e=LX.exec(t)))throw new Error("invalid format: "+t);var e;return new TE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}V0.prototype=TE.prototype;function TE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}TE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MX(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var Z1;function BX(t,e){var n=J1(t,e);if(!n)return Z1=void 0,t.toPrecision(e);var r=n[0],a=n[1],i=a-(Z1=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+J1(t,Math.max(0,e+i-1))[0]}function eI(t,e){var n=J1(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const tI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:PX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>eI(t*100,e),r:eI,s:BX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nI(t){return t}var rI=Array.prototype.map,aI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function FX(t){var e=t.grouping===void 0||t.thousands===void 0?nI:RX(rI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?nI:DX(rI.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(g,y){g=V0(g);var x=g.fill,E=g.align,w=g.sign,N=g.symbol,T=g.zero,C=g.width,B=g.comma,q=g.precision,D=g.trim,F=g.type;F==="n"?(B=!0,F="g"):tI[F]||(q===void 0&&(q=12),D=!0,F="g"),(T||x==="0"&&E==="=")&&(T=!0,x="0",E="=");var k=(y&&y.prefix!==void 0?y.prefix:"")+(N==="$"?n:N==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():""),I=(N==="$"?r:/[%p]/.test(F)?o:"")+(y&&y.suffix!==void 0?y.suffix:""),V=tI[F],U=/[defgprs%]/.test(F);q=q===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,q)):Math.max(0,Math.min(20,q));function M(R){var j=k,G=I,re,J,Z;if(F==="c")G=V(R)+G,R="";else{R=+R;var oe=R<0||1/R<0;if(R=isNaN(R)?d:V(Math.abs(R),q),D&&(R=MX(R)),oe&&+R==0&&w!=="+"&&(oe=!1),j=(oe?w==="("?w:u:w==="-"||w==="("?"":w)+j,G=(F==="s"&&!isNaN(R)&&Z1!==void 0?aI[8+Z1/3]:"")+G+(oe&&w==="("?")":""),U){for(re=-1,J=R.length;++re<J;)if(Z=R.charCodeAt(re),48>Z||Z>57){G=(Z===46?a+R.slice(re+1):R.slice(re))+G,R=R.slice(0,re);break}}}B&&!T&&(R=e(R,1/0));var ye=j.length+R.length+G.length,ge=ye<C?new Array(C-ye+1).join(x):"";switch(B&&T&&(R=e(ge+R,ge.length?C-G.length:1/0),ge=""),E){case"<":R=j+R+G+ge;break;case"=":R=j+ge+R+G;break;case"^":R=ge.slice(0,ye=ge.length>>1)+j+R+G+ge.slice(ye);break;default:R=ge+j+R+G;break}return i(R)}return M.toString=function(){return g+""},M}function p(g,y){var x=Math.max(-8,Math.min(8,Math.floor(bp(y)/3)))*3,E=Math.pow(10,-x),w=f((g=V0(g),g.type="f",g),{suffix:aI[8+x/3]});return function(N){return w(E*N)}}return{format:f,formatPrefix:p}}var Vv,OE,fM;qX({thousands:",",grouping:[3],currency:["$",""]});function qX(t){return Vv=FX(t),OE=Vv.format,fM=Vv.formatPrefix,Vv}function zX(t){return Math.max(0,-bp(Math.abs(t)))}function VX(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bp(e)/3)))*3-bp(Math.abs(t)))}function UX(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bp(e)-bp(t))+1}function hM(t,e,n,r){var a=pN(t,e,n),i;switch(r=V0(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=VX(a,o))&&(r.precision=i),fM(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=UX(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=zX(a))&&(r.precision=i-(r.type==="%")*2);break}}return OE(r)}function Hd(t){var e=t.domain;return t.ticks=function(n){var r=e();return fN(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return hM(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,o=r[a],u=r[i],d,f,p=10;for(u<o&&(f=o,o=u,u=f,f=a,a=i,i=f);p-- >0;){if(f=hN(o,u,n),f===d)return r[a]=o,r[i]=u,e(r);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;d=f}return t},t}function ey(){var t=jE();return t.copy=function(){return Og(t,ey())},Fo.apply(t,arguments),Hd(t)}function pM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Q1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return pM(t).unknown(e)},t=arguments.length?Array.from(t,Q1):[0,1],Hd(n)}function mM(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),t[n]=e.floor(a),t[r]=e.ceil(i),t}function iI(t){return Math.log(t)}function sI(t){return Math.exp(t)}function $X(t){return-Math.log(-t)}function HX(t){return-Math.exp(-t)}function GX(t){return isFinite(t)?+("1e"+t):t<0?0:t}function WX(t){return t===10?GX:t===Math.E?Math.exp:e=>Math.pow(t,e)}function KX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function oI(t){return(e,n)=>-t(-e,n)}function kE(t){const e=t(iI,sI),n=e.domain;let r=10,a,i;function o(){return a=KX(r),i=WX(r),n()[0]<0?(a=oI(a),i=oI(i),t($X,HX)):t(iI,sI),e}return e.base=function(u){return arguments.length?(r=+u,o()):r},e.domain=function(u){return arguments.length?(n(u),o()):n()},e.ticks=u=>{const d=n();let f=d[0],p=d[d.length-1];const g=p<f;g&&([f,p]=[p,f]);let y=a(f),x=a(p),E,w;const N=u==null?10:+u;let T=[];if(!(r%1)&&x-y<N){if(y=Math.floor(y),x=Math.ceil(x),f>0){for(;y<=x;++y)for(E=1;E<r;++E)if(w=y<0?E/i(-y):E*i(y),!(w<f)){if(w>p)break;T.push(w)}}else for(;y<=x;++y)for(E=r-1;E>=1;--E)if(w=y>0?E/i(-y):E*i(y),!(w<f)){if(w>p)break;T.push(w)}T.length*2<N&&(T=fN(f,p,N))}else T=fN(y,x,Math.min(x-y,N)).map(i);return g?T.reverse():T},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=V0(d)).precision==null&&(d.trim=!0),d=OE(d)),u===1/0)return d;const f=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/i(Math.round(a(p)));return g*r<r-.5&&(g*=r),g<=f?d(p):""}},e.nice=()=>n(mM(n(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),e}function gM(){const t=kE(dx()).domain([1,10]);return t.copy=()=>Og(t,gM()).base(t.base()),Fo.apply(t,arguments),t}function lI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function CE(t){var e=1,n=t(lI(e),cI(e));return n.constant=function(r){return arguments.length?t(lI(e=+r),cI(e)):e},Hd(n)}function vM(){var t=CE(dx());return t.copy=function(){return Og(t,vM()).constant(t.constant())},Fo.apply(t,arguments)}function uI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function YX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function XX(t){return t<0?-t*t:t*t}function IE(t){var e=t(fs,fs),n=1;function r(){return n===1?t(fs,fs):n===.5?t(YX,XX):t(uI(n),uI(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},Hd(e)}function PE(){var t=IE(dx());return t.copy=function(){return Og(t,PE()).exponent(t.exponent())},Fo.apply(t,arguments),t}function QX(){return PE.apply(null,arguments).exponent(.5)}function dI(t){return Math.sign(t)*t*t}function JX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function yM(){var t=jE(),e=[0,1],n=!1,r;function a(i){var o=JX(t(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return t.invert(dI(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Q1)).map(dI)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return yM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Fo.apply(a,arguments),Hd(a)}function xM(){var t=[],e=[],n=[],r;function a(){var o=0,u=Math.max(1,e.length);for(n=new Array(u-1);++o<u;)n[o-1]=rX(t,o/u);return i}function i(o){return o==null||isNaN(o=+o)?r:e[jg(n,o)]}return i.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Sd),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return xM().domain(t).range(e).unknown(r)},Fo.apply(i,arguments)}function bM(){var t=0,e=1,n=1,r=[.5],a=[0,1],i;function o(d){return d!=null&&d<=d?a[jg(r,d,0,n)]:i}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},o.range=function(d){return arguments.length?(n=(a=Array.from(d)).length-1,u()):a.slice()},o.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return r.slice()},o.copy=function(){return bM().domain([t,e]).range(a).unknown(i)},Fo.apply(Hd(o),arguments)}function _M(){var t=[.5],e=[0,1],n,r=1;function a(i){return i!=null&&i<=i?e[jg(t,i,0,r)]:n}return a.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return _M().domain(t).range(e).unknown(n)},Fo.apply(a,arguments)}const T5=new Date,O5=new Date;function Ja(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),u=a.ceil(i);return i-o<u-i?o:u},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,u)=>{const d=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<o)||!(u>0))return d;let f;do d.push(f=new Date(+i)),e(i,u),t(i);while(f<i&&i<o);return d},a.filter=i=>Ja(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!i(o););else for(;--u>=0;)for(;e(o,1),!i(o););}),n&&(a.count=(i,o)=>(T5.setTime(+i),O5.setTime(+o),t(T5),t(O5),Math.floor(n(T5,O5))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const ty=Ja(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ty.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ja(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ty);ty.range;const ru=1e3,Lo=ru*60,au=Lo*60,pu=au*24,RE=pu*7,fI=pu*30,k5=pu*365,Nf=Ja(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ru)},(t,e)=>(e-t)/ru,t=>t.getUTCSeconds());Nf.range;const DE=Ja(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ru)},(t,e)=>{t.setTime(+t+e*Lo)},(t,e)=>(e-t)/Lo,t=>t.getMinutes());DE.range;const LE=Ja(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Lo)},(t,e)=>(e-t)/Lo,t=>t.getUTCMinutes());LE.range;const ME=Ja(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ru-t.getMinutes()*Lo)},(t,e)=>{t.setTime(+t+e*au)},(t,e)=>(e-t)/au,t=>t.getHours());ME.range;const BE=Ja(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*au)},(t,e)=>(e-t)/au,t=>t.getUTCHours());BE.range;const kg=Ja(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Lo)/pu,t=>t.getDate()-1);kg.range;const fx=Ja(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pu,t=>t.getUTCDate()-1);fx.range;const wM=Ja(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pu,t=>Math.floor(t/pu));wM.range;function Wf(t){return Ja(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Lo)/RE)}const hx=Wf(0),ny=Wf(1),ZX=Wf(2),eQ=Wf(3),_p=Wf(4),tQ=Wf(5),nQ=Wf(6);hx.range;ny.range;ZX.range;eQ.range;_p.range;tQ.range;nQ.range;function Kf(t){return Ja(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/RE)}const px=Kf(0),ry=Kf(1),rQ=Kf(2),aQ=Kf(3),wp=Kf(4),iQ=Kf(5),sQ=Kf(6);px.range;ry.range;rQ.range;aQ.range;wp.range;iQ.range;sQ.range;const FE=Ja(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());FE.range;const qE=Ja(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());qE.range;const mu=Ja(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());mu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ja(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});mu.range;const gu=Ja(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());gu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ja(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});gu.range;function AM(t,e,n,r,a,i){const o=[[Nf,1,ru],[Nf,5,5*ru],[Nf,15,15*ru],[Nf,30,30*ru],[i,1,Lo],[i,5,5*Lo],[i,15,15*Lo],[i,30,30*Lo],[a,1,au],[a,3,3*au],[a,6,6*au],[a,12,12*au],[r,1,pu],[r,2,2*pu],[n,1,RE],[e,1,fI],[e,3,3*fI],[t,1,k5]];function u(f,p,g){const y=p<f;y&&([f,p]=[p,f]);const x=g&&typeof g.range=="function"?g:d(f,p,g),E=x?x.range(f,+p+1):[];return y?E.reverse():E}function d(f,p,g){const y=Math.abs(p-f)/g,x=wE(([,,N])=>N).right(o,y);if(x===o.length)return t.every(pN(f/k5,p/k5,g));if(x===0)return ty.every(Math.max(pN(f,p,g),1));const[E,w]=o[y/o[x-1][2]<o[x][2]/y?x-1:x];return E.every(w)}return[u,d]}const[oQ,lQ]=AM(gu,qE,px,wM,BE,LE),[cQ,uQ]=AM(mu,FE,hx,kg,ME,DE);function C5(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function I5(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $m(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function dQ(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,o=t.shortDays,u=t.months,d=t.shortMonths,f=Hm(a),p=Gm(a),g=Hm(i),y=Gm(i),x=Hm(o),E=Gm(o),w=Hm(u),N=Gm(u),T=Hm(d),C=Gm(d),B={a:Z,A:oe,b:ye,B:ge,c:null,d:yI,e:yI,f:RQ,g:$Q,G:GQ,H:CQ,I:IQ,j:PQ,L:NM,m:DQ,M:LQ,p:le,q:P,Q:_I,s:wI,S:MQ,u:BQ,U:FQ,V:qQ,w:zQ,W:VQ,x:null,X:null,y:UQ,Y:HQ,Z:WQ,"%":bI},q={a:H,A:Q,b:K,B:X,c:null,d:xI,e:xI,f:QQ,g:oJ,G:cJ,H:KQ,I:YQ,j:XQ,L:EM,m:JQ,M:ZQ,p:me,q:be,Q:_I,s:wI,S:eJ,u:tJ,U:nJ,V:rJ,w:aJ,W:iJ,x:null,X:null,y:sJ,Y:lJ,Z:uJ,"%":bI},D={a:U,A:M,b:R,B:j,c:G,d:gI,e:gI,f:jQ,g:mI,G:pI,H:vI,I:vI,j:AQ,L:EQ,m:wQ,M:NQ,p:V,q:_Q,Q:OQ,s:kQ,S:SQ,u:gQ,U:vQ,V:yQ,w:mQ,W:xQ,x:re,X:J,y:mI,Y:pI,Z:bQ,"%":TQ};B.x=F(n,B),B.X=F(r,B),B.c=F(e,B),q.x=F(n,q),q.X=F(r,q),q.c=F(e,q);function F(ee,_e){return function(Se){var Ae=[],Je=-1,Le=0,ce=ee.length,ae,Ye,nt;for(Se instanceof Date||(Se=new Date(+Se));++Je<ce;)ee.charCodeAt(Je)===37&&(Ae.push(ee.slice(Le,Je)),(Ye=hI[ae=ee.charAt(++Je)])!=null?ae=ee.charAt(++Je):Ye=ae==="e"?" ":"0",(nt=_e[ae])&&(ae=nt(Se,Ye)),Ae.push(ae),Le=Je+1);return Ae.push(ee.slice(Le,Je)),Ae.join("")}}function k(ee,_e){return function(Se){var Ae=$m(1900,void 0,1),Je=I(Ae,ee,Se+="",0),Le,ce;if(Je!=Se.length)return null;if("Q"in Ae)return new Date(Ae.Q);if("s"in Ae)return new Date(Ae.s*1e3+("L"in Ae?Ae.L:0));if(_e&&!("Z"in Ae)&&(Ae.Z=0),"p"in Ae&&(Ae.H=Ae.H%12+Ae.p*12),Ae.m===void 0&&(Ae.m="q"in Ae?Ae.q:0),"V"in Ae){if(Ae.V<1||Ae.V>53)return null;"w"in Ae||(Ae.w=1),"Z"in Ae?(Le=I5($m(Ae.y,0,1)),ce=Le.getUTCDay(),Le=ce>4||ce===0?ry.ceil(Le):ry(Le),Le=fx.offset(Le,(Ae.V-1)*7),Ae.y=Le.getUTCFullYear(),Ae.m=Le.getUTCMonth(),Ae.d=Le.getUTCDate()+(Ae.w+6)%7):(Le=C5($m(Ae.y,0,1)),ce=Le.getDay(),Le=ce>4||ce===0?ny.ceil(Le):ny(Le),Le=kg.offset(Le,(Ae.V-1)*7),Ae.y=Le.getFullYear(),Ae.m=Le.getMonth(),Ae.d=Le.getDate()+(Ae.w+6)%7)}else("W"in Ae||"U"in Ae)&&("w"in Ae||(Ae.w="u"in Ae?Ae.u%7:"W"in Ae?1:0),ce="Z"in Ae?I5($m(Ae.y,0,1)).getUTCDay():C5($m(Ae.y,0,1)).getDay(),Ae.m=0,Ae.d="W"in Ae?(Ae.w+6)%7+Ae.W*7-(ce+5)%7:Ae.w+Ae.U*7-(ce+6)%7);return"Z"in Ae?(Ae.H+=Ae.Z/100|0,Ae.M+=Ae.Z%100,I5(Ae)):C5(Ae)}}function I(ee,_e,Se,Ae){for(var Je=0,Le=_e.length,ce=Se.length,ae,Ye;Je<Le;){if(Ae>=ce)return-1;if(ae=_e.charCodeAt(Je++),ae===37){if(ae=_e.charAt(Je++),Ye=D[ae in hI?_e.charAt(Je++):ae],!Ye||(Ae=Ye(ee,Se,Ae))<0)return-1}else if(ae!=Se.charCodeAt(Ae++))return-1}return Ae}function V(ee,_e,Se){var Ae=f.exec(_e.slice(Se));return Ae?(ee.p=p.get(Ae[0].toLowerCase()),Se+Ae[0].length):-1}function U(ee,_e,Se){var Ae=x.exec(_e.slice(Se));return Ae?(ee.w=E.get(Ae[0].toLowerCase()),Se+Ae[0].length):-1}function M(ee,_e,Se){var Ae=g.exec(_e.slice(Se));return Ae?(ee.w=y.get(Ae[0].toLowerCase()),Se+Ae[0].length):-1}function R(ee,_e,Se){var Ae=T.exec(_e.slice(Se));return Ae?(ee.m=C.get(Ae[0].toLowerCase()),Se+Ae[0].length):-1}function j(ee,_e,Se){var Ae=w.exec(_e.slice(Se));return Ae?(ee.m=N.get(Ae[0].toLowerCase()),Se+Ae[0].length):-1}function G(ee,_e,Se){return I(ee,e,_e,Se)}function re(ee,_e,Se){return I(ee,n,_e,Se)}function J(ee,_e,Se){return I(ee,r,_e,Se)}function Z(ee){return o[ee.getDay()]}function oe(ee){return i[ee.getDay()]}function ye(ee){return d[ee.getMonth()]}function ge(ee){return u[ee.getMonth()]}function le(ee){return a[+(ee.getHours()>=12)]}function P(ee){return 1+~~(ee.getMonth()/3)}function H(ee){return o[ee.getUTCDay()]}function Q(ee){return i[ee.getUTCDay()]}function K(ee){return d[ee.getUTCMonth()]}function X(ee){return u[ee.getUTCMonth()]}function me(ee){return a[+(ee.getUTCHours()>=12)]}function be(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var _e=F(ee+="",B);return _e.toString=function(){return ee},_e},parse:function(ee){var _e=k(ee+="",!1);return _e.toString=function(){return ee},_e},utcFormat:function(ee){var _e=F(ee+="",q);return _e.toString=function(){return ee},_e},utcParse:function(ee){var _e=k(ee+="",!0);return _e.toString=function(){return ee},_e}}}var hI={"-":"",_:" ",0:"0"},fi=/^\s*\d+/,fQ=/^%/,hQ=/[\\^$*+?|[\]().{}]/g;function Jn(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function pQ(t){return t.replace(hQ,"\\$&")}function Hm(t){return new RegExp("^(?:"+t.map(pQ).join("|")+")","i")}function Gm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function mQ(t,e,n){var r=fi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function gQ(t,e,n){var r=fi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function vQ(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function yQ(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function xQ(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pI(t,e,n){var r=fi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function mI(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _Q(t,e,n){var r=fi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function wQ(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function gI(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function AQ(t,e,n){var r=fi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function vI(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function NQ(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function SQ(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function EQ(t,e,n){var r=fi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function jQ(t,e,n){var r=fi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function TQ(t,e,n){var r=fQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function OQ(t,e,n){var r=fi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function kQ(t,e,n){var r=fi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function yI(t,e){return Jn(t.getDate(),e,2)}function CQ(t,e){return Jn(t.getHours(),e,2)}function IQ(t,e){return Jn(t.getHours()%12||12,e,2)}function PQ(t,e){return Jn(1+kg.count(mu(t),t),e,3)}function NM(t,e){return Jn(t.getMilliseconds(),e,3)}function RQ(t,e){return NM(t,e)+"000"}function DQ(t,e){return Jn(t.getMonth()+1,e,2)}function LQ(t,e){return Jn(t.getMinutes(),e,2)}function MQ(t,e){return Jn(t.getSeconds(),e,2)}function BQ(t){var e=t.getDay();return e===0?7:e}function FQ(t,e){return Jn(hx.count(mu(t)-1,t),e,2)}function SM(t){var e=t.getDay();return e>=4||e===0?_p(t):_p.ceil(t)}function qQ(t,e){return t=SM(t),Jn(_p.count(mu(t),t)+(mu(t).getDay()===4),e,2)}function zQ(t){return t.getDay()}function VQ(t,e){return Jn(ny.count(mu(t)-1,t),e,2)}function UQ(t,e){return Jn(t.getFullYear()%100,e,2)}function $Q(t,e){return t=SM(t),Jn(t.getFullYear()%100,e,2)}function HQ(t,e){return Jn(t.getFullYear()%1e4,e,4)}function GQ(t,e){var n=t.getDay();return t=n>=4||n===0?_p(t):_p.ceil(t),Jn(t.getFullYear()%1e4,e,4)}function WQ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Jn(e/60|0,"0",2)+Jn(e%60,"0",2)}function xI(t,e){return Jn(t.getUTCDate(),e,2)}function KQ(t,e){return Jn(t.getUTCHours(),e,2)}function YQ(t,e){return Jn(t.getUTCHours()%12||12,e,2)}function XQ(t,e){return Jn(1+fx.count(gu(t),t),e,3)}function EM(t,e){return Jn(t.getUTCMilliseconds(),e,3)}function QQ(t,e){return EM(t,e)+"000"}function JQ(t,e){return Jn(t.getUTCMonth()+1,e,2)}function ZQ(t,e){return Jn(t.getUTCMinutes(),e,2)}function eJ(t,e){return Jn(t.getUTCSeconds(),e,2)}function tJ(t){var e=t.getUTCDay();return e===0?7:e}function nJ(t,e){return Jn(px.count(gu(t)-1,t),e,2)}function jM(t){var e=t.getUTCDay();return e>=4||e===0?wp(t):wp.ceil(t)}function rJ(t,e){return t=jM(t),Jn(wp.count(gu(t),t)+(gu(t).getUTCDay()===4),e,2)}function aJ(t){return t.getUTCDay()}function iJ(t,e){return Jn(ry.count(gu(t)-1,t),e,2)}function sJ(t,e){return Jn(t.getUTCFullYear()%100,e,2)}function oJ(t,e){return t=jM(t),Jn(t.getUTCFullYear()%100,e,2)}function lJ(t,e){return Jn(t.getUTCFullYear()%1e4,e,4)}function cJ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?wp(t):wp.ceil(t),Jn(t.getUTCFullYear()%1e4,e,4)}function uJ(){return"+0000"}function bI(){return"%"}function _I(t){return+t}function wI(t){return Math.floor(+t/1e3)}var Lh,TM,OM;dJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dJ(t){return Lh=dQ(t),TM=Lh.format,Lh.parse,OM=Lh.utcFormat,Lh.utcParse,Lh}function fJ(t){return new Date(t)}function hJ(t){return t instanceof Date?+t:+new Date(+t)}function zE(t,e,n,r,a,i,o,u,d,f){var p=jE(),g=p.invert,y=p.domain,x=f(".%L"),E=f(":%S"),w=f("%I:%M"),N=f("%I %p"),T=f("%a %d"),C=f("%b %d"),B=f("%B"),q=f("%Y");function D(F){return(d(F)<F?x:u(F)<F?E:o(F)<F?w:i(F)<F?N:r(F)<F?a(F)<F?T:C:n(F)<F?B:q)(F)}return p.invert=function(F){return new Date(g(F))},p.domain=function(F){return arguments.length?y(Array.from(F,hJ)):y().map(fJ)},p.ticks=function(F){var k=y();return t(k[0],k[k.length-1],F??10)},p.tickFormat=function(F,k){return k==null?D:f(k)},p.nice=function(F){var k=y();return(!F||typeof F.range!="function")&&(F=e(k[0],k[k.length-1],F??10)),F?y(mM(k,F)):p},p.copy=function(){return Og(p,zE(t,e,n,r,a,i,o,u,d,f))},p}function pJ(){return Fo.apply(zE(cQ,uQ,mu,FE,hx,kg,ME,DE,Nf,TM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mJ(){return Fo.apply(zE(oQ,lQ,gu,qE,px,fx,BE,LE,Nf,OM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mx(){var t=0,e=1,n,r,a,i,o=fs,u=!1,d;function f(g){return g==null||isNaN(g=+g)?d:o(a===0?.5:(g=(i(g)-n)*a,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,n=i(t=+t),r=i(e=+e),a=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(o=g,f):o};function p(g){return function(y){var x,E;return arguments.length?([x,E]=y,o=g(x,E),f):[o(0),o(1)]}}return f.range=p(Qp),f.rangeRound=p(EE),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return i=g,n=g(t),r=g(e),a=n===r?0:1/(r-n),f}}function Gd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function kM(){var t=Hd(mx()(fs));return t.copy=function(){return Gd(t,kM())},Su.apply(t,arguments)}function CM(){var t=kE(mx()).domain([1,10]);return t.copy=function(){return Gd(t,CM()).base(t.base())},Su.apply(t,arguments)}function IM(){var t=CE(mx());return t.copy=function(){return Gd(t,IM()).constant(t.constant())},Su.apply(t,arguments)}function VE(){var t=IE(mx());return t.copy=function(){return Gd(t,VE()).exponent(t.exponent())},Su.apply(t,arguments)}function gJ(){return VE.apply(null,arguments).exponent(.5)}function PM(){var t=[],e=fs;function n(r){if(r!=null&&!isNaN(r=+r))return e((jg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Sd),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>nX(t,i/r))},n.copy=function(){return PM(e).domain(t)},Su.apply(n,arguments)}function gx(){var t=0,e=.5,n=1,r=1,a,i,o,u,d,f=fs,p,g=!1,y;function x(w){return isNaN(w=+w)?y:(w=.5+((w=+p(w))-i)*(r*w<r*i?u:d),f(g?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,n]=w,a=p(t=+t),i=p(e=+e),o=p(n=+n),u=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),r=i<a?-1:1,x):[t,e,n]},x.clamp=function(w){return arguments.length?(g=!!w,x):g},x.interpolator=function(w){return arguments.length?(f=w,x):f};function E(w){return function(N){var T,C,B;return arguments.length?([T,C,B]=N,f=TX(w,[T,C,B]),x):[f(0),f(.5),f(1)]}}return x.range=E(Qp),x.rangeRound=E(EE),x.unknown=function(w){return arguments.length?(y=w,x):y},function(w){return p=w,a=w(t),i=w(e),o=w(n),u=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),r=i<a?-1:1,x}}function RM(){var t=Hd(gx()(fs));return t.copy=function(){return Gd(t,RM())},Su.apply(t,arguments)}function DM(){var t=kE(gx()).domain([.1,1,10]);return t.copy=function(){return Gd(t,DM()).base(t.base())},Su.apply(t,arguments)}function LM(){var t=CE(gx());return t.copy=function(){return Gd(t,LM()).constant(t.constant())},Su.apply(t,arguments)}function UE(){var t=IE(gx());return t.copy=function(){return Gd(t,UE()).exponent(t.exponent())},Su.apply(t,arguments)}function vJ(){return UE.apply(null,arguments).exponent(.5)}const AI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:B0,scaleDiverging:RM,scaleDivergingLog:DM,scaleDivergingPow:UE,scaleDivergingSqrt:vJ,scaleDivergingSymlog:LM,scaleIdentity:pM,scaleImplicit:mN,scaleLinear:ey,scaleLog:gM,scaleOrdinal:AE,scalePoint:h0,scalePow:PE,scaleQuantile:xM,scaleQuantize:bM,scaleRadial:yM,scaleSequential:kM,scaleSequentialLog:CM,scaleSequentialPow:VE,scaleSequentialQuantile:PM,scaleSequentialSqrt:gJ,scaleSequentialSymlog:IM,scaleSqrt:QX,scaleSymlog:vM,scaleThreshold:_M,scaleTime:pJ,scaleUtc:mJ,tickFormat:hM},Symbol.toStringTag,{value:"Module"}));var P5,NI;function MM(){if(NI)return P5;NI=1;var t=Gp();function e(n,r,a){for(var i=-1,o=n.length;++i<o;){var u=n[i],d=r(u);if(d!=null&&(f===void 0?d===d&&!t(d):a(d,f)))var f=d,p=u}return p}return P5=e,P5}var R5,SI;function yJ(){if(SI)return R5;SI=1;function t(e,n){return e>n}return R5=t,R5}var D5,EI;function xJ(){if(EI)return D5;EI=1;var t=MM(),e=yJ(),n=Yp();function r(a){return a&&a.length?t(a,n,e):void 0}return D5=r,D5}var bJ=xJ();const xd=xr(bJ);var L5,jI;function _J(){if(jI)return L5;jI=1;function t(e,n){return e<n}return L5=t,L5}var M5,TI;function wJ(){if(TI)return M5;TI=1;var t=MM(),e=_J(),n=Yp();function r(a){return a&&a.length?t(a,n,e):void 0}return M5=r,M5}var AJ=wJ();const vx=xr(AJ);var B5,OI;function NJ(){if(OI)return B5;OI=1;var t=iE(),e=$d(),n=GL(),r=Ds();function a(i,o){var u=r(i)?t:n;return u(i,e(o,3))}return B5=a,B5}var F5,kI;function SJ(){if(kI)return F5;kI=1;var t=$L(),e=NJ();function n(r,a){return t(e(r,a),1)}return F5=n,F5}var EJ=SJ();const jJ=xr(EJ);var q5,CI;function TJ(){if(CI)return q5;CI=1;var t=yE();function e(n,r){return t(n,r)}return q5=e,q5}var OJ=TJ();const U0=xr(OJ);var Jp=1e9,kJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},HE,Zr=!0,Bo="[DecimalError] ",kf=Bo+"Invalid argument: ",$E=Bo+"Exponent out of range: ",Zp=Math.floor,yf=Math.pow,CJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ao,ci=1e7,Vr=7,BM=9007199254740991,ay=Zp(BM/Vr),Pt={};Pt.absoluteValue=Pt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pt.comparedTo=Pt.cmp=function(t){var e,n,r,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};Pt.decimalPlaces=Pt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Vr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pt.dividedBy=Pt.div=function(t){return uu(this,new this.constructor(t))};Pt.dividedToIntegerBy=Pt.idiv=function(t){var e=this,n=e.constructor;return Er(uu(e,new n(t),0,1),n.precision)};Pt.equals=Pt.eq=function(t){return!this.cmp(t)};Pt.exponent=function(){return Ba(this)};Pt.greaterThan=Pt.gt=function(t){return this.cmp(t)>0};Pt.greaterThanOrEqualTo=Pt.gte=function(t){return this.cmp(t)>=0};Pt.isInteger=Pt.isint=function(){return this.e>this.d.length-2};Pt.isNegative=Pt.isneg=function(){return this.s<0};Pt.isPositive=Pt.ispos=function(){return this.s>0};Pt.isZero=function(){return this.s===0};Pt.lessThan=Pt.lt=function(t){return this.cmp(t)<0};Pt.lessThanOrEqualTo=Pt.lte=function(t){return this.cmp(t)<1};Pt.logarithm=Pt.log=function(t){var e,n=this,r=n.constructor,a=r.precision,i=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ao))throw Error(Bo+"NaN");if(n.s<1)throw Error(Bo+(n.s?"NaN":"-Infinity"));return n.eq(ao)?new r(0):(Zr=!1,e=uu($0(n,i),$0(t,i),i),Zr=!0,Er(e,a))};Pt.minus=Pt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zM(e,t):FM(e,(t.s=-t.s,t))};Pt.modulo=Pt.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(Bo+"NaN");return n.s?(Zr=!1,e=uu(n,t,0,1).times(t),Zr=!0,n.minus(e)):Er(new r(n),a)};Pt.naturalExponential=Pt.exp=function(){return qM(this)};Pt.naturalLogarithm=Pt.ln=function(){return $0(this)};Pt.negated=Pt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pt.plus=Pt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FM(e,t):zM(e,(t.s=-t.s,t))};Pt.precision=Pt.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(kf+t);if(e=Ba(a)+1,r=a.d.length-1,n=r*Vr+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pt.squareRoot=Pt.sqrt=function(){var t,e,n,r,a,i,o,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Bo+"NaN")}for(t=Ba(u),Zr=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=sc(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Zp((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(a.toString()),n=d.precision,a=o=n+3;;)if(i=r,r=i.plus(uu(u,i,o+2)).times(.5),sc(i.d).slice(0,o)===(e=sc(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(Er(i,n+1,0),i.times(i).eq(u)){r=i;break}}else if(e!="9999")break;o+=4}return Zr=!0,Er(r,n)};Pt.times=Pt.mul=function(t){var e,n,r,a,i,o,u,d,f,p=this,g=p.constructor,y=p.d,x=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,d=y.length,f=x.length,d<f&&(i=y,y=x,x=i,o=d,d=f,f=o),i=[],o=d+f,r=o;r--;)i.push(0);for(r=f;--r>=0;){for(e=0,a=d+r;a>r;)u=i[a]+x[r]*y[a-r-1]+e,i[a--]=u%ci|0,e=u/ci|0;i[a]=(i[a]+e)%ci|0}for(;!i[--o];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,Zr?Er(t,g.precision):t};Pt.toDecimalPlaces=Pt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ac(t,0,Jp),e===void 0?e=r.rounding:Ac(e,0,8),Er(n,t+Ba(n)+1,e))};Pt.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=Mf(r,!0):(Ac(t,0,Jp),e===void 0?e=a.rounding:Ac(e,0,8),r=Er(new a(r),t+1,e),n=Mf(r,!0,t+1)),n};Pt.toFixed=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?Mf(a):(Ac(t,0,Jp),e===void 0?e=i.rounding:Ac(e,0,8),r=Er(new i(a),t+Ba(a)+1,e),n=Mf(r.abs(),!1,t+Ba(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Pt.toInteger=Pt.toint=function(){var t=this,e=t.constructor;return Er(new e(t),Ba(t)+1,e.rounding)};Pt.toNumber=function(){return+this};Pt.toPower=Pt.pow=function(t){var e,n,r,a,i,o,u=this,d=u.constructor,f=12,p=+(t=new d(t));if(!t.s)return new d(ao);if(u=new d(u),!u.s){if(t.s<1)throw Error(Bo+"Infinity");return u}if(u.eq(ao))return u;if(r=d.precision,t.eq(ao))return Er(u,r);if(e=t.e,n=t.d.length-1,o=e>=n,i=u.s,o){if((n=p<0?-p:p)<=BM){for(a=new d(ao),e=Math.ceil(r/Vr+4),Zr=!1;n%2&&(a=a.times(u),PI(a.d,e)),n=Zp(n/2),n!==0;)u=u.times(u),PI(u.d,e);return Zr=!0,t.s<0?new d(ao).div(a):Er(a,r)}}else if(i<0)throw Error(Bo+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Zr=!1,a=t.times($0(u,r+f)),Zr=!0,a=qM(a),a.s=i,a};Pt.toPrecision=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?(n=Ba(a),r=Mf(a,n<=i.toExpNeg||n>=i.toExpPos)):(Ac(t,1,Jp),e===void 0?e=i.rounding:Ac(e,0,8),a=Er(new i(a),t,e),n=Ba(a),r=Mf(a,t<=n||n<=i.toExpNeg,t)),r};Pt.toSignificantDigits=Pt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ac(t,1,Jp),e===void 0?e=r.rounding:Ac(e,0,8)),Er(new r(n),t,e)};Pt.toString=Pt.valueOf=Pt.val=Pt.toJSON=Pt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ba(t),n=t.constructor;return Mf(t,e<=n.toExpNeg||e>=n.toExpPos)};function FM(t,e){var n,r,a,i,o,u,d,f,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Zr?Er(e,g):e;if(d=t.d,f=e.d,o=t.e,a=e.e,d=d.slice(),i=o-a,i){for(i<0?(r=d,i=-i,u=f.length):(r=f,a=o,u=d.length),o=Math.ceil(g/Vr),u=o>u?o+1:u+1,i>u&&(i=u,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(u=d.length,i=f.length,u-i<0&&(i=u,r=f,f=d,d=r),n=0;i;)n=(d[--i]=d[i]+f[i]+n)/ci|0,d[i]%=ci;for(n&&(d.unshift(n),++a),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=a,Zr?Er(e,g):e}function Ac(t,e,n){if(t!==~~t||t<e||t>n)throw Error(kf+t)}function sc(t){var e,n,r,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)r=t[e]+"",n=Vr-r.length,n&&(i+=fd(n)),i+=r;o=t[e],r=o+"",n=Vr-r.length,n&&(i+=fd(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var uu=(function(){function t(r,a){var i,o=0,u=r.length;for(r=r.slice();u--;)i=r[u]*a+o,r[u]=i%ci|0,o=i/ci|0;return o&&r.unshift(o),r}function e(r,a,i,o){var u,d;if(i!=o)d=i>o?1:-1;else for(u=d=0;u<i;u++)if(r[u]!=a[u]){d=r[u]>a[u]?1:-1;break}return d}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*ci+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var u,d,f,p,g,y,x,E,w,N,T,C,B,q,D,F,k,I,V=r.constructor,U=r.s==a.s?1:-1,M=r.d,R=a.d;if(!r.s)return new V(r);if(!a.s)throw Error(Bo+"Division by zero");for(d=r.e-a.e,k=R.length,D=M.length,x=new V(U),E=x.d=[],f=0;R[f]==(M[f]||0);)++f;if(R[f]>(M[f]||0)&&--d,i==null?C=i=V.precision:o?C=i+(Ba(r)-Ba(a))+1:C=i,C<0)return new V(0);if(C=C/Vr+2|0,f=0,k==1)for(p=0,R=R[0],C++;(f<D||p)&&C--;f++)B=p*ci+(M[f]||0),E[f]=B/R|0,p=B%R|0;else{for(p=ci/(R[0]+1)|0,p>1&&(R=t(R,p),M=t(M,p),k=R.length,D=M.length),q=k,w=M.slice(0,k),N=w.length;N<k;)w[N++]=0;I=R.slice(),I.unshift(0),F=R[0],R[1]>=ci/2&&++F;do p=0,u=e(R,w,k,N),u<0?(T=w[0],k!=N&&(T=T*ci+(w[1]||0)),p=T/F|0,p>1?(p>=ci&&(p=ci-1),g=t(R,p),y=g.length,N=w.length,u=e(g,w,y,N),u==1&&(p--,n(g,k<y?I:R,y))):(p==0&&(u=p=1),g=R.slice()),y=g.length,y<N&&g.unshift(0),n(w,g,N),u==-1&&(N=w.length,u=e(R,w,k,N),u<1&&(p++,n(w,k<N?I:R,N))),N=w.length):u===0&&(p++,w=[0]),E[f++]=p,u&&w[0]?w[N++]=M[q]||0:(w=[M[q]],N=1);while((q++<D||w[0]!==void 0)&&C--)}return E[0]||E.shift(),x.e=d,Er(x,o?i+Ba(x)+1:i)}})();function qM(t,e){var n,r,a,i,o,u,d=0,f=0,p=t.constructor,g=p.precision;if(Ba(t)>16)throw Error($E+Ba(t));if(!t.s)return new p(ao);for(Zr=!1,u=g,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(r=Math.log(yf(2,f))/Math.LN10*2+5|0,u+=r,n=a=i=new p(ao),p.precision=u;;){if(a=Er(a.times(t),u),n=n.times(++d),o=i.plus(uu(a,n,u)),sc(o.d).slice(0,u)===sc(i.d).slice(0,u)){for(;f--;)i=Er(i.times(i),u);return p.precision=g,e==null?(Zr=!0,Er(i,g)):i}i=o}}function Ba(t){for(var e=t.e*Vr,n=t.d[0];n>=10;n/=10)e++;return e}function z5(t,e,n){if(e>t.LN10.sd())throw Zr=!0,n&&(t.precision=n),Error(Bo+"LN10 precision limit exceeded");return Er(new t(t.LN10),e)}function fd(t){for(var e="";t--;)e+="0";return e}function $0(t,e){var n,r,a,i,o,u,d,f,p,g=1,y=10,x=t,E=x.d,w=x.constructor,N=w.precision;if(x.s<1)throw Error(Bo+(x.s?"NaN":"-Infinity"));if(x.eq(ao))return new w(0);if(e==null?(Zr=!1,f=N):f=e,x.eq(10))return e==null&&(Zr=!0),z5(w,f);if(f+=y,w.precision=f,n=sc(E),r=n.charAt(0),i=Ba(x),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=sc(x.d),r=n.charAt(0),g++;i=Ba(x),r>1?(x=new w("0."+n),i++):x=new w(r+"."+n.slice(1))}else return d=z5(w,f+2,N).times(i+""),x=$0(new w(r+"."+n.slice(1)),f-y).plus(d),w.precision=N,e==null?(Zr=!0,Er(x,N)):x;for(u=o=x=uu(x.minus(ao),x.plus(ao),f),p=Er(x.times(x),f),a=3;;){if(o=Er(o.times(p),f),d=u.plus(uu(o,new w(a),f)),sc(d.d).slice(0,f)===sc(u.d).slice(0,f))return u=u.times(2),i!==0&&(u=u.plus(z5(w,f+2,N).times(i+""))),u=uu(u,new w(g),f),w.precision=N,e==null?(Zr=!0,Er(u,N)):u;u=d,a+=2}}function II(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=Zp(n/Vr),t.d=[],r=(n+1)%Vr,n<0&&(r+=Vr),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Vr;r<a;)t.d.push(+e.slice(r,r+=Vr));e=e.slice(r),r=Vr-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Zr&&(t.e>ay||t.e<-ay))throw Error($E+n)}else t.s=0,t.e=0,t.d=[0];return t}function Er(t,e,n){var r,a,i,o,u,d,f,p,g=t.d;for(o=1,i=g[0];i>=10;i/=10)o++;if(r=e-o,r<0)r+=Vr,a=e,f=g[p=0];else{if(p=Math.ceil((r+1)/Vr),i=g.length,p>=i)return t;for(f=i=g[p],o=1;i>=10;i/=10)o++;r%=Vr,a=r-Vr+o}if(n!==void 0&&(i=yf(10,o-a-1),u=f/i%10|0,d=e<0||g[p+1]!==void 0||f%i,d=n<4?(u||d)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?a>0?f/yf(10,o-a):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return d?(i=Ba(t),g.length=1,e=e-i-1,g[0]=yf(10,(Vr-e%Vr)%Vr),t.e=Zp(-e/Vr)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,i=1,p--):(g.length=p+1,i=yf(10,Vr-r),g[p]=a>0?(f/yf(10,o-a)%yf(10,a)|0)*i:0),d)for(;;)if(p==0){(g[0]+=i)==ci&&(g[0]=1,++t.e);break}else{if(g[p]+=i,g[p]!=ci)break;g[p--]=0,i=1}for(r=g.length;g[--r]===0;)g.pop();if(Zr&&(t.e>ay||t.e<-ay))throw Error($E+Ba(t));return t}function zM(t,e){var n,r,a,i,o,u,d,f,p,g,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Zr?Er(e,x):e;if(d=t.d,g=e.d,r=e.e,f=t.e,d=d.slice(),o=f-r,o){for(p=o<0,p?(n=d,o=-o,u=g.length):(n=g,r=f,u=d.length),a=Math.max(Math.ceil(x/Vr),u)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=d.length,u=g.length,p=a<u,p&&(u=a),a=0;a<u;a++)if(d[a]!=g[a]){p=d[a]<g[a];break}o=0}for(p&&(n=d,d=g,g=n,e.s=-e.s),u=d.length,a=g.length-u;a>0;--a)d[u++]=0;for(a=g.length;a>o;){if(d[--a]<g[a]){for(i=a;i&&d[--i]===0;)d[i]=ci-1;--d[i],d[a]+=ci}d[a]-=g[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Zr?Er(e,x):e):new y(0)}function Mf(t,e,n){var r,a=Ba(t),i=sc(t.d),o=i.length;return e?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+fd(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+fd(-a-1)+i,n&&(r=n-o)>0&&(i+=fd(r))):a>=o?(i+=fd(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+fd(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=fd(r))),t.s<0?"-"+i:i}function PI(t,e){if(t.length>e)return t.length=e,!0}function VM(t){var e,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(kf+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return II(o,i.toString())}else if(typeof i!="string")throw Error(kf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,CJ.test(i))II(o,i);else throw Error(kf+i)}if(a.prototype=Pt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=VM,a.config=a.set=IJ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function IJ(t){if(!t||typeof t!="object")throw Error(Bo+"Object expected");var e,n,r,a=["precision",1,Jp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(Zp(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(kf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(kf+n+": "+r);return this}var HE=VM(kJ);ao=new HE(1);const yr=HE;function PJ(t){return MJ(t)||LJ(t)||DJ(t)||RJ()}function RJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DJ(t,e){if(t){if(typeof t=="string")return xN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xN(t,e)}}function LJ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function MJ(t){if(Array.isArray(t))return xN(t)}function xN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var BJ=function(e){return e},UM={},$M=function(e){return e===UM},RI=function(e){return function n(){return arguments.length===0||arguments.length===1&&$M(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},FJ=function t(e,n){return e===1?n:RI(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(u){return u!==UM}).length;return o>=e?n.apply(void 0,a):t(e-o,RI(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var p=a.map(function(g){return $M(g)?d.shift():g});return n.apply(void 0,PJ(p).concat(d))}))})},yx=function(e){return FJ(e.length,e)},bN=function(e,n){for(var r=[],a=e;a<n;++a)r[a-e]=a;return r},qJ=yx(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),zJ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return BJ;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(u,d){return d(u)},i.apply(void 0,arguments))}},_N=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},HM=function(e){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(u,d){return u===n[d]})||(n=i,r=e.apply(void 0,i)),r}};function VJ(t){var e;return t===0?e=1:e=Math.floor(new yr(t).abs().log(10).toNumber())+1,e}function UJ(t,e,n){for(var r=new yr(t),a=0,i=[];r.lt(e)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var $J=yx(function(t,e,n){var r=+t,a=+e;return r+n*(a-r)}),HJ=yx(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),GJ=yx(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const xx={rangeStep:UJ,getDigitCount:VJ,interpolateNumber:$J,uninterpolateNumber:HJ,uninterpolateTruncation:GJ};function wN(t){return YJ(t)||KJ(t)||GM(t)||WJ()}function WJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KJ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function YJ(t){if(Array.isArray(t))return AN(t)}function H0(t,e){return JJ(t)||QJ(t,e)||GM(t,e)||XJ()}function XJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GM(t,e){if(t){if(typeof t=="string")return AN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AN(t,e)}}function AN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QJ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),u;!(r=(u=o.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(d){a=!0,i=d}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function JJ(t){if(Array.isArray(t))return t}function WM(t){var e=H0(t,2),n=e[0],r=e[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function KM(t,e,n){if(t.lte(0))return new yr(0);var r=xx.getDigitCount(t.toNumber()),a=new yr(10).pow(r),i=t.div(a),o=r!==1?.05:.1,u=new yr(Math.ceil(i.div(o).toNumber())).add(n).mul(o),d=u.mul(a);return e?d:new yr(Math.ceil(d))}function ZJ(t,e,n){var r=1,a=new yr(t);if(!a.isint()&&n){var i=Math.abs(t);i<1?(r=new yr(10).pow(xx.getDigitCount(t)-1),a=new yr(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new yr(Math.floor(t)))}else t===0?a=new yr(Math.floor((e-1)/2)):n||(a=new yr(Math.floor(t)));var o=Math.floor((e-1)/2),u=zJ(qJ(function(d){return a.add(new yr(d-o).mul(r)).toNumber()}),bN);return u(0,e)}function YM(t,e,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new yr(0),tickMin:new yr(0),tickMax:new yr(0)};var i=KM(new yr(e).sub(t).div(n-1),r,a),o;t<=0&&e>=0?o=new yr(0):(o=new yr(t).add(e).div(2),o=o.sub(new yr(o).mod(i)));var u=Math.ceil(o.sub(t).div(i).toNumber()),d=Math.ceil(new yr(e).sub(o).div(i).toNumber()),f=u+d+1;return f>n?YM(t,e,n,r,a+1):(f<n&&(d=e>0?d+(n-f):d,u=e>0?u:u+(n-f)),{step:i,tickMin:o.sub(new yr(u).mul(i)),tickMax:o.add(new yr(d).mul(i))})}function eZ(t){var e=H0(t,2),n=e[0],r=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),u=WM([n,r]),d=H0(u,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var g=p===1/0?[f].concat(wN(bN(0,a-1).map(function(){return 1/0}))):[].concat(wN(bN(0,a-1).map(function(){return-1/0})),[p]);return n>r?_N(g):g}if(f===p)return ZJ(f,a,i);var y=YM(f,p,o,i),x=y.step,E=y.tickMin,w=y.tickMax,N=xx.rangeStep(E,w.add(new yr(.1).mul(x)),x);return n>r?_N(N):N}function tZ(t,e){var n=H0(t,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=WM([r,a]),u=H0(o,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[r,a];if(d===f)return[d];var p=Math.max(e,2),g=KM(new yr(f).sub(d).div(p-1),i,0),y=[].concat(wN(xx.rangeStep(new yr(d),new yr(f).sub(new yr(.99).mul(g)),g)),[f]);return r>a?_N(y):y}var nZ=HM(eZ),rZ=HM(tZ),aZ="Invariant failed";function Bf(t,e){throw new Error(aZ)}var iZ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iy.apply(this,arguments)}function sZ(t,e){return uZ(t)||cZ(t,e)||lZ(t,e)||oZ()}function oZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lZ(t,e){if(t){if(typeof t=="string")return DI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DI(t,e)}}function DI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function uZ(t){if(Array.isArray(t))return t}function dZ(t,e){if(t==null)return{};var n=fZ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JM(r.key),r)}}function mZ(t,e,n){return e&&pZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gZ(t,e,n){return e=sy(e),vZ(t,XM()?Reflect.construct(e,n||[],sy(t).constructor):e.apply(t,n))}function vZ(t,e){if(e&&(Ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yZ(t)}function yZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XM=function(){return!!t})()}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sy(t)}function xZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NN(t,e)}function NN(t,e){return NN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},NN(t,e)}function QM(t,e,n){return e=JM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JM(t){var e=bZ(t,"string");return Ap(e)=="symbol"?e:e+""}function bZ(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bx=(function(t){function e(){return hZ(this,e),gZ(this,e,arguments)}return xZ(e,t),mZ(e,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,u=r.dataKey,d=r.data,f=r.dataPointFormatter,p=r.xAxis,g=r.yAxis,y=dZ(r,iZ),x=On(y,!1);this.props.direction==="x"&&p.type!=="number"&&Bf();var E=d.map(function(w){var N=f(w,u),T=N.x,C=N.y,B=N.value,q=N.errorVal;if(!q)return null;var D=[],F,k;if(Array.isArray(q)){var I=sZ(q,2);F=I[0],k=I[1]}else F=k=q;if(i==="vertical"){var V=p.scale,U=C+a,M=U+o,R=U-o,j=V(B-F),G=V(B+k);D.push({x1:G,y1:M,x2:G,y2:R}),D.push({x1:j,y1:U,x2:G,y2:U}),D.push({x1:j,y1:M,x2:j,y2:R})}else if(i==="horizontal"){var re=g.scale,J=T+a,Z=J-o,oe=J+o,ye=re(B-F),ge=re(B+k);D.push({x1:Z,y1:ge,x2:oe,y2:ge}),D.push({x1:J,y1:ye,x2:J,y2:ge}),D.push({x1:Z,y1:ye,x2:oe,y2:ye})}return Ce.createElement(na,iy({className:"recharts-errorBar",key:"bar-".concat(D.map(function(le){return"".concat(le.x1,"-").concat(le.x2,"-").concat(le.y1,"-").concat(le.y2)}))},x),D.map(function(le){return Ce.createElement("line",iy({},le,{key:"line-".concat(le.x1,"-").concat(le.x2,"-").concat(le.y1,"-").concat(le.y2)}))}))});return Ce.createElement(na,{className:"recharts-errorBars"},E)}}])})(Ce.Component);QM(bx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});QM(bx,"displayName","ErrorBar");function G0(t){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G0(t)}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){_Z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Z(t,e,n){return e=wZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wZ(t){var e=AZ(t,"string");return G0(e)=="symbol"?e:e+""}function AZ(t,e){if(G0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(G0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZM=function(e){var n=e.children,r=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=ro(n,tp);if(!o)return null;var u=tp.defaultProps,d=u!==void 0?gf(gf({},u),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:i==="children"?f=(r||[]).reduce(function(p,g){var y=g.item,x=g.props,E=x.sectors||x.data||[];return p.concat(E.map(function(w){return{type:o.props.iconType||y.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):f=(r||[]).map(function(p){var g=p.item,y=g.type.defaultProps,x=y!==void 0?gf(gf({},y),g.props):{},E=x.dataKey,w=x.name,N=x.legendType,T=x.hide;return{inactive:T,dataKey:E,type:d.iconType||N||"square",color:GE(g),value:w||E,payload:x}}),gf(gf(gf({},d),tp.getWithHeight(o,a)),{},{payload:f,item:o})};function W0(t){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(t)}function MI(t){return jZ(t)||EZ(t)||SZ(t)||NZ()}function NZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SZ(t,e){if(t){if(typeof t=="string")return SN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SN(t,e)}}function EZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jZ(t){if(Array.isArray(t))return SN(t)}function SN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){rp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rp(t,e,n){return e=TZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TZ(t){var e=OZ(t,"string");return W0(e)=="symbol"?e:e+""}function OZ(t,e){if(W0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(W0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function co(t,e,n){return Mn(t)||Mn(e)?n:Xa(e)?Mo(t,e,n):yn(e)?e(t):n}function p0(t,e,n,r){var a=jJ(t,function(u){return co(u,e)});if(n==="number"){var i=a.filter(function(u){return xt(u)||parseFloat(u)});return i.length?[vx(i),xd(i)]:[1/0,-1/0]}var o=r?a.filter(function(u){return!Mn(u)}):a;return o.map(function(u){return Xa(u)||u instanceof Date?u:""})}var kZ=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,f=0;f<u;f++){var p=f>0?a[f-1].coordinate:a[u-1].coordinate,g=a[f].coordinate,y=f>=u-1?a[0].coordinate:a[f+1].coordinate,x=void 0;if(gl(g-p)!==gl(y-g)){var E=[];if(gl(y-g)===gl(d[1]-d[0])){x=y;var w=g+d[1]-d[0];E[0]=Math.min(w,(w+p)/2),E[1]=Math.max(w,(w+p)/2)}else{x=p;var N=y+d[1]-d[0];E[0]=Math.min(g,(N+g)/2),E[1]=Math.max(g,(N+g)/2)}var T=[Math.min(g,(x+g)/2),Math.max(g,(x+g)/2)];if(e>T[0]&&e<=T[1]||e>=E[0]&&e<=E[1]){o=a[f].index;break}}else{var C=Math.min(p,y),B=Math.max(p,y);if(e>(C+g)/2&&e<=(B+g)/2){o=a[f].index;break}}}else for(var q=0;q<u;q++)if(q===0&&e<=(r[q].coordinate+r[q+1].coordinate)/2||q>0&&q<u-1&&e>(r[q].coordinate+r[q-1].coordinate)/2&&e<=(r[q].coordinate+r[q+1].coordinate)/2||q===u-1&&e>(r[q].coordinate+r[q-1].coordinate)/2){o=r[q].index;break}return o},GE=function(e){var n,r=e,a=r.type.displayName,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?da(da({},e.type.defaultProps),e.props):e.props,o=i.stroke,u=i.fill,d;switch(a){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:u;break;default:d=u;break}return d},CZ=function(e){var n=e.barSize,r=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},u=Object.keys(i),d=0,f=u.length;d<f;d++)for(var p=i[u[d]].stackGroups,g=Object.keys(p),y=0,x=g.length;y<x;y++){var E=p[g[y]],w=E.items,N=E.cateAxisId,T=w.filter(function(k){return lu(k.type).indexOf("Bar")>=0});if(T&&T.length){var C=T[0].type.defaultProps,B=C!==void 0?da(da({},C),T[0].props):T[0].props,q=B.barSize,D=B[N];o[D]||(o[D]=[]);var F=Mn(q)?n:q;o[D].push({item:T[0],stackList:T.slice(1),barSize:Mn(F)?void 0:Lf(F,r,0)})}}return o},IZ=function(e){var n=e.barGap,r=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,u=e.maxBarSize,d=o.length;if(d<1)return null;var f=Lf(n,a,0,!0),p,g=[];if(o[0].barSize===+o[0].barSize){var y=!1,x=a/d,E=o.reduce(function(q,D){return q+D.barSize||0},0);E+=(d-1)*f,E>=a&&(E-=(d-1)*f,f=0),E>=a&&x>0&&(y=!0,x*=.9,E=d*x);var w=(a-E)/2>>0,N={offset:w-f,size:0};p=o.reduce(function(q,D){var F={item:D.item,position:{offset:N.offset+N.size+f,size:y?x:D.barSize}},k=[].concat(MI(q),[F]);return N=k[k.length-1].position,D.stackList&&D.stackList.length&&D.stackList.forEach(function(I){k.push({item:I,position:N})}),k},g)}else{var T=Lf(r,a,0,!0);a-2*T-(d-1)*f<=0&&(f=0);var C=(a-2*T-(d-1)*f)/d;C>1&&(C>>=0);var B=u===+u?Math.min(C,u):C;p=o.reduce(function(q,D,F){var k=[].concat(MI(q),[{item:D.item,position:{offset:T+(C+f)*F+(C-B)/2,size:B}}]);return D.stackList&&D.stackList.length&&D.stackList.forEach(function(I){k.push({item:I,position:k[k.length-1].position})}),k},g)}return p},PZ=function(e,n,r,a){var i=r.children,o=r.width,u=r.margin,d=o-(u.left||0)-(u.right||0),f=ZM({children:i,legendWidth:d});if(f){var p=a||{},g=p.width,y=p.height,x=f.align,E=f.verticalAlign,w=f.layout;if((w==="vertical"||w==="horizontal"&&E==="middle")&&x!=="center"&&xt(e[x]))return da(da({},e),{},rp({},x,e[x]+(g||0)));if((w==="horizontal"||w==="vertical"&&x==="center")&&E!=="middle"&&xt(e[E]))return da(da({},e),{},rp({},E,e[E]+(y||0)))}return e},RZ=function(e,n,r){return Mn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},e7=function(e,n,r,a,i){var o=n.props.children,u=yl(o,bx).filter(function(f){return RZ(a,i,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,p){var g=co(p,r);if(Mn(g))return f;var y=Array.isArray(g)?[vx(g),xd(g)]:[g,g],x=d.reduce(function(E,w){var N=co(p,w,0),T=y[0]-Math.abs(Array.isArray(N)?N[0]:N),C=y[1]+Math.abs(Array.isArray(N)?N[1]:N);return[Math.min(T,E[0]),Math.max(C,E[1])]},[1/0,-1/0]);return[Math.min(x[0],f[0]),Math.max(x[1],f[1])]},[1/0,-1/0])}return null},DZ=function(e,n,r,a,i){var o=n.map(function(u){return e7(e,u,r,i,a)}).filter(function(u){return!Mn(u)});return o&&o.length?o.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},t7=function(e,n,r,a,i){var o=n.map(function(d){var f=d.props.dataKey;return r==="number"&&f&&e7(e,d,f,a)||p0(e,f,r,i)});if(r==="number")return o.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return o.reduce(function(d,f){for(var p=0,g=f.length;p<g;p++)u[f[p]]||(u[f[p]]=!0,d.push(f[p]));return d},[])},n7=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},r7=function(e,n,r,a){if(a)return e.map(function(d){return d.coordinate});var i,o,u=e.map(function(d){return d.coordinate===n&&(i=!0),d.coordinate===r&&(o=!0),d.coordinate});return i||u.push(n),o||u.push(r),u},iu=function(e,n,r){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,u=e.range,d=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,f=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/d:0;if(f=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?gl(u[0]-u[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(g){var y=i?i.indexOf(g):g;return{coordinate:a(y)+f,value:g,offset:f}});return p.filter(function(g){return!Kp(g.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(g,y){return{coordinate:a(g)+f,value:g,index:y,offset:f}}):a.ticks&&!r?a.ticks(e.tickCount).map(function(g){return{coordinate:a(g)+f,value:g,offset:f}}):a.domain().map(function(g,y){return{coordinate:a(g)+f,value:i?i[g]:g,index:y,offset:f}})},V5=new WeakMap,Uv=function(e,n){if(typeof n!="function")return e;V5.has(e)||V5.set(e,new WeakMap);var r=V5.get(e);if(r.has(n))return r.get(n);var a=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},LZ=function(e,n,r){var a=e.scale,i=e.type,o=e.layout,u=e.axisType;if(a==="auto")return o==="radial"&&u==="radiusAxis"?{scale:B0(),realScaleType:"band"}:o==="radial"&&u==="angleAxis"?{scale:ey(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:h0(),realScaleType:"point"}:i==="category"?{scale:B0(),realScaleType:"band"}:{scale:ey(),realScaleType:"linear"};if(Df(a)){var d="scale".concat(ax(a));return{scale:(AI[d]||h0)(),realScaleType:AI[d]?d:"point"}}return yn(a)?{scale:a}:{scale:h0(),realScaleType:"point"}},FI=1e-4,MZ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,a=e.range(),i=Math.min(a[0],a[1])-FI,o=Math.max(a[0],a[1])+FI,u=e(n[0]),d=e(n[r-1]);(u<i||u>o||d<i||d>o)&&e.domain([n[0],n[r-1]])}},BZ=function(e,n){if(!e)return null;for(var r=0,a=e.length;r<a;r++)if(e[r].item===n)return e[r].position;return null},FZ=function(e,n){if(!n||n.length!==2||!xt(n[0])||!xt(n[1]))return e;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[e[0],e[1]];return(!xt(e[0])||e[0]<r)&&(i[0]=r),(!xt(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},qZ=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,o=0,u=0;u<n;++u){var d=Kp(e[u][r][1])?e[u][r][0]:e[u][r][1];d>=0?(e[u][r][0]=i,e[u][r][1]=i+d,i=e[u][r][1]):(e[u][r][0]=o,e[u][r][1]=o+d,o=e[u][r][1])}},zZ=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var u=Kp(e[o][r][1])?e[o][r][0]:e[o][r][1];u>=0?(e[o][r][0]=i,e[o][r][1]=i+u,i=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},VZ={sign:qZ,expand:NG,none:mp,silhouette:SG,wiggle:EG,positive:zZ},UZ=function(e,n,r){var a=n.map(function(u){return u.props.dataKey}),i=VZ[r],o=AG().keys(a).value(function(u,d){return+co(u,d,0)}).order(tN).offset(i);return o(e)},$Z=function(e,n,r,a,i,o){if(!e)return null;var u=o?n.reverse():n,d={},f=u.reduce(function(g,y){var x,E=(x=y.type)!==null&&x!==void 0&&x.defaultProps?da(da({},y.type.defaultProps),y.props):y.props,w=E.stackId,N=E.hide;if(N)return g;var T=E[r],C=g[T]||{hasStack:!1,stackGroups:{}};if(Xa(w)){var B=C.stackGroups[w]||{numericAxisId:r,cateAxisId:a,items:[]};B.items.push(y),C.hasStack=!0,C.stackGroups[w]=B}else C.stackGroups[Sg("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[y]};return da(da({},g),{},rp({},T,C))},d),p={};return Object.keys(f).reduce(function(g,y){var x=f[y];if(x.hasStack){var E={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(w,N){var T=x.stackGroups[N];return da(da({},w),{},rp({},N,{numericAxisId:r,cateAxisId:a,items:T.items,stackedData:UZ(e,T.items,i)}))},E)}return da(da({},g),{},rp({},y,x))},p)},HZ=function(e,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,u=n.allowDecimals,d=r||n.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var p=nZ(f,i,u);return e.domain([vx(p),xd(p)]),{niceTicks:p}}if(i&&a==="number"){var g=e.domain(),y=rZ(g,i,u);return{niceTicks:y}}return null};function qI(t){var e=t.axis,n=t.ticks,r=t.bandSize,a=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Mn(a[e.dataKey])){var u=P1(n,"value",a[e.dataKey]);if(u)return u.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var d=co(a,Mn(o)?e.dataKey:o);return Mn(d)?null:e.scale(d)}var zI=function(e){var n=e.axis,r=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+a:null;var d=co(o,n.dataKey,n.domain[u]);return Mn(d)?null:n.scale(d)-i/2+a},GZ=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},WZ=function(e,n){var r,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?da(da({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Xa(i)){var o=n[i];if(o){var u=o.items.indexOf(e);return u>=0?o.stackedData[u]:null}}return null},KZ=function(e){return e.reduce(function(n,r){return[vx(r.concat([n[0]]).filter(xt)),xd(r.concat([n[1]]).filter(xt))]},[1/0,-1/0])},a7=function(e,n,r){return Object.keys(e).reduce(function(a,i){var o=e[i],u=o.stackedData,d=u.reduce(function(f,p){var g=KZ(p.slice(n,r+1));return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},VI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EN=function(e,n,r){if(yn(e))return e(n,r);if(!Array.isArray(e))return n;var a=[];if(xt(e[0]))a[0]=r?e[0]:Math.min(e[0],n[0]);else if(VI.test(e[0])){var i=+VI.exec(e[0])[1];a[0]=n[0]-i}else yn(e[0])?a[0]=e[0](n[0]):a[0]=n[0];if(xt(e[1]))a[1]=r?e[1]:Math.max(e[1],n[1]);else if(UI.test(e[1])){var o=+UI.exec(e[1])[1];a[1]=n[1]+o}else yn(e[1])?a[1]=e[1](n[1]):a[1]=n[1];return a},oy=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&n&&n.length>=2){for(var i=bE(n,function(g){return g.coordinate}),o=1/0,u=1,d=i.length;u<d;u++){var f=i[u],p=i[u-1];o=Math.min((f.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},$I=function(e,n,r){return!e||!e.length||U0(e,Mo(r,"type.defaultProps.domain"))?n:e},i7=function(e,n){var r=e.type.defaultProps?da(da({},e.type.defaultProps),e.props):e.props,a=r.dataKey,i=r.name,o=r.unit,u=r.formatter,d=r.tooltipType,f=r.chartType,p=r.hide;return da(da({},On(e,!1)),{},{dataKey:a,unit:o,formatter:u,name:i||a,color:GE(e),value:co(n,a),type:d,payload:n,chartType:f,hide:p})};function K0(t){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(t)}function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function GI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){YZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YZ(t,e,n){return e=XZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XZ(t){var e=QZ(t,"string");return K0(e)=="symbol"?e:e+""}function QZ(t,e){if(K0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(K0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ly=Math.PI/180,JZ=function(e){return e*180/Math.PI},Ei=function(e,n,r,a){return{x:e+Math.cos(-ly*a)*r,y:n+Math.sin(-ly*a)*r}},ZZ=function(e,n){var r=e.x,a=e.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},eee=function(e,n){var r=e.x,a=e.y,i=n.cx,o=n.cy,u=ZZ({x:r,y:a},{x:i,y:o});if(u<=0)return{radius:u};var d=(r-i)/u,f=Math.acos(d);return a>o&&(f=2*Math.PI-f),{radius:u,angle:JZ(f),angleInRadian:f}},tee=function(e){var n=e.startAngle,r=e.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},nee=function(e,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),u=Math.min(i,o);return e+u*360},WI=function(e,n){var r=e.x,a=e.y,i=eee({x:r,y:a},n),o=i.radius,u=i.angle,d=n.innerRadius,f=n.outerRadius;if(o<d||o>f)return!1;if(o===0)return!0;var p=tee(n),g=p.startAngle,y=p.endAngle,x=u,E;if(g<=y){for(;x>y;)x-=360;for(;x<g;)x+=360;E=x>=g&&x<=y}else{for(;x>g;)x-=360;for(;x<y;)x+=360;E=x>=y&&x<=g}return E?GI(GI({},n),{},{radius:o,angle:nee(x,n)}):null};function Y0(t){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y0(t)}var ree=["offset"];function aee(t){return lee(t)||oee(t)||see(t)||iee()}function iee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function see(t,e){if(t){if(typeof t=="string")return jN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jN(t,e)}}function oee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lee(t){if(Array.isArray(t))return jN(t)}function jN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cee(t,e){if(t==null)return{};var n=uee(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ya(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){dee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dee(t,e,n){return e=fee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fee(t){var e=hee(t,"string");return Y0(e)=="symbol"?e:e+""}function hee(t,e){if(Y0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Y0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}var pee=function(e){var n=e.value,r=e.formatter,a=Mn(e.children)?n:e.children;return yn(r)?r(a):a},mee=function(e,n){var r=gl(n-e),a=Math.min(Math.abs(n-e),360);return r*a},gee=function(e,n,r){var a=e.position,i=e.viewBox,o=e.offset,u=e.className,d=i,f=d.cx,p=d.cy,g=d.innerRadius,y=d.outerRadius,x=d.startAngle,E=d.endAngle,w=d.clockWise,N=(g+y)/2,T=mee(x,E),C=T>=0?1:-1,B,q;a==="insideStart"?(B=x+C*o,q=w):a==="insideEnd"?(B=E-C*o,q=!w):a==="end"&&(B=E+C*o,q=w),q=T<=0?q:!q;var D=Ei(f,p,N,B),F=Ei(f,p,N,B+(q?1:-1)*359),k="M".concat(D.x,",").concat(D.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(q?0:1,`,
    `).concat(F.x,",").concat(F.y),I=Mn(e.id)?Sg("recharts-radial-line-"):e.id;return Ce.createElement("text",X0({},r,{dominantBaseline:"central",className:Gn("recharts-radial-bar-label",u)}),Ce.createElement("defs",null,Ce.createElement("path",{id:I,d:k})),Ce.createElement("textPath",{xlinkHref:"#".concat(I)},n))},vee=function(e){var n=e.viewBox,r=e.offset,a=e.position,i=n,o=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,p=i.startAngle,g=i.endAngle,y=(p+g)/2;if(a==="outside"){var x=Ei(o,u,f+r,y),E=x.x,w=x.y;return{x:E,y:w,textAnchor:E>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"end"};var N=(d+f)/2,T=Ei(o,u,N,y),C=T.x,B=T.y;return{x:C,y:B,textAnchor:"middle",verticalAnchor:"middle"}},yee=function(e){var n=e.viewBox,r=e.parentViewBox,a=e.offset,i=e.position,o=n,u=o.x,d=o.y,f=o.width,p=o.height,g=p>=0?1:-1,y=g*a,x=g>0?"end":"start",E=g>0?"start":"end",w=f>=0?1:-1,N=w*a,T=w>0?"end":"start",C=w>0?"start":"end";if(i==="top"){var B={x:u+f/2,y:d-g*a,textAnchor:"middle",verticalAnchor:x};return Ya(Ya({},B),r?{height:Math.max(d-r.y,0),width:f}:{})}if(i==="bottom"){var q={x:u+f/2,y:d+p+y,textAnchor:"middle",verticalAnchor:E};return Ya(Ya({},q),r?{height:Math.max(r.y+r.height-(d+p),0),width:f}:{})}if(i==="left"){var D={x:u-N,y:d+p/2,textAnchor:T,verticalAnchor:"middle"};return Ya(Ya({},D),r?{width:Math.max(D.x-r.x,0),height:p}:{})}if(i==="right"){var F={x:u+f+N,y:d+p/2,textAnchor:C,verticalAnchor:"middle"};return Ya(Ya({},F),r?{width:Math.max(r.x+r.width-F.x,0),height:p}:{})}var k=r?{width:f,height:p}:{};return i==="insideLeft"?Ya({x:u+N,y:d+p/2,textAnchor:C,verticalAnchor:"middle"},k):i==="insideRight"?Ya({x:u+f-N,y:d+p/2,textAnchor:T,verticalAnchor:"middle"},k):i==="insideTop"?Ya({x:u+f/2,y:d+y,textAnchor:"middle",verticalAnchor:E},k):i==="insideBottom"?Ya({x:u+f/2,y:d+p-y,textAnchor:"middle",verticalAnchor:x},k):i==="insideTopLeft"?Ya({x:u+N,y:d+y,textAnchor:C,verticalAnchor:E},k):i==="insideTopRight"?Ya({x:u+f-N,y:d+y,textAnchor:T,verticalAnchor:E},k):i==="insideBottomLeft"?Ya({x:u+N,y:d+p-y,textAnchor:C,verticalAnchor:x},k):i==="insideBottomRight"?Ya({x:u+f-N,y:d+p-y,textAnchor:T,verticalAnchor:x},k):Wp(i)&&(xt(i.x)||wf(i.x))&&(xt(i.y)||wf(i.y))?Ya({x:u+Lf(i.x,f),y:d+Lf(i.y,p),textAnchor:"end",verticalAnchor:"end"},k):Ya({x:u+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},k)},xee=function(e){return"cx"in e&&xt(e.cx)};function Ki(t){var e=t.offset,n=e===void 0?5:e,r=cee(t,ree),a=Ya({offset:n},r),i=a.viewBox,o=a.position,u=a.value,d=a.children,f=a.content,p=a.className,g=p===void 0?"":p,y=a.textBreakAll;if(!i||Mn(u)&&Mn(d)&&!ve.isValidElement(f)&&!yn(f))return null;if(ve.isValidElement(f))return ve.cloneElement(f,a);var x;if(yn(f)){if(x=ve.createElement(f,a),ve.isValidElement(x))return x}else x=pee(a);var E=xee(i),w=On(a,!0);if(E&&(o==="insideStart"||o==="insideEnd"||o==="end"))return gee(a,x,w);var N=E?vee(a):yee(a);return Ce.createElement(G1,X0({className:Gn("recharts-label",g)},w,N,{breakAll:y}),x)}Ki.displayName="Label";var s7=function(e){var n=e.cx,r=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,u=e.r,d=e.radius,f=e.innerRadius,p=e.outerRadius,g=e.x,y=e.y,x=e.top,E=e.left,w=e.width,N=e.height,T=e.clockWise,C=e.labelViewBox;if(C)return C;if(xt(w)&&xt(N)){if(xt(g)&&xt(y))return{x:g,y,width:w,height:N};if(xt(x)&&xt(E))return{x,y:E,width:w,height:N}}return xt(g)&&xt(y)?{x:g,y,width:0,height:0}:xt(n)&&xt(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:f||0,outerRadius:p||d||u||0,clockWise:T}:e.viewBox?e.viewBox:{}},bee=function(e,n){return e?e===!0?Ce.createElement(Ki,{key:"label-implicit",viewBox:n}):Xa(e)?Ce.createElement(Ki,{key:"label-implicit",viewBox:n,value:e}):ve.isValidElement(e)?e.type===Ki?ve.cloneElement(e,{key:"label-implicit",viewBox:n}):Ce.createElement(Ki,{key:"label-implicit",content:e,viewBox:n}):yn(e)?Ce.createElement(Ki,{key:"label-implicit",content:e,viewBox:n}):Wp(e)?Ce.createElement(Ki,X0({viewBox:n},e,{key:"label-implicit"})):null:null},_ee=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=s7(e),o=yl(a,Ki).map(function(d,f){return ve.cloneElement(d,{viewBox:n||i,key:"label-".concat(f)})});if(!r)return o;var u=bee(e.label,n||i);return[u].concat(aee(o))};Ki.parseViewBox=s7;Ki.renderCallByParent=_ee;var U5,YI;function wee(){if(YI)return U5;YI=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return U5=t,U5}var Aee=wee();const Nee=xr(Aee);function Q0(t){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q0(t)}var See=["valueAccessor"],Eee=["data","dataKey","clockWise","id","textBreakAll"];function jee(t){return Cee(t)||kee(t)||Oee(t)||Tee()}function Tee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oee(t,e){if(t){if(typeof t=="string")return TN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TN(t,e)}}function kee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cee(t){if(Array.isArray(t))return TN(t)}function TN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cy(){return cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cy.apply(this,arguments)}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function QI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){Iee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iee(t,e,n){return e=Pee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pee(t){var e=Ree(t,"string");return Q0(e)=="symbol"?e:e+""}function Ree(t,e){if(Q0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JI(t,e){if(t==null)return{};var n=Dee(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Lee=function(e){return Array.isArray(e.value)?Nee(e.value):e.value};function Ed(t){var e=t.valueAccessor,n=e===void 0?Lee:e,r=JI(t,See),a=r.data,i=r.dataKey,o=r.clockWise,u=r.id,d=r.textBreakAll,f=JI(r,Eee);return!a||!a.length?null:Ce.createElement(na,{className:"recharts-label-list"},a.map(function(p,g){var y=Mn(i)?n(p,g):co(p&&p.payload,i),x=Mn(u)?{}:{id:"".concat(u,"-").concat(g)};return Ce.createElement(Ki,cy({},On(p,!0),f,x,{parentViewBox:p.parentViewBox,value:y,textBreakAll:d,viewBox:Ki.parseViewBox(Mn(o)?p:QI(QI({},p),{},{clockWise:o})),key:"label-".concat(g),index:g}))}))}Ed.displayName="LabelList";function Mee(t,e){return t?t===!0?Ce.createElement(Ed,{key:"labelList-implicit",data:e}):Ce.isValidElement(t)||yn(t)?Ce.createElement(Ed,{key:"labelList-implicit",data:e,content:t}):Wp(t)?Ce.createElement(Ed,cy({data:e},t,{key:"labelList-implicit"})):null:null}function Bee(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,a=yl(r,Ed).map(function(o,u){return ve.cloneElement(o,{data:e,key:"labelList-".concat(u)})});if(!n)return a;var i=Mee(t.label,e);return[i].concat(jee(a))}Ed.renderCallByParent=Bee;function J0(t){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J0(t)}function ON(){return ON=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ON.apply(this,arguments)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function eP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){Fee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fee(t,e,n){return e=qee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qee(t){var e=zee(t,"string");return J0(e)=="symbol"?e:e+""}function zee(t,e){if(J0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(J0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vee=function(e,n){var r=gl(n-e),a=Math.min(Math.abs(n-e),359.999);return r*a},$v=function(e){var n=e.cx,r=e.cy,a=e.radius,i=e.angle,o=e.sign,u=e.isExternal,d=e.cornerRadius,f=e.cornerIsExternal,p=d*(u?1:-1)+a,g=Math.asin(d/p)/ly,y=f?i:i+o*g,x=Ei(n,r,p,y),E=Ei(n,r,a,y),w=f?i-o*g:i,N=Ei(n,r,p*Math.cos(g*ly),w);return{center:x,circleTangency:E,lineTangency:N,theta:g}},o7=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,u=e.endAngle,d=Vee(o,u),f=o+d,p=Ei(n,r,i,o),g=Ei(n,r,i,f),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(a>0){var x=Ei(n,r,a,o),E=Ei(n,r,a,f);y+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},Uee=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,f=e.startAngle,p=e.endAngle,g=gl(p-f),y=$v({cx:n,cy:r,radius:i,angle:f,sign:g,cornerRadius:o,cornerIsExternal:d}),x=y.circleTangency,E=y.lineTangency,w=y.theta,N=$v({cx:n,cy:r,radius:i,angle:p,sign:-g,cornerRadius:o,cornerIsExternal:d}),T=N.circleTangency,C=N.lineTangency,B=N.theta,q=d?Math.abs(f-p):Math.abs(f-p)-w-B;if(q<0)return u?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):o7({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:f,endAngle:p});var D="M ".concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(g<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(C.x,",").concat(C.y,`
  `);if(a>0){var F=$v({cx:n,cy:r,radius:a,angle:f,sign:g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),k=F.circleTangency,I=F.lineTangency,V=F.theta,U=$v({cx:n,cy:r,radius:a,angle:p,sign:-g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),M=U.circleTangency,R=U.lineTangency,j=U.theta,G=d?Math.abs(f-p):Math.abs(f-p)-V-j;if(G<0&&o===0)return"".concat(D,"L").concat(n,",").concat(r,"Z");D+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(G>180),",").concat(+(g>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(I.x,",").concat(I.y,"Z")}else D+="L".concat(n,",").concat(r,"Z");return D},$ee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},l7=function(e){var n=eP(eP({},$ee),e),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,u=n.cornerRadius,d=n.forceCornerRadius,f=n.cornerIsExternal,p=n.startAngle,g=n.endAngle,y=n.className;if(o<i||p===g)return null;var x=Gn("recharts-sector",y),E=o-i,w=Lf(u,E,0,!0),N;return w>0&&Math.abs(p-g)<360?N=Uee({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,E/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:g}):N=o7({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:p,endAngle:g}),Ce.createElement("path",ON({},On(n,!0),{className:x,d:N,role:"img"}))};function Z0(t){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}function kN(){return kN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kN.apply(this,arguments)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){Hee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hee(t,e,n){return e=Gee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gee(t){var e=Wee(t,"string");return Z0(e)=="symbol"?e:e+""}function Wee(t,e){if(Z0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Z0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rP={curveBasisClosed:fG,curveBasisOpen:hG,curveBasis:dG,curveBumpX:QH,curveBumpY:JH,curveLinearClosed:pG,curveLinear:sx,curveMonotoneX:mG,curveMonotoneY:gG,curveNatural:vG,curveStep:yG,curveStepAfter:bG,curveStepBefore:xG},Hv=function(e){return e.x===+e.x&&e.y===+e.y},Wm=function(e){return e.x},Km=function(e){return e.y},Kee=function(e,n){if(yn(e))return e;var r="curve".concat(ax(e));return(r==="curveMonotone"||r==="curveBump")&&n?rP["".concat(r).concat(n==="vertical"?"Y":"X")]:rP[r]||sx},Yee=function(e){var n=e.type,r=n===void 0?"linear":n,a=e.points,i=a===void 0?[]:a,o=e.baseLine,u=e.layout,d=e.connectNulls,f=d===void 0?!1:d,p=Kee(r,u),g=f?i.filter(function(w){return Hv(w)}):i,y;if(Array.isArray(o)){var x=f?o.filter(function(w){return Hv(w)}):o,E=g.map(function(w,N){return nP(nP({},w),{},{base:x[N]})});return u==="vertical"?y=Lv().y(Km).x1(Wm).x0(function(w){return w.base.x}):y=Lv().x(Wm).y1(Km).y0(function(w){return w.base.y}),y.defined(Hv).curve(p),y(E)}return u==="vertical"&&xt(o)?y=Lv().y(Km).x1(Wm).x0(o):xt(o)?y=Lv().x(Wm).y1(Km).y0(o):y=hL().x(Wm).y(Km),y.defined(Hv).curve(p),y(g)},m0=function(e){var n=e.className,r=e.points,a=e.path,i=e.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?Yee(e):a;return ve.createElement("path",kN({},On(e,!1),R1(e),{className:Gn("recharts-curve",n),d:o,ref:i}))},$5={exports:{}},H5,aP;function Xee(){if(aP)return H5;aP=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return H5=t,H5}var G5,iP;function Qee(){if(iP)return G5;iP=1;var t=Xee();function e(){}function n(){}return n.resetWarningCache=e,G5=function(){function r(o,u,d,f,p,g){if(g!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},G5}var sP;function Jee(){return sP||(sP=1,$5.exports=Qee()()),$5.exports}var Zee=Jee();const or=xr(Zee),{getOwnPropertyNames:ete,getOwnPropertySymbols:tte}=Object,{hasOwnProperty:nte}=Object.prototype;function W5(t,e){return function(r,a,i){return t(r,a,i)&&e(r,a,i)}}function Gv(t){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,a);const{cache:i}=a,o=i.get(n),u=i.get(r);if(o&&u)return o===r&&u===n;i.set(n,r),i.set(r,n);const d=t(n,r,a);return i.delete(n),i.delete(r),d}}function rte(t){return t!=null?t[Symbol.toStringTag]:void 0}function oP(t){return ete(t).concat(tte(t))}const ate=Object.hasOwn||((t,e)=>nte.call(t,e));function Yf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const ite="__v",ste="__o",ote="_owner",{getOwnPropertyDescriptor:lP,keys:cP}=Object;function lte(t,e){return t.byteLength===e.byteLength&&uy(new Uint8Array(t),new Uint8Array(e))}function cte(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function ute(t,e){return t.byteLength===e.byteLength&&uy(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function dte(t,e){return Yf(t.getTime(),e.getTime())}function fte(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function hte(t,e){return t===e}function uP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const a=new Array(r),i=t.entries();let o,u,d=0;for(;(o=i.next())&&!o.done;){const f=e.entries();let p=!1,g=0;for(;(u=f.next())&&!u.done;){if(a[g]){g++;continue}const y=o.value,x=u.value;if(n.equals(y[0],x[0],d,g,t,e,n)&&n.equals(y[1],x[1],y[0],x[0],t,e,n)){p=a[g]=!0;break}g++}if(!p)return!1;d++}return!0}const pte=Yf;function mte(t,e,n){const r=cP(t);let a=r.length;if(cP(e).length!==a)return!1;for(;a-- >0;)if(!c7(t,e,n,r[a]))return!1;return!0}function Ym(t,e,n){const r=oP(t);let a=r.length;if(oP(e).length!==a)return!1;let i,o,u;for(;a-- >0;)if(i=r[a],!c7(t,e,n,i)||(o=lP(t,i),u=lP(e,i),(o||u)&&(!o||!u||o.configurable!==u.configurable||o.enumerable!==u.enumerable||o.writable!==u.writable)))return!1;return!0}function gte(t,e){return Yf(t.valueOf(),e.valueOf())}function vte(t,e){return t.source===e.source&&t.flags===e.flags}function dP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const a=new Array(r),i=t.values();let o,u;for(;(o=i.next())&&!o.done;){const d=e.values();let f=!1,p=0;for(;(u=d.next())&&!u.done;){if(!a[p]&&n.equals(o.value,u.value,o.value,u.value,t,e,n)){f=a[p]=!0;break}p++}if(!f)return!1}return!0}function uy(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function yte(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function c7(t,e,n,r){return(r===ote||r===ste||r===ite)&&(t.$$typeof||e.$$typeof)?!0:ate(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const xte="[object ArrayBuffer]",bte="[object Arguments]",_te="[object Boolean]",wte="[object DataView]",Ate="[object Date]",Nte="[object Error]",Ste="[object Map]",Ete="[object Number]",jte="[object Object]",Tte="[object RegExp]",Ote="[object Set]",kte="[object String]",Cte={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Ite="[object URL]",Pte=Object.prototype.toString;function Rte({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:p,areSetsEqual:g,areTypedArraysEqual:y,areUrlsEqual:x,unknownTagComparators:E}){return function(N,T,C){if(N===T)return!0;if(N==null||T==null)return!1;const B=typeof N;if(B!==typeof T)return!1;if(B!=="object")return B==="number"?u(N,T,C):B==="function"?i(N,T,C):!1;const q=N.constructor;if(q!==T.constructor)return!1;if(q===Object)return d(N,T,C);if(Array.isArray(N))return e(N,T,C);if(q===Date)return r(N,T,C);if(q===RegExp)return p(N,T,C);if(q===Map)return o(N,T,C);if(q===Set)return g(N,T,C);const D=Pte.call(N);if(D===Ate)return r(N,T,C);if(D===Tte)return p(N,T,C);if(D===Ste)return o(N,T,C);if(D===Ote)return g(N,T,C);if(D===jte)return typeof N.then!="function"&&typeof T.then!="function"&&d(N,T,C);if(D===Ite)return x(N,T,C);if(D===Nte)return a(N,T,C);if(D===bte)return d(N,T,C);if(Cte[D])return y(N,T,C);if(D===xte)return t(N,T,C);if(D===wte)return n(N,T,C);if(D===_te||D===Ete||D===kte)return f(N,T,C);if(E){let F=E[D];if(!F){const k=rte(N);k&&(F=E[k])}if(F)return F(N,T,C)}return!1}}function Dte({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:lte,areArraysEqual:n?Ym:cte,areDataViewsEqual:ute,areDatesEqual:dte,areErrorsEqual:fte,areFunctionsEqual:hte,areMapsEqual:n?W5(uP,Ym):uP,areNumbersEqual:pte,areObjectsEqual:n?Ym:mte,arePrimitiveWrappersEqual:gte,areRegExpsEqual:vte,areSetsEqual:n?W5(dP,Ym):dP,areTypedArraysEqual:n?W5(uy,Ym):uy,areUrlsEqual:yte,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const a=Gv(r.areArraysEqual),i=Gv(r.areMapsEqual),o=Gv(r.areObjectsEqual),u=Gv(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:u})}return r}function Lte(t){return function(e,n,r,a,i,o,u){return t(e,n,u)}}function Mte({circular:t,comparator:e,createState:n,equals:r,strict:a}){if(n)return function(u,d){const{cache:f=t?new WeakMap:void 0,meta:p}=n();return e(u,d,{cache:f,equals:r,meta:p,strict:a})};if(t)return function(u,d){return e(u,d,{cache:new WeakMap,equals:r,meta:void 0,strict:a})};const i={cache:void 0,equals:r,meta:void 0,strict:a};return function(u,d){return e(u,d,i)}}const Bte=Wd();Wd({strict:!0});Wd({circular:!0});Wd({circular:!0,strict:!0});Wd({createInternalComparator:()=>Yf});Wd({strict:!0,createInternalComparator:()=>Yf});Wd({circular:!0,createInternalComparator:()=>Yf});Wd({circular:!0,createInternalComparator:()=>Yf,strict:!0});function Wd(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:a=!1}=t,i=Dte(t),o=Rte(i),u=n?n(o):Lte(o);return Mte({circular:e,comparator:o,createState:r,equals:u,strict:a})}function Fte(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function fP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>e?(t(i),n=-1):Fte(a)};requestAnimationFrame(r)}function CN(t){"@babel/helpers - typeof";return CN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CN(t)}function qte(t){return $te(t)||Ute(t)||Vte(t)||zte()}function zte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vte(t,e){if(t){if(typeof t=="string")return hP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hP(t,e)}}function hP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ute(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $te(t){if(Array.isArray(t))return t}function Hte(){var t={},e=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,u=qte(o),d=u[0],f=u.slice(1);if(typeof d=="number"){fP(a.bind(null,f),d);return}a(d),fP(a.bind(null,f));return}CN(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){u7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u7(t,e,n){return e=Gte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gte(t){var e=Wte(t,"string");return eg(e)==="symbol"?e:String(e)}function Wte(t,e){if(eg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kte=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},Yte=function(e){return e},Xte=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},g0=function(e,n){return Object.keys(n).reduce(function(r,a){return mP(mP({},r),{},u7({},a,e(a,n[a])))},{})},gP=function(e,n,r){return e.map(function(a){return"".concat(Xte(a)," ").concat(n,"ms ").concat(r)}).join(",")};function Qte(t,e){return ene(t)||Zte(t,e)||d7(t,e)||Jte()}function Jte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function ene(t){if(Array.isArray(t))return t}function tne(t){return ane(t)||rne(t)||d7(t)||nne()}function nne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d7(t,e){if(t){if(typeof t=="string")return IN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IN(t,e)}}function rne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ane(t){if(Array.isArray(t))return IN(t)}function IN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dy=1e-4,f7=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},h7=function(e,n){return e.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},vP=function(e,n){return function(r){var a=f7(e,n);return h7(a,r)}},ine=function(e,n){return function(r){var a=f7(e,n),i=[].concat(tne(a.map(function(o,u){return o*u}).slice(1)),[0]);return h7(i,r)}},yP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,u=1;break;case"ease":a=.25,i=.1,o=.25,u=1;break;case"ease-in":a=.42,i=0,o=1,u=1;break;case"ease-out":a=.42,i=0,o=.58,u=1;break;case"ease-in-out":a=0,i=0,o=.58,u=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(N){return parseFloat(N)}),p=Qte(f,4);a=p[0],i=p[1],o=p[2],u=p[3]}}}var g=vP(a,o),y=vP(i,u),x=ine(a,o),E=function(T){return T>1?1:T<0?0:T},w=function(T){for(var C=T>1?1:T,B=C,q=0;q<8;++q){var D=g(B)-C,F=x(B);if(Math.abs(D-C)<dy||F<dy)return y(B);B=E(B-D/F)}return y(B)};return w.isStepper=!1,w},sne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,a=e.damping,i=a===void 0?8:a,o=e.dt,u=o===void 0?17:o,d=function(p,g,y){var x=-(p-g)*r,E=y*i,w=y+(x-E)*u/1e3,N=y*u/1e3+p;return Math.abs(N-g)<dy&&Math.abs(w)<dy?[g,0]:[N,w]};return d.isStepper=!0,d.dt=u,d},one=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yP(a);case"spring":return sne();default:if(a.split("(")[0]==="cubic-bezier")return yP(a)}return typeof a=="function"?a:null};function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}function xP(t){return une(t)||cne(t)||p7(t)||lne()}function lne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function une(t){if(Array.isArray(t))return RN(t)}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){PN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PN(t,e,n){return e=dne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dne(t){var e=fne(t,"string");return tg(e)==="symbol"?e:String(e)}function fne(t,e){if(tg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hne(t,e){return gne(t)||mne(t,e)||p7(t,e)||pne()}function pne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p7(t,e){if(t){if(typeof t=="string")return RN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RN(t,e)}}function RN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function gne(t){if(Array.isArray(t))return t}var fy=function(e,n,r){return e+(n-e)*r},DN=function(e){var n=e.from,r=e.to;return n!==r},vne=function t(e,n,r){var a=g0(function(i,o){if(DN(o)){var u=e(o.from,o.to,o.velocity),d=hne(u,2),f=d[0],p=d[1];return Ai(Ai({},o),{},{from:f,velocity:p})}return o},n);return r<1?g0(function(i,o){return DN(o)?Ai(Ai({},o),{},{velocity:fy(o.velocity,a[i].velocity,r),from:fy(o.from,a[i].from,r)}):o},n):t(e,a,r-1)};const yne=(function(t,e,n,r,a){var i=Kte(t,e),o=i.reduce(function(N,T){return Ai(Ai({},N),{},PN({},T,[t[T],e[T]]))},{}),u=i.reduce(function(N,T){return Ai(Ai({},N),{},PN({},T,{from:t[T],velocity:0,to:e[T]}))},{}),d=-1,f,p,g=function(){return null},y=function(){return g0(function(T,C){return C.from},u)},x=function(){return!Object.values(u).filter(DN).length},E=function(T){f||(f=T);var C=T-f,B=C/n.dt;u=vne(n,u,B),a(Ai(Ai(Ai({},t),e),y())),f=T,x()||(d=requestAnimationFrame(g))},w=function(T){p||(p=T);var C=(T-p)/r,B=g0(function(D,F){return fy.apply(void 0,xP(F).concat([n(C)]))},o);if(a(Ai(Ai(Ai({},t),e),B)),C<1)d=requestAnimationFrame(g);else{var q=g0(function(D,F){return fy.apply(void 0,xP(F).concat([n(1)]))},o);a(Ai(Ai(Ai({},t),e),q))}};return g=n.isStepper?E:w,function(){return requestAnimationFrame(g),function(){cancelAnimationFrame(d)}}});function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}var xne=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function bne(t,e){if(t==null)return{};var n=_ne(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ne(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function K5(t){return Sne(t)||Nne(t)||Ane(t)||wne()}function wne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ane(t,e){if(t){if(typeof t=="string")return LN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LN(t,e)}}function Nne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sne(t){if(Array.isArray(t))return LN(t)}function LN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ul(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){a0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a0(t,e,n){return e=m7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ene(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m7(r.key),r)}}function Tne(t,e,n){return e&&jne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m7(t){var e=One(t,"string");return Np(e)==="symbol"?e:String(e)}function One(t,e){if(Np(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MN(t,e)}function MN(t,e){return MN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},MN(t,e)}function Cne(t){var e=Ine();return function(){var r=hy(t),a;if(e){var i=hy(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return BN(this,a)}}function BN(t,e){if(e&&(Np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FN(t)}function FN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ine(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hy(t){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hy(t)}var vu=(function(t){kne(n,t);var e=Cne(n);function n(r,a){var i;Ene(this,n),i=e.call(this,r,a);var o=i.props,u=o.isActive,d=o.attributeName,f=o.from,p=o.to,g=o.steps,y=o.children,x=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(FN(i)),i.changeStyle=i.changeStyle.bind(FN(i)),!u||x<=0)return i.state={style:{}},typeof y=="function"&&(i.state={style:p}),BN(i);if(g&&g.length)i.state={style:g[0].style};else if(f){if(typeof y=="function")return i.state={style:f},BN(i);i.state={style:d?a0({},d,f):f}}else i.state={style:{}};return i}return Tne(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,u=i.canBegin,d=i.attributeName,f=i.shouldReAnimate,p=i.to,g=i.from,y=this.state.style;if(u){if(!o){var x={style:d?a0({},d,p):p};this.state&&y&&(d&&y[d]!==p||!d&&y!==p)&&this.setState(x);return}if(!(Bte(a.to,p)&&a.canBegin&&a.isActive)){var E=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=E||f?g:a.to;if(this.state&&y){var N={style:d?a0({},d,w):w};(d&&y[d]!==w||!d&&y!==w)&&this.setState(N)}this.runAnimation(ul(ul({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,u=a.to,d=a.duration,f=a.easing,p=a.begin,g=a.onAnimationEnd,y=a.onAnimationStart,x=yne(o,u,one(f),d,this.changeStyle),E=function(){i.stopJSAnimation=x()};this.manager.start([y,p,E,d,g])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,u=a.begin,d=a.onAnimationStart,f=o[0],p=f.style,g=f.duration,y=g===void 0?0:g,x=function(w,N,T){if(T===0)return w;var C=N.duration,B=N.easing,q=B===void 0?"ease":B,D=N.style,F=N.properties,k=N.onAnimationEnd,I=T>0?o[T-1]:N,V=F||Object.keys(D);if(typeof q=="function"||q==="spring")return[].concat(K5(w),[i.runJSAnimation.bind(i,{from:I.style,to:D,duration:C,easing:q}),C]);var U=gP(V,C,q),M=ul(ul(ul({},I.style),D),{},{transition:U});return[].concat(K5(w),[M,C,k]).filter(Yte)};return this.manager.start([d].concat(K5(o.reduce(x,[p,Math.max(y,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Hte());var i=a.begin,o=a.duration,u=a.attributeName,d=a.to,f=a.easing,p=a.onAnimationStart,g=a.onAnimationEnd,y=a.steps,x=a.children,E=this.manager;if(this.unSubscribe=E.subscribe(this.handleStyleChange),typeof f=="function"||typeof x=="function"||f==="spring"){this.runJSAnimation(a);return}if(y.length>1){this.runStepAnimation(a);return}var w=u?a0({},u,d):d,N=gP(Object.keys(w),o,f);E.start([p,i,ul(ul({},w),{},{transition:N}),o,g])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=bne(a,xne),f=ve.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!u||f===0||o<=0)return i;var g=function(x){var E=x.props,w=E.style,N=w===void 0?{}:w,T=E.className,C=ve.cloneElement(x,ul(ul({},d),{},{style:ul(ul({},N),p),className:T}));return C};return f===1?g(ve.Children.only(i)):Ce.createElement("div",null,ve.Children.map(i,function(y){return g(y)}))}}]),n})(ve.PureComponent);vu.displayName="Animate";vu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};vu.propTypes={from:or.oneOfType([or.object,or.string]),to:or.oneOfType([or.object,or.string]),attributeName:or.string,duration:or.number,begin:or.number,easing:or.oneOfType([or.string,or.func]),steps:or.arrayOf(or.shape({duration:or.number.isRequired,style:or.object.isRequired,easing:or.oneOfType([or.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),or.func]),properties:or.arrayOf("string"),onAnimationEnd:or.func})),children:or.oneOfType([or.node,or.func]),isActive:or.bool,canBegin:or.bool,onAnimationEnd:or.func,shouldReAnimate:or.bool,onAnimationStart:or.func,onAnimationReStart:or.func};function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},py.apply(this,arguments)}function Pne(t,e){return Mne(t)||Lne(t,e)||Dne(t,e)||Rne()}function Rne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dne(t,e){if(t){if(typeof t=="string")return wP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wP(t,e)}}function wP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function Mne(t){if(Array.isArray(t))return t}function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function NP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){Bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bne(t,e,n){return e=Fne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fne(t){var e=qne(t,"string");return ng(e)=="symbol"?e:e+""}function qne(t,e){if(ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SP=function(e,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),u=a>=0?1:-1,d=r>=0?1:-1,f=a>=0&&r>=0||a<0&&r<0?1:0,p;if(o>0&&i instanceof Array){for(var g=[0,0,0,0],y=0,x=4;y<x;y++)g[y]=i[y]>o?o:i[y];p="M".concat(e,",").concat(n+u*g[0]),g[0]>0&&(p+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(f,",").concat(e+d*g[0],",").concat(n)),p+="L ".concat(e+r-d*g[1],",").concat(n),g[1]>0&&(p+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+u*g[1])),p+="L ".concat(e+r,",").concat(n+a-u*g[2]),g[2]>0&&(p+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(f,`,
        `).concat(e+r-d*g[2],",").concat(n+a)),p+="L ".concat(e+d*g[3],",").concat(n+a),g[3]>0&&(p+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+a-u*g[3])),p+="Z"}else if(o>0&&i===+i&&i>0){var E=Math.min(o,i);p="M ".concat(e,",").concat(n+u*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+d*E,",").concat(n,`
            L `).concat(e+r-d*E,",").concat(n,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+r,",").concat(n+u*E,`
            L `).concat(e+r,",").concat(n+a-u*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+r-d*E,",").concat(n+a,`
            L `).concat(e+d*E,",").concat(n+a,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e,",").concat(n+a-u*E," Z")}else p="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return p},zne=function(e,n){if(!e||!n)return!1;var r=e.x,a=e.y,i=n.x,o=n.y,u=n.width,d=n.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(i,i+u),p=Math.max(i,i+u),g=Math.min(o,o+d),y=Math.max(o,o+d);return r>=f&&r<=p&&a>=g&&a<=y}return!1},Vne={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WE=function(e){var n=NP(NP({},Vne),e),r=ve.useRef(),a=ve.useState(-1),i=Pne(a,2),o=i[0],u=i[1];ve.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var q=r.current.getTotalLength();q&&u(q)}catch{}},[]);var d=n.x,f=n.y,p=n.width,g=n.height,y=n.radius,x=n.className,E=n.animationEasing,w=n.animationDuration,N=n.animationBegin,T=n.isAnimationActive,C=n.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||g!==+g||p===0||g===0)return null;var B=Gn("recharts-rectangle",x);return C?Ce.createElement(vu,{canBegin:o>0,from:{width:p,height:g,x:d,y:f},to:{width:p,height:g,x:d,y:f},duration:w,animationEasing:E,isActive:C},function(q){var D=q.width,F=q.height,k=q.x,I=q.y;return Ce.createElement(vu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:w,isActive:T,easing:E},Ce.createElement("path",py({},On(n,!0),{className:B,d:SP(k,I,D,F,y),ref:r})))}):Ce.createElement("path",py({},On(n,!0),{className:B,d:SP(d,f,p,g,y)}))};function qN(){return qN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qN.apply(this,arguments)}var KE=function(e){var n=e.cx,r=e.cy,a=e.r,i=e.className,o=Gn("recharts-dot",i);return n===+n&&r===+r&&a===+a?ve.createElement("circle",qN({},On(e,!1),R1(e),{className:o,cx:n,cy:r,r:a})):null};function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}var Une=["x","y","top","left","width","height","className"];function zN(){return zN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zN.apply(this,arguments)}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){Hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hne(t,e,n){return e=Gne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gne(t){var e=Wne(t,"string");return rg(e)=="symbol"?e:e+""}function Wne(t,e){if(rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kne(t,e){if(t==null)return{};var n=Yne(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Xne=function(e,n,r,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},Qne=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,o=e.top,u=o===void 0?0:o,d=e.left,f=d===void 0?0:d,p=e.width,g=p===void 0?0:p,y=e.height,x=y===void 0?0:y,E=e.className,w=Kne(e,Une),N=$ne({x:r,y:i,top:u,left:f,width:g,height:x},w);return!xt(r)||!xt(i)||!xt(g)||!xt(x)||!xt(u)||!xt(f)?null:Ce.createElement("path",zN({},On(N,!0),{className:Gn("recharts-cross",E),d:Xne(r,i,g,x,u,f)}))},Y5,jP;function Jne(){if(jP)return Y5;jP=1;var t=LL(),e=t(Object.getPrototypeOf,Object);return Y5=e,Y5}var X5,TP;function Zne(){if(TP)return X5;TP=1;var t=Au(),e=Jne(),n=Nu(),r="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,u=i.hasOwnProperty,d=o.call(Object);function f(p){if(!n(p)||t(p)!=r)return!1;var g=e(p);if(g===null)return!0;var y=u.call(g,"constructor")&&g.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==d}return X5=f,X5}var ere=Zne();const tre=xr(ere);var Q5,OP;function nre(){if(OP)return Q5;OP=1;var t=Au(),e=Nu(),n="[object Boolean]";function r(a){return a===!0||a===!1||e(a)&&t(a)==n}return Q5=r,Q5}var rre=nre();const are=xr(rre);function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}function my(){return my=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},my.apply(this,arguments)}function ire(t,e){return cre(t)||lre(t,e)||ore(t,e)||sre()}function sre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ore(t,e){if(t){if(typeof t=="string")return kP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kP(t,e)}}function kP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function cre(t){if(Array.isArray(t))return t}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ure(t,e,n){return e=dre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dre(t){var e=fre(t,"string");return ag(e)=="symbol"?e:e+""}function fre(t,e){if(ag(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PP=function(e,n,r,a,i){var o=r-a,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-o/2,",").concat(n+i),u+="L ".concat(e+r-o/2-a,",").concat(n+i),u+="L ".concat(e,",").concat(n," Z"),u},hre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pre=function(e){var n=IP(IP({},hre),e),r=ve.useRef(),a=ve.useState(-1),i=ire(a,2),o=i[0],u=i[1];ve.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var B=r.current.getTotalLength();B&&u(B)}catch{}},[]);var d=n.x,f=n.y,p=n.upperWidth,g=n.lowerWidth,y=n.height,x=n.className,E=n.animationEasing,w=n.animationDuration,N=n.animationBegin,T=n.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||g!==+g||y!==+y||p===0&&g===0||y===0)return null;var C=Gn("recharts-trapezoid",x);return T?Ce.createElement(vu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:f},to:{upperWidth:p,lowerWidth:g,height:y,x:d,y:f},duration:w,animationEasing:E,isActive:T},function(B){var q=B.upperWidth,D=B.lowerWidth,F=B.height,k=B.x,I=B.y;return Ce.createElement(vu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:w,easing:E},Ce.createElement("path",my({},On(n,!0),{className:C,d:PP(k,I,q,D,F),ref:r})))}):Ce.createElement("g",null,Ce.createElement("path",my({},On(n,!0),{className:C,d:PP(d,f,p,g,y)})))},mre=["option","shapeType","propTransformer","activeClassName","isActive"];function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function gre(t,e){if(t==null)return{};var n=vre(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){yre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yre(t,e,n){return e=xre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xre(t){var e=bre(t,"string");return ig(e)=="symbol"?e:e+""}function bre(t,e){if(ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _re(t,e){return gy(gy({},e),t)}function wre(t,e){return t==="symbols"}function DP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Ce.createElement(WE,n);case"trapezoid":return Ce.createElement(pre,n);case"sector":return Ce.createElement(l7,n);case"symbols":if(wre(e))return Ce.createElement(fE,n);break;default:return null}}function Are(t){return ve.isValidElement(t)?t.props:t}function Nre(t){var e=t.option,n=t.shapeType,r=t.propTransformer,a=r===void 0?_re:r,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,u=t.isActive,d=gre(t,mre),f;if(ve.isValidElement(e))f=ve.cloneElement(e,gy(gy({},d),Are(e)));else if(yn(e))f=e(d);else if(tre(e)&&!are(e)){var p=a(e,d);f=Ce.createElement(DP,{shapeType:n,elementProps:p})}else{var g=d;f=Ce.createElement(DP,{shapeType:n,elementProps:g})}return u?Ce.createElement(na,{className:o},f):f}function _x(t,e){return e!=null&&"trapezoids"in t.props}function wx(t,e){return e!=null&&"sectors"in t.props}function sg(t,e){return e!=null&&"points"in t.props}function Sre(t,e){var n,r,a=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,i=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return a&&i}function Ere(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function jre(t,e){var n=t.x===e.x,r=t.y===e.y,a=t.z===e.z;return n&&r&&a}function Tre(t,e){var n;return _x(t,e)?n=Sre:wx(t,e)?n=Ere:sg(t,e)&&(n=jre),n}function Ore(t,e){var n;return _x(t,e)?n="trapezoids":wx(t,e)?n="sectors":sg(t,e)&&(n="points"),n}function kre(t,e){if(_x(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(wx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return sg(t,e)?e.payload:{}}function Cre(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,a=Ore(n,e),i=kre(n,e),o=r.filter(function(d,f){var p=U0(i,d),g=n.props[a].filter(function(E){var w=Tre(n,e);return w(E,e)}),y=n.props[a].indexOf(g[g.length-1]),x=f===y;return p&&x}),u=r.indexOf(o[o.length-1]);return u}var J5,LP;function Ire(){if(LP)return J5;LP=1;var t=Math.ceil,e=Math.max;function n(r,a,i,o){for(var u=-1,d=e(t((a-r)/(i||1)),0),f=Array(d);d--;)f[o?d:++u]=r,r+=i;return f}return J5=n,J5}var Z5,MP;function g7(){if(MP)return Z5;MP=1;var t=JL(),e=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*n}return a===a?a:0}return Z5=r,Z5}var eA,BP;function Pre(){if(BP)return eA;BP=1;var t=Ire(),e=ux(),n=g7();function r(a){return function(i,o,u){return u&&typeof u!="number"&&e(i,o,u)&&(o=u=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),u=u===void 0?i<o?1:-1:n(u),t(i,o,u,a)}}return eA=r,eA}var tA,FP;function Rre(){if(FP)return tA;FP=1;var t=Pre(),e=t();return tA=e,tA}var Dre=Rre();const vy=xr(Dre);function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){v7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v7(t,e,n){return e=Lre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lre(t){var e=Mre(t,"string");return og(e)=="symbol"?e:e+""}function Mre(t,e){if(og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bre=["Webkit","Moz","O","ms"],Fre=function(e,n){var r=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Bre.reduce(function(i,o){return zP(zP({},i),{},v7({},o+r,n))},{});return a[e]=n,a};function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(this,arguments)}function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){no(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x7(r.key),r)}}function zre(t,e,n){return e&&UP(t.prototype,e),n&&UP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vre(t,e,n){return e=xy(e),Ure(t,y7()?Reflect.construct(e,n||[],xy(t).constructor):e.apply(t,n))}function Ure(t,e){if(e&&(Sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $re(t)}function $re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y7=function(){return!!t})()}function xy(t){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xy(t)}function Hre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VN(t,e)}function VN(t,e){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},VN(t,e)}function no(t,e,n){return e=x7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x7(t){var e=Gre(t,"string");return Sp(e)=="symbol"?e:e+""}function Gre(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wre=function(e){var n=e.data,r=e.startIndex,a=e.endIndex,i=e.x,o=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var d=n.length,f=h0().domain(vy(0,d)).range([i,i+o-u]),p=f.domain().map(function(g){return f(g)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(a),scale:f,scaleValues:p}},$P=function(e){return e.changedTouches&&!!e.changedTouches.length},Ep=(function(t){function e(n){var r;return qre(this,e),r=Vre(this,e,[n]),no(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),no(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),no(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,u=a.startIndex;o==null||o({endIndex:i,startIndex:u})}),r.detachDragEndListener()}),no(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),no(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),no(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),no(r,"handleSlideDragStart",function(a){var i=$P(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Hre(e,t),zre(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,p=f.length-1,g=Math.min(a,i),y=Math.max(a,i),x=e.getIndexInRange(o,g),E=e.getIndexInRange(o,y);return{startIndex:x-x%d,endIndex:E===p?p:E-E%d}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,u=a.dataKey,d=co(i[r],u,r);return yn(o)?o(d,r):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,u=a.endX,d=this.props,f=d.x,p=d.width,g=d.travellerWidth,y=d.startIndex,x=d.endIndex,E=d.onChange,w=r.pageX-i;w>0?w=Math.min(w,f+p-g-u,f+p-g-o):w<0&&(w=Math.max(w,f-o,f-u));var N=this.getIndex({startX:o+w,endX:u+w});(N.startIndex!==y||N.endIndex!==x)&&E&&E(N),this.setState({startX:o+w,endX:u+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=$P(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,u=a.endX,d=a.startX,f=this.state[o],p=this.props,g=p.x,y=p.width,x=p.travellerWidth,E=p.onChange,w=p.gap,N=p.data,T={startX:this.state.startX,endX:this.state.endX},C=r.pageX-i;C>0?C=Math.min(C,g+y-x-f):C<0&&(C=Math.max(C,g-f)),T[o]=f+C;var B=this.getIndex(T),q=B.startIndex,D=B.endIndex,F=function(){var I=N.length-1;return o==="startX"&&(u>d?q%w===0:D%w===0)||u<d&&D===I||o==="endX"&&(u>d?D%w===0:q%w===0)||u>d&&D===I};this.setState(no(no({},o,f+C),"brushMoveStartX",r.pageX),function(){E&&F()&&E(B)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,u=o.scaleValues,d=o.startX,f=o.endX,p=this.state[a],g=u.indexOf(p);if(g!==-1){var y=g+r;if(!(y===-1||y>=u.length)){var x=u[y];a==="startX"&&x>=f||a==="endX"&&x<=d||this.setState(no({},a,x),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,u=r.height,d=r.fill,f=r.stroke;return Ce.createElement("rect",{stroke:f,fill:d,x:a,y:i,width:o,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,u=r.height,d=r.data,f=r.children,p=r.padding,g=ve.Children.only(f);return g?Ce.cloneElement(g,{x:a,y:i,width:o,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,u=this,d=this.props,f=d.y,p=d.travellerWidth,g=d.height,y=d.traveller,x=d.ariaLabel,E=d.data,w=d.startIndex,N=d.endIndex,T=Math.max(r,this.props.x),C=nA(nA({},On(this.props,!1)),{},{x:T,y:f,width:p,height:g}),B=x||"Min value: ".concat((i=E[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=E[N])===null||o===void 0?void 0:o.name);return Ce.createElement(na,{tabIndex:0,role:"slider","aria-label":B,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(D){["ArrowLeft","ArrowRight"].includes(D.key)&&(D.preventDefault(),D.stopPropagation(),u.handleTravellerMoveKeyboard(D.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,C))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,u=i.height,d=i.stroke,f=i.travellerWidth,p=Math.min(r,a)+f,g=Math.max(Math.abs(a-r)-f,0);return Ce.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:o,width:g,height:u})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,u=r.height,d=r.travellerWidth,f=r.stroke,p=this.state,g=p.startX,y=p.endX,x=5,E={pointerEvents:"none",fill:f};return Ce.createElement(na,{className:"recharts-brush-texts"},Ce.createElement(G1,yy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(g,y)-x,y:o+u/2},E),this.getTextOfTick(a)),Ce.createElement(G1,yy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(g,y)+d+x,y:o+u/2},E),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,u=r.x,d=r.y,f=r.width,p=r.height,g=r.alwaysShowText,y=this.state,x=y.startX,E=y.endX,w=y.isTextActive,N=y.isSlideMoving,T=y.isTravellerMoving,C=y.isTravellerFocused;if(!a||!a.length||!xt(u)||!xt(d)||!xt(f)||!xt(p)||f<=0||p<=0)return null;var B=Gn("recharts-brush",i),q=Ce.Children.count(o)===1,D=Fre("userSelect","none");return Ce.createElement(na,{className:B,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:D},this.renderBackground(),q&&this.renderPanorama(),this.renderSlide(x,E),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(E,"endX"),(w||N||T||C||g)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,u=r.height,d=r.stroke,f=Math.floor(i+u/2)-1;return Ce.createElement(Ce.Fragment,null,Ce.createElement("rect",{x:a,y:i,width:o,height:u,fill:d,stroke:"none"}),Ce.createElement("line",{x1:a+1,y1:f,x2:a+o-1,y2:f,fill:"none",stroke:"#fff"}),Ce.createElement("line",{x1:a+1,y1:f+2,x2:a+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return Ce.isValidElement(r)?i=Ce.cloneElement(r,a):yn(r)?i=r(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,u=r.x,d=r.travellerWidth,f=r.updateId,p=r.startIndex,g=r.endIndex;if(i!==a.prevData||f!==a.prevUpdateId)return nA({prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o},i&&i.length?Wre({data:i,width:o,x:u,travellerWidth:d,startIndex:p,endIndex:g}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||u!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([u,u+o-d]);var y=a.scale.domain().map(function(x){return a.scale(x)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,u=i-1;u-o>1;){var d=Math.floor((o+u)/2);r[d]>a?u=d:o=d}return a>=r[u]?u:o}}])})(ve.PureComponent);no(Ep,"displayName","Brush");no(Ep,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rA,HP;function Kre(){if(HP)return rA;HP=1;var t=xE();function e(n,r){var a;return t(n,function(i,o,u){return a=r(i,o,u),!a}),!!a}return rA=e,rA}var aA,GP;function Yre(){if(GP)return aA;GP=1;var t=OL(),e=$d(),n=Kre(),r=Ds(),a=ux();function i(o,u,d){var f=r(o)?t:n;return d&&a(o,u,d)&&(u=void 0),f(o,e(u,3))}return aA=i,aA}var Xre=Yre();const Qre=xr(Xre);var fc=function(e,n){var r=e.alwaysShow,a=e.ifOverflow;return r&&(a="extendDomain"),a===n},iA,WP;function Jre(){if(WP)return iA;WP=1;var t=WL();function e(n,r,a){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return iA=e,iA}var sA,KP;function Zre(){if(KP)return sA;KP=1;var t=Jre(),e=HL(),n=$d();function r(a,i){var o={};return i=n(i,3),e(a,function(u,d,f){t(o,d,i(u,d,f))}),o}return sA=r,sA}var eae=Zre();const tae=xr(eae);var oA,YP;function nae(){if(YP)return oA;YP=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!n(e[r],r,e))return!1;return!0}return oA=t,oA}var lA,XP;function rae(){if(XP)return lA;XP=1;var t=xE();function e(n,r){var a=!0;return t(n,function(i,o,u){return a=!!r(i,o,u),a}),a}return lA=e,lA}var cA,QP;function aae(){if(QP)return cA;QP=1;var t=nae(),e=rae(),n=$d(),r=Ds(),a=ux();function i(o,u,d){var f=r(o)?t:e;return d&&a(o,u,d)&&(u=void 0),f(o,n(u,3))}return cA=i,cA}var iae=aae();const b7=xr(iae);var sae=["x","y"];function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function UN(){return UN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UN.apply(this,arguments)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oae(t,e,n){return e=lae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lae(t){var e=cae(t,"string");return lg(e)=="symbol"?e:e+""}function cae(t,e){if(lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uae(t,e){if(t==null)return{};var n=dae(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fae(t,e){var n=t.x,r=t.y,a=uae(t,sae),i="".concat(n),o=parseInt(i,10),u="".concat(r),d=parseInt(u,10),f="".concat(e.height||a.height),p=parseInt(f,10),g="".concat(e.width||a.width),y=parseInt(g,10);return Xm(Xm(Xm(Xm(Xm({},e),a),o?{x:o}:{}),d?{y:d}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function ZP(t){return Ce.createElement(Nre,UN({shapeType:"rectangle",propTransformer:fae,activeClassName:"recharts-active-bar"},t))}var hae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof e=="number")return e;var i=xt(r)||yH(r);return i?e(r,a):(i||Bf(),n)}},pae=["value","background"],_7;function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function mae(t,e){if(t==null)return{};var n=gae(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(this,arguments)}function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){bd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A7(r.key),r)}}function yae(t,e,n){return e&&tR(t.prototype,e),n&&tR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xae(t,e,n){return e=_y(e),bae(t,w7()?Reflect.construct(e,n||[],_y(t).constructor):e.apply(t,n))}function bae(t,e){if(e&&(jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ae(t)}function _ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w7=function(){return!!t})()}function _y(t){return _y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_y(t)}function wae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$N(t,e)}function $N(t,e){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$N(t,e)}function bd(t,e,n){return e=A7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A7(t){var e=Aae(t,"string");return jp(e)=="symbol"?e:e+""}function Aae(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cg=(function(t){function e(){var n;vae(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=xae(this,e,[].concat(a)),bd(n,"state",{isAnimationFinished:!1}),bd(n,"id",Sg("recharts-bar-")),bd(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),bd(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return wae(e,t),yae(e,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,u=i.dataKey,d=i.activeIndex,f=i.activeBar,p=On(this.props,!1);return r&&r.map(function(g,y){var x=y===d,E=x?f:o,w=Da(Da(Da({},p),g),{},{isActive:x,option:E,index:y,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ce.createElement(na,by({className:"recharts-bar-rectangle"},D1(a.props,g,y),{key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(y)}),Ce.createElement(ZP,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,p=a.animationEasing,g=a.animationId,y=this.state.prevData;return Ce.createElement(vu,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var E=x.t,w=i.map(function(N,T){var C=y&&y[T];if(C){var B=Po(C.x,N.x),q=Po(C.y,N.y),D=Po(C.width,N.width),F=Po(C.height,N.height);return Da(Da({},N),{},{x:B(E),y:q(E),width:D(E),height:F(E)})}if(o==="horizontal"){var k=Po(0,N.height),I=k(E);return Da(Da({},N),{},{y:N.y+N.height-I,height:I})}var V=Po(0,N.width),U=V(E);return Da(Da({},N),{},{width:U})});return Ce.createElement(na,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!U0(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,u=a.activeIndex,d=On(this.props.background,!1);return i.map(function(f,p){f.value;var g=f.background,y=mae(f,pae);if(!g)return null;var x=Da(Da(Da(Da(Da({},y),{},{fill:"#eee"},g),d),D1(r.props,f,p)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return Ce.createElement(ZP,by({key:"background-bar-".concat(p),option:r.props.background,isActive:p===u},x))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,u=i.xAxis,d=i.yAxis,f=i.layout,p=i.children,g=yl(p,bx);if(!g)return null;var y=f==="vertical"?o[0].height/2:o[0].width/2,x=function(N,T){var C=Array.isArray(N.value)?N.value[1]:N.value;return{x:N.x,y:N.y,value:C,errorVal:co(N,T)}},E={clipPath:r?"url(#clipPath-".concat(a,")"):null};return Ce.createElement(na,E,g.map(function(w){return Ce.cloneElement(w,{key:"error-bar-".concat(a,"-").concat(w.props.dataKey),data:o,xAxis:u,yAxis:d,layout:f,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,u=r.xAxis,d=r.yAxis,f=r.left,p=r.top,g=r.width,y=r.height,x=r.isAnimationActive,E=r.background,w=r.id;if(a||!i||!i.length)return null;var N=this.state.isAnimationFinished,T=Gn("recharts-bar",o),C=u&&u.allowDataOverflow,B=d&&d.allowDataOverflow,q=C||B,D=Mn(w)?this.id:w;return Ce.createElement(na,{className:T},C||B?Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"clipPath-".concat(D)},Ce.createElement("rect",{x:C?f:f-g/2,y:B?p:p-y/2,width:C?g:g*2,height:B?y:y*2}))):null,Ce.createElement(na,{className:"recharts-bar-rectangles",clipPath:q?"url(#clipPath-".concat(D,")"):null},E?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(q,D),(!x||N)&&Ed.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])})(ve.PureComponent);_7=Cg;bd(Cg,"displayName","Bar");bd(Cg,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});bd(Cg,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,f=t.stackedData,p=t.dataStartIndex,g=t.displayedData,y=t.offset,x=BZ(r,n);if(!x)return null;var E=e.layout,w=n.type.defaultProps,N=w!==void 0?Da(Da({},w),n.props):n.props,T=N.dataKey,C=N.children,B=N.minPointSize,q=E==="horizontal"?o:i,D=f?q.scale.domain():null,F=GZ({numericAxis:q}),k=yl(C,eM),I=g.map(function(V,U){var M,R,j,G,re,J;f?M=FZ(f[p+U],D):(M=co(V,T),Array.isArray(M)||(M=[F,M]));var Z=hae(B,_7.defaultProps.minPointSize)(M[1],U);if(E==="horizontal"){var oe,ye=[o.scale(M[0]),o.scale(M[1])],ge=ye[0],le=ye[1];R=zI({axis:i,ticks:u,bandSize:a,offset:x.offset,entry:V,index:U}),j=(oe=le??ge)!==null&&oe!==void 0?oe:void 0,G=x.size;var P=ge-le;if(re=Number.isNaN(P)?0:P,J={x:R,y:o.y,width:G,height:o.height},Math.abs(Z)>0&&Math.abs(re)<Math.abs(Z)){var H=gl(re||Z)*(Math.abs(Z)-Math.abs(re));j-=H,re+=H}}else{var Q=[i.scale(M[0]),i.scale(M[1])],K=Q[0],X=Q[1];if(R=K,j=zI({axis:o,ticks:d,bandSize:a,offset:x.offset,entry:V,index:U}),G=X-K,re=x.size,J={x:i.x,y:j,width:i.width,height:re},Math.abs(Z)>0&&Math.abs(G)<Math.abs(Z)){var me=gl(G||Z)*(Math.abs(Z)-Math.abs(G));G+=me}}return Da(Da(Da({},V),{},{x:R,y:j,width:G,height:re,value:f?M:M[1],payload:V,background:J},k&&k[U]&&k[U].props),{},{tooltipPayload:[i7(n,V)],tooltipPosition:{x:R+G/2,y:j+re/2}})});return Da({data:I,layout:E},y)});function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function Nae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N7(r.key),r)}}function Sae(t,e,n){return e&&nR(t.prototype,e),n&&nR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){Ax(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ax(t,e,n){return e=N7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N7(t){var e=Eae(t,"string");return cg(e)=="symbol"?e:e+""}function Eae(t,e){if(cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jae=function(e,n,r,a,i){var o=e.width,u=e.height,d=e.layout,f=e.children,p=Object.keys(n),g={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},y=!!ro(f,Cg);return p.reduce(function(x,E){var w=n[E],N=w.orientation,T=w.domain,C=w.padding,B=C===void 0?{}:C,q=w.mirror,D=w.reversed,F="".concat(N).concat(q?"Mirror":""),k,I,V,U,M;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var R=T[1]-T[0],j=1/0,G=w.categoricalDomain.sort(_H);if(G.forEach(function(Q,K){K>0&&(j=Math.min((Q||0)-(G[K-1]||0),j))}),Number.isFinite(j)){var re=j/R,J=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(k=re*J/2),w.padding==="no-gap"){var Z=Lf(e.barCategoryGap,re*J),oe=re*J/2;k=oe-Z-(oe-Z)/J*Z}}}a==="xAxis"?I=[r.left+(B.left||0)+(k||0),r.left+r.width-(B.right||0)-(k||0)]:a==="yAxis"?I=d==="horizontal"?[r.top+r.height-(B.bottom||0),r.top+(B.top||0)]:[r.top+(B.top||0)+(k||0),r.top+r.height-(B.bottom||0)-(k||0)]:I=w.range,D&&(I=[I[1],I[0]]);var ye=LZ(w,i,y),ge=ye.scale,le=ye.realScaleType;ge.domain(T).range(I),MZ(ge);var P=HZ(ge,pl(pl({},w),{},{realScaleType:le}));a==="xAxis"?(M=N==="top"&&!q||N==="bottom"&&q,V=r.left,U=g[F]-M*w.height):a==="yAxis"&&(M=N==="left"&&!q||N==="right"&&q,V=g[F]-M*w.width,U=r.top);var H=pl(pl(pl({},w),P),{},{realScaleType:le,x:V,y:U,scale:ge,width:a==="xAxis"?r.width:w.width,height:a==="yAxis"?r.height:w.height});return H.bandSize=oy(H,P),!w.hide&&a==="xAxis"?g[F]+=(M?-1:1)*H.height:w.hide||(g[F]+=(M?-1:1)*H.width),pl(pl({},x),{},Ax({},E,H))},{})},S7=function(e,n){var r=e.x,a=e.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},Tae=function(e){var n=e.x1,r=e.y1,a=e.x2,i=e.y2;return S7({x:n,y:r},{x:a,y:i})},E7=(function(){function t(e){Nae(this,t),this.scale=e}return Sae(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new t(n)}}])})();Ax(E7,"EPS",1e-4);var YE=function(e){var n=Object.keys(e).reduce(function(r,a){return pl(pl({},r),{},Ax({},a,E7.create(e[a])))},{});return pl(pl({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,u=i.position;return tae(a,function(d,f){return n[f].apply(d,{bandAware:o,position:u})})},isInRange:function(a){return b7(a,function(i,o){return n[o].isInRange(i)})}})};function Oae(t){return(t%180+180)%180}var kae=function(e){var n=e.width,r=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Oae(a),o=i*Math.PI/180,u=Math.atan(r/n),d=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(d)},uA,aR;function Cae(){if(aR)return uA;aR=1;var t=$d(),e=Eg(),n=lx();function r(a){return function(i,o,u){var d=Object(i);if(!e(i)){var f=t(o,3);i=n(i),o=function(g){return f(d[g],g,d)}}var p=a(i,o,u);return p>-1?d[f?i[p]:p]:void 0}}return uA=r,uA}var dA,iR;function Iae(){if(iR)return dA;iR=1;var t=g7();function e(n){var r=t(n),a=r%1;return r===r?a?r-a:r:0}return dA=e,dA}var fA,sR;function Pae(){if(sR)return fA;sR=1;var t=qL(),e=$d(),n=Iae(),r=Math.max;function a(i,o,u){var d=i==null?0:i.length;if(!d)return-1;var f=u==null?0:n(u);return f<0&&(f=r(d+f,0)),t(i,e(o,3),f)}return fA=a,fA}var hA,oR;function Rae(){if(oR)return hA;oR=1;var t=Cae(),e=Pae(),n=t(e);return hA=n,hA}var Dae=Rae();const Lae=xr(Dae);var Mae=nL();const Bae=xr(Mae);var Fae=Bae(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),XE=ve.createContext(void 0),QE=ve.createContext(void 0),j7=ve.createContext(void 0),T7=ve.createContext({}),O7=ve.createContext(void 0),k7=ve.createContext(0),C7=ve.createContext(0),lR=function(e){var n=e.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=e.clipPathId,u=e.children,d=e.width,f=e.height,p=Fae(i);return Ce.createElement(XE.Provider,{value:r},Ce.createElement(QE.Provider,{value:a},Ce.createElement(T7.Provider,{value:i},Ce.createElement(j7.Provider,{value:p},Ce.createElement(O7.Provider,{value:o},Ce.createElement(k7.Provider,{value:f},Ce.createElement(C7.Provider,{value:d},u)))))))},qae=function(){return ve.useContext(O7)},I7=function(e){var n=ve.useContext(XE);n==null&&Bf();var r=n[e];return r==null&&Bf(),r},zae=function(){var e=ve.useContext(XE);return hd(e)},Vae=function(){var e=ve.useContext(QE),n=Lae(e,function(r){return b7(r.domain,Number.isFinite)});return n||hd(e)},P7=function(e){var n=ve.useContext(QE);n==null&&Bf();var r=n[e];return r==null&&Bf(),r},Uae=function(){var e=ve.useContext(j7);return e},$ae=function(){return ve.useContext(T7)},JE=function(){return ve.useContext(C7)},ZE=function(){return ve.useContext(k7)};function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function Hae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D7(r.key),r)}}function Wae(t,e,n){return e&&Gae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kae(t,e,n){return e=wy(e),Yae(t,R7()?Reflect.construct(e,n||[],wy(t).constructor):e.apply(t,n))}function Yae(t,e){if(e&&(Tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xae(t)}function Xae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R7=function(){return!!t})()}function wy(t){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wy(t)}function Qae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HN(t,e)}function HN(t,e){return HN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},HN(t,e)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function uR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){e4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e4(t,e,n){return e=D7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D7(t){var e=Jae(t,"string");return Tp(e)=="symbol"?e:e+""}function Jae(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Zae(t,e){return rie(t)||nie(t,e)||tie(t,e)||eie()}function eie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tie(t,e){if(t){if(typeof t=="string")return dR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dR(t,e)}}function dR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function rie(t){if(Array.isArray(t))return t}function GN(){return GN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GN.apply(this,arguments)}var aie=function(e,n){var r;return Ce.isValidElement(e)?r=Ce.cloneElement(e,n):yn(e)?r=e(n):r=Ce.createElement("line",GN({},n,{className:"recharts-reference-line-line"})),r},iie=function(e,n,r,a,i,o,u,d,f){var p=i.x,g=i.y,y=i.width,x=i.height;if(r){var E=f.y,w=e.y.apply(E,{position:o});if(fc(f,"discard")&&!e.y.isInRange(w))return null;var N=[{x:p+y,y:w},{x:p,y:w}];return d==="left"?N.reverse():N}if(n){var T=f.x,C=e.x.apply(T,{position:o});if(fc(f,"discard")&&!e.x.isInRange(C))return null;var B=[{x:C,y:g+x},{x:C,y:g}];return u==="top"?B.reverse():B}if(a){var q=f.segment,D=q.map(function(F){return e.apply(F,{position:o})});return fc(f,"discard")&&Qre(D,function(F){return!e.isInRange(F)})?null:D}return null};function sie(t){var e=t.x,n=t.y,r=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,u=t.className,d=t.alwaysShow,f=qae(),p=I7(a),g=P7(i),y=Uae();if(!f||!y)return null;cu(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=YE({x:p.scale,y:g.scale}),E=Xa(e),w=Xa(n),N=r&&r.length===2,T=iie(x,E,w,N,y,t.position,p.orientation,g.orientation,t);if(!T)return null;var C=Zae(T,2),B=C[0],q=B.x,D=B.y,F=C[1],k=F.x,I=F.y,V=fc(t,"hidden")?"url(#".concat(f,")"):void 0,U=uR(uR({clipPath:V},On(t,!0)),{},{x1:q,y1:D,x2:k,y2:I});return Ce.createElement(na,{className:Gn("recharts-reference-line",u)},aie(o,U),Ki.renderCallByParent(t,Tae({x1:q,y1:D,x2:k,y2:I})))}var t4=(function(t){function e(){return Hae(this,e),Kae(this,e,arguments)}return Qae(e,t),Wae(e,[{key:"render",value:function(){return Ce.createElement(sie,this.props)}}])})(Ce.Component);e4(t4,"displayName","ReferenceLine");e4(t4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function WN(){return WN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WN.apply(this,arguments)}function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){Nx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M7(r.key),r)}}function cie(t,e,n){return e&&lie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uie(t,e,n){return e=Ay(e),die(t,L7()?Reflect.construct(e,n||[],Ay(t).constructor):e.apply(t,n))}function die(t,e){if(e&&(Op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fie(t)}function fie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L7=function(){return!!t})()}function Ay(t){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ay(t)}function hie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KN(t,e)}function KN(t,e){return KN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},KN(t,e)}function Nx(t,e,n){return e=M7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M7(t){var e=pie(t,"string");return Op(e)=="symbol"?e:e+""}function pie(t,e){if(Op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mie=function(e){var n=e.x,r=e.y,a=e.xAxis,i=e.yAxis,o=YE({x:a.scale,y:i.scale}),u=o.apply({x:n,y:r},{bandAware:!0});return fc(e,"discard")&&!o.isInRange(u)?null:u},Sx=(function(t){function e(){return oie(this,e),uie(this,e,arguments)}return hie(e,t),cie(e,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,u=r.alwaysShow,d=r.clipPathId,f=Xa(a),p=Xa(i);if(cu(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var g=mie(this.props);if(!g)return null;var y=g.x,x=g.y,E=this.props,w=E.shape,N=E.className,T=fc(this.props,"hidden")?"url(#".concat(d,")"):void 0,C=hR(hR({clipPath:T},On(this.props,!0)),{},{cx:y,cy:x});return Ce.createElement(na,{className:Gn("recharts-reference-dot",N)},e.renderDot(w,C),Ki.renderCallByParent(this.props,{x:y-o,y:x-o,width:2*o,height:2*o}))}}])})(Ce.Component);Nx(Sx,"displayName","ReferenceDot");Nx(Sx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Nx(Sx,"renderDot",function(t,e){var n;return Ce.isValidElement(t)?n=Ce.cloneElement(t,e):yn(t)?n=t(e):n=Ce.createElement(KE,WN({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function YN(){return YN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YN.apply(this,arguments)}function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){Ex(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F7(r.key),r)}}function yie(t,e,n){return e&&vie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xie(t,e,n){return e=Ny(e),bie(t,B7()?Reflect.construct(e,n||[],Ny(t).constructor):e.apply(t,n))}function bie(t,e){if(e&&(kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ie(t)}function _ie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B7=function(){return!!t})()}function Ny(t){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ny(t)}function wie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XN(t,e)}function XN(t,e){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},XN(t,e)}function Ex(t,e,n){return e=F7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F7(t){var e=Aie(t,"string");return kp(e)=="symbol"?e:e+""}function Aie(t,e){if(kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nie=function(e,n,r,a,i){var o=i.x1,u=i.x2,d=i.y1,f=i.y2,p=i.xAxis,g=i.yAxis;if(!p||!g)return null;var y=YE({x:p.scale,y:g.scale}),x={x:e?y.x.apply(o,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(d,{position:"start"}):y.y.rangeMin},E={x:n?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:a?y.y.apply(f,{position:"end"}):y.y.rangeMax};return fc(i,"discard")&&(!y.isInRange(x)||!y.isInRange(E))?null:S7(x,E)},jx=(function(t){function e(){return gie(this,e),xie(this,e,arguments)}return wie(e,t),yie(e,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,u=r.y2,d=r.className,f=r.alwaysShow,p=r.clipPathId;cu(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=Xa(a),y=Xa(i),x=Xa(o),E=Xa(u),w=this.props.shape;if(!g&&!y&&!x&&!E&&!w)return null;var N=Nie(g,y,x,E,this.props);if(!N&&!w)return null;var T=fc(this.props,"hidden")?"url(#".concat(p,")"):void 0;return Ce.createElement(na,{className:Gn("recharts-reference-area",d)},e.renderRect(w,mR(mR({clipPath:T},On(this.props,!0)),N)),Ki.renderCallByParent(this.props,N))}}])})(Ce.Component);Ex(jx,"displayName","ReferenceArea");Ex(jx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ex(jx,"renderRect",function(t,e){var n;return Ce.isValidElement(t)?n=Ce.cloneElement(t,e):yn(t)?n=t(e):n=Ce.createElement(WE,YN({},e,{className:"recharts-reference-area-rect"})),n});function q7(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function Sie(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return kae(r,n)}function Eie(t,e,n){var r=n==="width",a=t.x,i=t.y,o=t.width,u=t.height;return e===1?{start:r?a:i,end:r?a+o:i+u}:{start:r?a+o:i+u,end:r?a:i}}function Sy(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-a)<=0}function jie(t,e){return q7(t,e+1)}function Tie(t,e,n,r,a){for(var i=(r||[]).slice(),o=e.start,u=e.end,d=0,f=1,p=o,g=function(){var E=r==null?void 0:r[d];if(E===void 0)return{v:q7(r,f)};var w=d,N,T=function(){return N===void 0&&(N=n(E,w)),N},C=E.coordinate,B=d===0||Sy(t,C,T,p,u);B||(d=0,p=o,f+=1),B&&(p=C+t*(T()/2+a),d+=f)},y;f<=i.length;)if(y=g(),y)return y.v;return[]}function ug(t){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){Oie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oie(t,e,n){return e=kie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kie(t){var e=Cie(t,"string");return ug(e)=="symbol"?e:e+""}function Cie(t,e){if(ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iie(t,e,n,r,a){for(var i=(r||[]).slice(),o=i.length,u=e.start,d=e.end,f=function(y){var x=i[y],E,w=function(){return E===void 0&&(E=n(x,y)),E};if(y===o-1){var N=t*(x.coordinate+t*w()/2-d);i[y]=x=Gi(Gi({},x),{},{tickCoord:N>0?x.coordinate-N*t:x.coordinate})}else i[y]=x=Gi(Gi({},x),{},{tickCoord:x.coordinate});var T=Sy(t,x.tickCoord,w,u,d);T&&(d=x.tickCoord-t*(w()/2+a),i[y]=Gi(Gi({},x),{},{isShow:!0}))},p=o-1;p>=0;p--)f(p);return i}function Pie(t,e,n,r,a,i){var o=(r||[]).slice(),u=o.length,d=e.start,f=e.end;if(i){var p=r[u-1],g=n(p,u-1),y=t*(p.coordinate+t*g/2-f);o[u-1]=p=Gi(Gi({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var x=Sy(t,p.tickCoord,function(){return g},d,f);x&&(f=p.tickCoord-t*(g/2+a),o[u-1]=Gi(Gi({},p),{},{isShow:!0}))}for(var E=i?u-1:u,w=function(C){var B=o[C],q,D=function(){return q===void 0&&(q=n(B,C)),q};if(C===0){var F=t*(B.coordinate-t*D()/2-d);o[C]=B=Gi(Gi({},B),{},{tickCoord:F<0?B.coordinate-F*t:B.coordinate})}else o[C]=B=Gi(Gi({},B),{},{tickCoord:B.coordinate});var k=Sy(t,B.tickCoord,D,d,f);k&&(d=B.tickCoord+t*(D()/2+a),o[C]=Gi(Gi({},B),{},{isShow:!0}))},N=0;N<E;N++)w(N);return o}function n4(t,e,n){var r=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,u=t.orientation,d=t.interval,f=t.tickFormatter,p=t.unit,g=t.angle;if(!a||!a.length||!r)return[];if(xt(d)||Xp.isSsr)return jie(a,typeof d=="number"&&xt(d)?d:0);var y=[],x=u==="top"||u==="bottom"?"width":"height",E=p&&x==="width"?f0(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(B,q){var D=yn(f)?f(B.value,q):B.value;return x==="width"?Sie(f0(D,{fontSize:e,letterSpacing:n}),E,g):f0(D,{fontSize:e,letterSpacing:n})[x]},N=a.length>=2?gl(a[1].coordinate-a[0].coordinate):1,T=Eie(i,N,x);return d==="equidistantPreserveStart"?Tie(N,T,w,a,o):(d==="preserveStart"||d==="preserveStartEnd"?y=Pie(N,T,w,a,o,d==="preserveStartEnd"):y=Iie(N,T,w,a,o),y.filter(function(C){return C.isShow}))}var Rie=["viewBox"],Die=["viewBox"],Lie=["ticks"];function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){r4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pA(t,e){if(t==null)return{};var n=Mie(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V7(r.key),r)}}function Fie(t,e,n){return e&&yR(t.prototype,e),n&&yR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qie(t,e,n){return e=Ey(e),zie(t,z7()?Reflect.construct(e,n||[],Ey(t).constructor):e.apply(t,n))}function zie(t,e){if(e&&(Cp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vie(t)}function Vie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z7=function(){return!!t})()}function Ey(t){return Ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ey(t)}function Uie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QN(t,e)}function QN(t,e){return QN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},QN(t,e)}function r4(t,e,n){return e=V7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V7(t){var e=$ie(t,"string");return Cp(e)=="symbol"?e:e+""}function $ie(t,e){if(Cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var em=(function(t){function e(n){var r;return Bie(this,e),r=qie(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Uie(e,t),Fie(e,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=pA(r,Rie),u=this.props,d=u.viewBox,f=pA(u,Die);return!ep(i,d)||!ep(o,f)||!ep(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,u=a.width,d=a.height,f=a.orientation,p=a.tickSize,g=a.mirror,y=a.tickMargin,x,E,w,N,T,C,B=g?-1:1,q=r.tickSize||p,D=xt(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":x=E=r.coordinate,N=o+ +!g*d,w=N-B*q,C=w-B*y,T=D;break;case"left":w=N=r.coordinate,E=i+ +!g*u,x=E-B*q,T=x-B*y,C=D;break;case"right":w=N=r.coordinate,E=i+ +g*u,x=E+B*q,T=x+B*y,C=D;break;default:x=E=r.coordinate,N=o+ +g*d,w=N+B*q,C=w+B*y,T=D;break}return{line:{x1:x,y1:w,x2:E,y2:N},tick:{x:T,y:C}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,u=r.height,d=r.orientation,f=r.mirror,p=r.axisLine,g=Ka(Ka(Ka({},On(this.props,!1)),On(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!f||d==="bottom"&&f);g=Ka(Ka({},g),{},{x1:a,y1:i+y*u,x2:a+o,y2:i+y*u})}else{var x=+(d==="left"&&!f||d==="right"&&f);g=Ka(Ka({},g),{},{x1:a+x*o,y1:i,x2:a+x*o,y2:i+u})}return Ce.createElement("line",Kh({},g,{className:Gn("recharts-cartesian-axis-line",Mo(p,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,u=this.props,d=u.tickLine,f=u.stroke,p=u.tick,g=u.tickFormatter,y=u.unit,x=n4(Ka(Ka({},this.props),{},{ticks:r}),a,i),E=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),N=On(this.props,!1),T=On(p,!1),C=Ka(Ka({},N),{},{fill:"none"},On(d,!1)),B=x.map(function(q,D){var F=o.getTickLineCoord(q),k=F.line,I=F.tick,V=Ka(Ka(Ka(Ka({textAnchor:E,verticalAnchor:w},N),{},{stroke:"none",fill:f},T),I),{},{index:D,payload:q,visibleTicksCount:x.length,tickFormatter:g});return Ce.createElement(na,Kh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},D1(o.props,q,D)),d&&Ce.createElement("line",Kh({},C,k,{className:Gn("recharts-cartesian-axis-tick-line",Mo(d,"className"))})),p&&e.renderTickItem(p,V,"".concat(yn(g)?g(q.value,D):q.value).concat(y||"")))});return Ce.createElement("g",{className:"recharts-cartesian-axis-ticks"},B)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,u=a.height,d=a.ticksGenerator,f=a.className,p=a.hide;if(p)return null;var g=this.props,y=g.ticks,x=pA(g,Lie),E=y;return yn(d)&&(E=y&&y.length>0?d(this.props):d(x)),o<=0||u<=0||!E||!E.length?null:Ce.createElement(na,{className:Gn("recharts-cartesian-axis",f),ref:function(N){r.layerReference=N}},i&&this.renderAxisLine(),this.renderTicks(E,this.state.fontSize,this.state.letterSpacing),Ki.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o,u=Gn(a.className,"recharts-cartesian-axis-tick-value");return Ce.isValidElement(r)?o=Ce.cloneElement(r,Ka(Ka({},a),{},{className:u})):yn(r)?o=r(Ka(Ka({},a),{},{className:u})):o=Ce.createElement(G1,Kh({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(ve.Component);r4(em,"displayName","CartesianAxis");r4(em,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Hie=["x1","y1","x2","y2","key"],Gie=["offset"];function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){Wie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wie(t,e,n){return e=Kie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kie(t){var e=Yie(t,"string");return Ff(e)=="symbol"?e:e+""}function Yie(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sf(){return Sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sf.apply(this,arguments)}function bR(t,e){if(t==null)return{};var n=Xie(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Qie=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,a=e.x,i=e.y,o=e.width,u=e.height,d=e.ry;return Ce.createElement("rect",{x:a,y:i,ry:d,width:o,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function U7(t,e){var n;if(Ce.isValidElement(t))n=Ce.cloneElement(t,e);else if(yn(t))n=t(e);else{var r=e.x1,a=e.y1,i=e.x2,o=e.y2,u=e.key,d=bR(e,Hie),f=On(d,!1);f.offset;var p=bR(f,Gie);n=Ce.createElement("line",Sf({},p,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:u}))}return n}function Jie(t){var e=t.x,n=t.width,r=t.horizontal,a=r===void 0?!0:r,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(u,d){var f=Yi(Yi({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(d),index:d});return U7(a,f)});return Ce.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Zie(t){var e=t.y,n=t.height,r=t.vertical,a=r===void 0?!0:r,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(u,d){var f=Yi(Yi({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(d),index:d});return U7(a,f)});return Ce.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ese(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,a=t.y,i=t.width,o=t.height,u=t.horizontalPoints,d=t.horizontal,f=d===void 0?!0:d;if(!f||!e||!e.length)return null;var p=u.map(function(y){return Math.round(y+a-a)}).sort(function(y,x){return y-x});a!==p[0]&&p.unshift(0);var g=p.map(function(y,x){var E=!p[x+1],w=E?a+o-y:p[x+1]-y;if(w<=0)return null;var N=x%e.length;return Ce.createElement("rect",{key:"react-".concat(x),y,x:r,height:w,width:i,stroke:"none",fill:e[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Ce.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function tse(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,u=t.width,d=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var p=f.map(function(y){return Math.round(y+i-i)}).sort(function(y,x){return y-x});i!==p[0]&&p.unshift(0);var g=p.map(function(y,x){var E=!p[x+1],w=E?i+u-y:p[x+1]-y;if(w<=0)return null;var N=x%r.length;return Ce.createElement("rect",{key:"react-".concat(x),x:y,y:o,width:w,height:d,stroke:"none",fill:r[N],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ce.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var nse=function(e,n){var r=e.xAxis,a=e.width,i=e.height,o=e.offset;return r7(n4(Yi(Yi(Yi({},em.defaultProps),r),{},{ticks:iu(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},rse=function(e,n){var r=e.yAxis,a=e.width,i=e.height,o=e.offset;return r7(n4(Yi(Yi(Yi({},em.defaultProps),r),{},{ticks:iu(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},Mh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $7(t){var e,n,r,a,i,o,u=JE(),d=ZE(),f=$ae(),p=Yi(Yi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Mh.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Mh.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Mh.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Mh.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Mh.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Mh.verticalFill,x:xt(t.x)?t.x:f.left,y:xt(t.y)?t.y:f.top,width:xt(t.width)?t.width:f.width,height:xt(t.height)?t.height:f.height}),g=p.x,y=p.y,x=p.width,E=p.height,w=p.syncWithTicks,N=p.horizontalValues,T=p.verticalValues,C=zae(),B=Vae();if(!xt(x)||x<=0||!xt(E)||E<=0||!xt(g)||g!==+g||!xt(y)||y!==+y)return null;var q=p.verticalCoordinatesGenerator||nse,D=p.horizontalCoordinatesGenerator||rse,F=p.horizontalPoints,k=p.verticalPoints;if((!F||!F.length)&&yn(D)){var I=N&&N.length,V=D({yAxis:B?Yi(Yi({},B),{},{ticks:I?N:B.ticks}):void 0,width:u,height:d,offset:f},I?!0:w);cu(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ff(V),"]")),Array.isArray(V)&&(F=V)}if((!k||!k.length)&&yn(q)){var U=T&&T.length,M=q({xAxis:C?Yi(Yi({},C),{},{ticks:U?T:C.ticks}):void 0,width:u,height:d,offset:f},U?!0:w);cu(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ff(M),"]")),Array.isArray(M)&&(k=M)}return Ce.createElement("g",{className:"recharts-cartesian-grid"},Ce.createElement(Qie,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),Ce.createElement(Jie,Sf({},p,{offset:f,horizontalPoints:F,xAxis:C,yAxis:B})),Ce.createElement(Zie,Sf({},p,{offset:f,verticalPoints:k,xAxis:C,yAxis:B})),Ce.createElement(ese,Sf({},p,{horizontalPoints:F})),Ce.createElement(tse,Sf({},p,{verticalPoints:k})))}$7.displayName="CartesianGrid";var ase=["layout","type","stroke","connectNulls","isRange","ref"],ise=["key"],H7;function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function G7(t,e){if(t==null)return{};var n=sse(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ef.apply(this,arguments)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){oc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ose(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K7(r.key),r)}}function lse(t,e,n){return e&&wR(t.prototype,e),n&&wR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cse(t,e,n){return e=jy(e),use(t,W7()?Reflect.construct(e,n||[],jy(t).constructor):e.apply(t,n))}function use(t,e){if(e&&(Ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dse(t)}function dse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W7=function(){return!!t})()}function jy(t){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jy(t)}function fse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JN(t,e)}function JN(t,e){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},JN(t,e)}function oc(t,e,n){return e=K7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K7(t){var e=hse(t,"string");return Ip(e)=="symbol"?e:e+""}function hse(t,e){if(Ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kd=(function(t){function e(){var n;ose(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=cse(this,e,[].concat(a)),oc(n,"state",{isAnimationFinished:!0}),oc(n,"id",Sg("recharts-area-")),oc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),yn(o)&&o()}),oc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),yn(o)&&o()}),n}return fse(e,t),lse(e,[{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(o&&!u)return null;var d=this.props,f=d.dot,p=d.points,g=d.dataKey,y=On(this.props,!1),x=On(f,!0),E=p.map(function(N,T){var C=ud(ud(ud({key:"dot-".concat(T),r:3},y),x),{},{index:T,cx:N.x,cy:N.y,dataKey:g,value:N.value,payload:N.payload,points:p});return e.renderDotItem(f,C)}),w={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ce.createElement(na,Ef({className:"recharts-area-dots"},w),E)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,i=a.baseLine,o=a.points,u=a.strokeWidth,d=o[0].x,f=o[o.length-1].x,p=r*Math.abs(d-f),g=xd(o.map(function(y){return y.y||0}));return xt(i)&&typeof i=="number"?g=Math.max(i,g):i&&Array.isArray(i)&&i.length&&(g=Math.max(xd(i.map(function(y){return y.y||0})),g)),xt(g)?Ce.createElement("rect",{x:d<f?d:d-p,y:0,width:p,height:Math.floor(g+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,i=a.baseLine,o=a.points,u=a.strokeWidth,d=o[0].y,f=o[o.length-1].y,p=r*Math.abs(d-f),g=xd(o.map(function(y){return y.x||0}));return xt(i)&&typeof i=="number"?g=Math.max(i,g):i&&Array.isArray(i)&&i.length&&(g=Math.max(xd(i.map(function(y){return y.x||0})),g)),xt(g)?Ce.createElement("rect",{x:0,y:d<f?d:d-p,width:g+(u?parseInt("".concat(u),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,i,o){var u=this.props,d=u.layout,f=u.type,p=u.stroke,g=u.connectNulls,y=u.isRange;u.ref;var x=G7(u,ase);return Ce.createElement(na,{clipPath:i?"url(#clipPath-".concat(o,")"):null},Ce.createElement(m0,Ef({},On(x,!0),{points:r,connectNulls:g,type:f,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),p!=="none"&&Ce.createElement(m0,Ef({},On(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:g,fill:"none",points:r})),p!=="none"&&y&&Ce.createElement(m0,Ef({},On(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:g,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var i=this,o=this.props,u=o.points,d=o.baseLine,f=o.isAnimationActive,p=o.animationBegin,g=o.animationDuration,y=o.animationEasing,x=o.animationId,E=this.state,w=E.prevPoints,N=E.prevBaseLine;return Ce.createElement(vu,{begin:p,duration:g,isActive:f,easing:y,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var C=T.t;if(w){var B=w.length/u.length,q=u.map(function(I,V){var U=Math.floor(V*B);if(w[U]){var M=w[U],R=Po(M.x,I.x),j=Po(M.y,I.y);return ud(ud({},I),{},{x:R(C),y:j(C)})}return I}),D;if(xt(d)&&typeof d=="number"){var F=Po(N,d);D=F(C)}else if(Mn(d)||Kp(d)){var k=Po(N,0);D=k(C)}else D=d.map(function(I,V){var U=Math.floor(V*B);if(N[U]){var M=N[U],R=Po(M.x,I.x),j=Po(M.y,I.y);return ud(ud({},I),{},{x:R(C),y:j(C)})}return I});return i.renderAreaStatically(q,D,r,a)}return Ce.createElement(na,null,Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(C))),Ce.createElement(na,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(u,d,r,a)))})}},{key:"renderArea",value:function(r,a){var i=this.props,o=i.points,u=i.baseLine,d=i.isAnimationActive,f=this.state,p=f.prevPoints,g=f.prevBaseLine,y=f.totalLength;return d&&o&&o.length&&(!p&&y>0||!U0(p,o)||!U0(g,u))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(o,u,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,u=a.points,d=a.className,f=a.top,p=a.left,g=a.xAxis,y=a.yAxis,x=a.width,E=a.height,w=a.isAnimationActive,N=a.id;if(i||!u||!u.length)return null;var T=this.state.isAnimationFinished,C=u.length===1,B=Gn("recharts-area",d),q=g&&g.allowDataOverflow,D=y&&y.allowDataOverflow,F=q||D,k=Mn(N)?this.id:N,I=(r=On(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},V=I.r,U=V===void 0?3:V,M=I.strokeWidth,R=M===void 0?2:M,j=kH(o)?o:{},G=j.clipDot,re=G===void 0?!0:G,J=U*2+R;return Ce.createElement(na,{className:B},q||D?Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"clipPath-".concat(k)},Ce.createElement("rect",{x:q?p:p-x/2,y:D?f:f-E/2,width:q?x:x*2,height:D?E:E*2})),!re&&Ce.createElement("clipPath",{id:"clipPath-dots-".concat(k)},Ce.createElement("rect",{x:p-J/2,y:f-J/2,width:x+J,height:E+J}))):null,C?null:this.renderArea(F,k),(o||C)&&this.renderDots(F,re,k),(!w||T)&&Ed.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(ve.PureComponent);H7=Kd;oc(Kd,"displayName","Area");oc(Kd,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Xp.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});oc(Kd,"getBaseValue",function(t,e,n,r){var a=t.layout,i=t.baseValue,o=e.props.baseValue,u=o??i;if(xt(u)&&typeof u=="number")return u;var d=a==="horizontal"?r:n,f=d.scale.domain();if(d.type==="number"){var p=Math.max(f[0],f[1]),g=Math.min(f[0],f[1]);return u==="dataMin"?g:u==="dataMax"||p<0?p:Math.max(Math.min(f[0],f[1]),0)}return u==="dataMin"?f[0]:u==="dataMax"?f[1]:f[0]});oc(Kd,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,a=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,u=t.bandSize,d=t.dataKey,f=t.stackedData,p=t.dataStartIndex,g=t.displayedData,y=t.offset,x=e.layout,E=f&&f.length,w=H7.getBaseValue(e,n,r,a),N=x==="horizontal",T=!1,C=g.map(function(q,D){var F;E?F=f[p+D]:(F=co(q,d),Array.isArray(F)?T=!0:F=[w,F]);var k=F[1]==null||E&&co(q,d)==null;return N?{x:qI({axis:r,ticks:i,bandSize:u,entry:q,index:D}),y:k?null:a.scale(F[1]),value:F,payload:q}:{x:k?null:r.scale(F[1]),y:qI({axis:a,ticks:o,bandSize:u,entry:q,index:D}),value:F,payload:q}}),B;return E||T?B=C.map(function(q){var D=Array.isArray(q.value)?q.value[0]:null;return N?{x:q.x,y:D!=null&&q.y!=null?a.scale(D):null}:{x:D!=null?r.scale(D):null,y:q.y}}):B=N?a.scale(w):r.scale(w),ud({points:C,baseLine:B,layout:x,isRange:T},y)});oc(Kd,"renderDotItem",function(t,e){var n;if(Ce.isValidElement(t))n=Ce.cloneElement(t,e);else if(yn(t))n=t(e);else{var r=Gn("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,i=G7(e,ise);n=Ce.createElement(KE,Ef({},i,{key:a,className:r}))}return n});function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function pse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q7(r.key),r)}}function gse(t,e,n){return e&&mse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vse(t,e,n){return e=Ty(e),yse(t,Y7()?Reflect.construct(e,n||[],Ty(t).constructor):e.apply(t,n))}function yse(t,e){if(e&&(Pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xse(t)}function xse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y7=function(){return!!t})()}function Ty(t){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ty(t)}function bse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZN(t,e)}function ZN(t,e){return ZN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ZN(t,e)}function X7(t,e,n){return e=Q7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q7(t){var e=_se(t,"string");return Pp(e)=="symbol"?e:e+""}function _se(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(this,arguments)}function wse(t){var e=t.xAxisId,n=JE(),r=ZE(),a=I7(e);return a==null?null:ve.createElement(em,eS({},a,{className:Gn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return iu(o,!0)}}))}var Tx=(function(t){function e(){return pse(this,e),vse(this,e,arguments)}return bse(e,t),gse(e,[{key:"render",value:function(){return ve.createElement(wse,this.props)}}])})(ve.Component);X7(Tx,"displayName","XAxis");X7(Tx,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function Ase(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e9(r.key),r)}}function Sse(t,e,n){return e&&Nse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ese(t,e,n){return e=Oy(e),jse(t,J7()?Reflect.construct(e,n||[],Oy(t).constructor):e.apply(t,n))}function jse(t,e){if(e&&(Rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tse(t)}function Tse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J7=function(){return!!t})()}function Oy(t){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oy(t)}function Ose(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tS(t,e)}function tS(t,e){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},tS(t,e)}function Z7(t,e,n){return e=e9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e9(t){var e=kse(t,"string");return Rp(e)=="symbol"?e:e+""}function kse(t,e){if(Rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nS.apply(this,arguments)}var Cse=function(e){var n=e.yAxisId,r=JE(),a=ZE(),i=P7(n);return i==null?null:ve.createElement(em,nS({},i,{className:Gn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(u){return iu(u,!0)}}))},Ox=(function(t){function e(){return Ase(this,e),Ese(this,e,arguments)}return Ose(e,t),Sse(e,[{key:"render",value:function(){return ve.createElement(Cse,this.props)}}])})(ve.Component);Z7(Ox,"displayName","YAxis");Z7(Ox,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function AR(t){return Dse(t)||Rse(t)||Pse(t)||Ise()}function Ise(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pse(t,e){if(t){if(typeof t=="string")return rS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rS(t,e)}}function Rse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dse(t){if(Array.isArray(t))return rS(t)}function rS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var aS=function(e,n,r,a,i){var o=yl(e,t4),u=yl(e,Sx),d=[].concat(AR(o),AR(u)),f=yl(e,jx),p="".concat(a,"Id"),g=a[0],y=n;if(d.length&&(y=d.reduce(function(w,N){if(N.props[p]===r&&fc(N.props,"extendDomain")&&xt(N.props[g])){var T=N.props[g];return[Math.min(w[0],T),Math.max(w[1],T)]}return w},y)),f.length){var x="".concat(g,"1"),E="".concat(g,"2");y=f.reduce(function(w,N){if(N.props[p]===r&&fc(N.props,"extendDomain")&&xt(N.props[x])&&xt(N.props[E])){var T=N.props[x],C=N.props[E];return[Math.min(w[0],T,C),Math.max(w[1],T,C)]}return w},y)}return i&&i.length&&(y=i.reduce(function(w,N){return xt(N)?[Math.min(w[0],N),Math.max(w[1],N)]:w},y)),y},mA={exports:{}},NR;function Lse(){return NR||(NR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function i(d,f,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new a(p,g||d,y),E=n?n+f:f;return d._events[E]?d._events[E].fn?d._events[E]=[d._events[E],x]:d._events[E].push(x):(d._events[E]=x,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)e.call(p,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=n?n+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,x=g.length,E=new Array(x);y<x;y++)E[y]=g[y].fn;return E},u.prototype.listenerCount=function(f){var p=n?n+f:f,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,p,g,y,x,E){var w=n?n+f:f;if(!this._events[w])return!1;var N=this._events[w],T=arguments.length,C,B;if(N.fn){switch(N.once&&this.removeListener(f,N.fn,void 0,!0),T){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,p),!0;case 3:return N.fn.call(N.context,p,g),!0;case 4:return N.fn.call(N.context,p,g,y),!0;case 5:return N.fn.call(N.context,p,g,y,x),!0;case 6:return N.fn.call(N.context,p,g,y,x,E),!0}for(B=1,C=new Array(T-1);B<T;B++)C[B-1]=arguments[B];N.fn.apply(N.context,C)}else{var q=N.length,D;for(B=0;B<q;B++)switch(N[B].once&&this.removeListener(f,N[B].fn,void 0,!0),T){case 1:N[B].fn.call(N[B].context);break;case 2:N[B].fn.call(N[B].context,p);break;case 3:N[B].fn.call(N[B].context,p,g);break;case 4:N[B].fn.call(N[B].context,p,g,y);break;default:if(!C)for(D=1,C=new Array(T-1);D<T;D++)C[D-1]=arguments[D];N[B].fn.apply(N[B].context,C)}}return!0},u.prototype.on=function(f,p,g){return i(this,f,p,g,!1)},u.prototype.once=function(f,p,g){return i(this,f,p,g,!0)},u.prototype.removeListener=function(f,p,g,y){var x=n?n+f:f;if(!this._events[x])return this;if(!p)return o(this,x),this;var E=this._events[x];if(E.fn)E.fn===p&&(!y||E.once)&&(!g||E.context===g)&&o(this,x);else{for(var w=0,N=[],T=E.length;w<T;w++)(E[w].fn!==p||y&&!E[w].once||g&&E[w].context!==g)&&N.push(E[w]);N.length?this._events[x]=N.length===1?N[0]:N:o(this,x)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&o(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(mA)),mA.exports}var Mse=Lse();const Bse=xr(Mse);var gA=new Bse,vA="recharts.syncMouseEvents";function dg(t){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function Fse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t9(r.key),r)}}function zse(t,e,n){return e&&qse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yA(t,e,n){return e=t9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t9(t){var e=Vse(t,"string");return dg(e)=="symbol"?e:e+""}function Vse(t,e){if(dg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Use=(function(){function t(){Fse(this,t),yA(this,"activeIndex",0),yA(this,"coordinateList",[]),yA(this,"layout","horizontal")}return zse(t,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,u=o===void 0?null:o,d=n.layout,f=d===void 0?null:d,p=n.offset,g=p===void 0?null:p,y=n.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,u=a.height,d=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,g=i+d+f,y=o+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:g,pageY:y})}}}])})();function $se(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],a=t==null?void 0:t[1];if(r&&a&&xt(r)&&xt(a))return!0}return!1}function Hse(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function n9(t){var e=t.cx,n=t.cy,r=t.radius,a=t.startAngle,i=t.endAngle,o=Ei(e,n,r,a),u=Ei(e,n,r,i);return{points:[o,u],cx:e,cy:n,radius:r,startAngle:a,endAngle:i}}function Gse(t,e,n){var r,a,i,o;if(t==="horizontal")r=e.x,i=r,a=n.top,o=n.top+n.height;else if(t==="vertical")a=e.y,o=a,r=n.left,i=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,f=e.innerRadius,p=e.outerRadius,g=e.angle,y=Ei(u,d,f,g),x=Ei(u,d,p,g);r=y.x,a=y.y,i=x.x,o=x.y}else return n9(e);return[{x:r,y:a},{x:i,y:o}]}function fg(t){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){Wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wse(t,e,n){return e=Kse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kse(t){var e=Yse(t,"string");return fg(e)=="symbol"?e:e+""}function Yse(t,e){if(fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xse(t){var e,n,r=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,u=t.activePayload,d=t.offset,f=t.activeTooltipIndex,p=t.tooltipAxisBandSize,g=t.layout,y=t.chartName,x=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!i||!o||y!=="ScatterChart"&&a!=="axis")return null;var E,w=m0;if(y==="ScatterChart")E=o,w=Qne;else if(y==="BarChart")E=Hse(g,o,d,p),w=WE;else if(g==="radial"){var N=n9(o),T=N.cx,C=N.cy,B=N.radius,q=N.startAngle,D=N.endAngle;E={cx:T,cy:C,startAngle:q,endAngle:D,innerRadius:B,outerRadius:B},w=l7}else E={points:Gse(g,o,d)},w=m0;var F=Wv(Wv(Wv(Wv({stroke:"#ccc",pointerEvents:"none"},d),E),On(x,!1)),{},{payload:u,payloadIndex:f,className:Gn("recharts-tooltip-cursor",x.className)});return ve.isValidElement(x)?ve.cloneElement(x,F):ve.createElement(w,F)}var Qse=["item"],Jse=["children","className","width","height","style","compact","title","desc"];function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function Yh(){return Yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yh.apply(this,arguments)}function ER(t,e){return toe(t)||eoe(t,e)||a9(t,e)||Zse()}function Zse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function toe(t){if(Array.isArray(t))return t}function jR(t,e){if(t==null)return{};var n=noe(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function noe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function roe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i9(r.key),r)}}function ioe(t,e,n){return e&&aoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function soe(t,e,n){return e=ky(e),ooe(t,r9()?Reflect.construct(e,n||[],ky(t).constructor):e.apply(t,n))}function ooe(t,e){if(e&&(Dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return loe(t)}function loe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r9=function(){return!!t})()}function ky(t){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ky(t)}function coe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iS(t,e)}function iS(t,e){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},iS(t,e)}function Lp(t){return foe(t)||doe(t)||a9(t)||uoe()}function uoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a9(t,e){if(t){if(typeof t=="string")return sS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sS(t,e)}}function doe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function foe(t){if(Array.isArray(t))return sS(t)}function sS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){Qt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qt(t,e,n){return e=i9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i9(t){var e=hoe(t,"string");return Dp(e)=="symbol"?e:e+""}function hoe(t,e){if(Dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var poe={xAxis:["bottom","top"],yAxis:["left","right"]},moe={width:"100%",height:"100%"},s9={x:0,y:0};function Kv(t){return t}var goe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},voe=function(e,n,r,a){var i=n.find(function(p){return p&&p.index===r});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,u=a.radius;return at(at(at({},a),Ei(a.cx,a.cy,u,o)),{},{angle:o,radius:u})}var d=i.coordinate,f=a.angle;return at(at(at({},a),Ei(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return s9},kx=function(e,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(Lp(u),Lp(f)):u},[]);return o.length>0?o:e&&e.length&&xt(a)&&xt(i)?e.slice(a,i+1):[]};function o9(t){return t==="number"?[0,"auto"]:void 0}var oS=function(e,n,r,a){var i=e.graphicalItems,o=e.tooltipAxis,u=kx(n,e);return r<0||!i||!i.length||r>=u.length?null:i.reduce(function(d,f){var p,g=(p=f.props.data)!==null&&p!==void 0?p:n;g&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(g=g.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(o.dataKey&&!o.allowDuplicatedCategory){var x=g===void 0?u:g;y=P1(x,o.dataKey,a)}else y=g&&g[r]||u[r];return y?[].concat(Lp(d),[i7(f,y)]):d},[])},OR=function(e,n,r,a){var i=a||{x:e.chartX,y:e.chartY},o=goe(i,r),u=e.orderedTooltipTicks,d=e.tooltipAxis,f=e.tooltipTicks,p=kZ(o,u,f,d);if(p>=0&&f){var g=f[p]&&f[p].value,y=oS(e,n,p,g),x=voe(r,u,p,i);return{activeTooltipIndex:p,activeLabel:g,activePayload:y,activeCoordinate:x}}return null},yoe=function(e,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,u=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,p=e.layout,g=e.children,y=e.stackOffset,x=n7(p,i);return r.reduce(function(E,w){var N,T=w.type.defaultProps!==void 0?at(at({},w.type.defaultProps),w.props):w.props,C=T.type,B=T.dataKey,q=T.allowDataOverflow,D=T.allowDuplicatedCategory,F=T.scale,k=T.ticks,I=T.includeHidden,V=T[o];if(E[V])return E;var U=kx(e.data,{graphicalItems:a.filter(function(P){var H,Q=o in P.props?P.props[o]:(H=P.type.defaultProps)===null||H===void 0?void 0:H[o];return Q===V}),dataStartIndex:d,dataEndIndex:f}),M=U.length,R,j,G;$se(T.domain,q,C)&&(R=EN(T.domain,null,q),x&&(C==="number"||F!=="auto")&&(G=p0(U,B,"category")));var re=o9(C);if(!R||R.length===0){var J,Z=(J=T.domain)!==null&&J!==void 0?J:re;if(B){if(R=p0(U,B,C),C==="category"&&x){var oe=bH(R);D&&oe?(j=R,R=vy(0,M)):D||(R=$I(Z,R,w).reduce(function(P,H){return P.indexOf(H)>=0?P:[].concat(Lp(P),[H])},[]))}else if(C==="category")D?R=R.filter(function(P){return P!==""&&!Mn(P)}):R=$I(Z,R,w).reduce(function(P,H){return P.indexOf(H)>=0||H===""||Mn(H)?P:[].concat(Lp(P),[H])},[]);else if(C==="number"){var ye=DZ(U,a.filter(function(P){var H,Q,K=o in P.props?P.props[o]:(H=P.type.defaultProps)===null||H===void 0?void 0:H[o],X="hide"in P.props?P.props.hide:(Q=P.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return K===V&&(I||!X)}),B,i,p);ye&&(R=ye)}x&&(C==="number"||F!=="auto")&&(G=p0(U,B,"category"))}else x?R=vy(0,M):u&&u[V]&&u[V].hasStack&&C==="number"?R=y==="expand"?[0,1]:a7(u[V].stackGroups,d,f):R=t7(U,a.filter(function(P){var H=o in P.props?P.props[o]:P.type.defaultProps[o],Q="hide"in P.props?P.props.hide:P.type.defaultProps.hide;return H===V&&(I||!Q)}),C,p,!0);if(C==="number")R=aS(g,R,V,i,k),Z&&(R=EN(Z,R,q));else if(C==="category"&&Z){var ge=Z,le=R.every(function(P){return ge.indexOf(P)>=0});le&&(R=ge)}}return at(at({},E),{},Qt({},V,at(at({},T),{},{axisType:i,domain:R,categoricalDomain:G,duplicateDomain:j,originalDomain:(N=T.domain)!==null&&N!==void 0?N:re,isCategorical:x,layout:p})))},{})},xoe=function(e,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,u=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,p=e.layout,g=e.children,y=kx(e.data,{graphicalItems:r,dataStartIndex:d,dataEndIndex:f}),x=y.length,E=n7(p,i),w=-1;return r.reduce(function(N,T){var C=T.type.defaultProps!==void 0?at(at({},T.type.defaultProps),T.props):T.props,B=C[o],q=o9("number");if(!N[B]){w++;var D;return E?D=vy(0,x):u&&u[B]&&u[B].hasStack?(D=a7(u[B].stackGroups,d,f),D=aS(g,D,B,i)):(D=EN(q,t7(y,r.filter(function(F){var k,I,V=o in F.props?F.props[o]:(k=F.type.defaultProps)===null||k===void 0?void 0:k[o],U="hide"in F.props?F.props.hide:(I=F.type.defaultProps)===null||I===void 0?void 0:I.hide;return V===B&&!U}),"number",p),a.defaultProps.allowDataOverflow),D=aS(g,D,B,i)),at(at({},N),{},Qt({},B,at(at({axisType:i},a.defaultProps),{},{hide:!0,orientation:Mo(poe,"".concat(i,".").concat(w%2),null),domain:D,originalDomain:q,isCategorical:E,layout:p})))}return N},{})},boe=function(e,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,u=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,p=e.children,g="".concat(a,"Id"),y=yl(p,i),x={};return y&&y.length?x=yoe(e,{axes:y,graphicalItems:o,axisType:a,axisIdKey:g,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):o&&o.length&&(x=xoe(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:g,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),x},_oe=function(e){var n=hd(e),r=iu(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:bE(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:oy(n,r)}},kR=function(e){var n=e.children,r=e.defaultShowTooltip,a=ro(n,Ep),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},woe=function(e){return!e||!e.length?!1:e.some(function(n){var r=lu(n&&n.type);return r&&r.indexOf("Bar")>=0})},CR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Aoe=function(e,n){var r=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,u=e.yAxisMap,d=u===void 0?{}:u,f=r.width,p=r.height,g=r.children,y=r.margin||{},x=ro(g,Ep),E=ro(g,tp),w=Object.keys(d).reduce(function(D,F){var k=d[F],I=k.orientation;return!k.mirror&&!k.hide?at(at({},D),{},Qt({},I,D[I]+k.width)):D},{left:y.left||0,right:y.right||0}),N=Object.keys(o).reduce(function(D,F){var k=o[F],I=k.orientation;return!k.mirror&&!k.hide?at(at({},D),{},Qt({},I,Mo(D,"".concat(I))+k.height)):D},{top:y.top||0,bottom:y.bottom||0}),T=at(at({},N),w),C=T.bottom;x&&(T.bottom+=x.props.height||Ep.defaultProps.height),E&&n&&(T=PZ(T,a,r,n));var B=f-T.left-T.right,q=p-T.top-T.bottom;return at(at({brushBottom:C},T),{},{width:Math.max(B,0),height:Math.max(q,0)})},Noe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Soe=function(e){var n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,u=o===void 0?["axis"]:o,d=e.axisComponents,f=e.legendContent,p=e.formatAxisMap,g=e.defaultProps,y=function(T,C){var B=C.graphicalItems,q=C.stackGroups,D=C.offset,F=C.updateId,k=C.dataStartIndex,I=C.dataEndIndex,V=T.barSize,U=T.layout,M=T.barGap,R=T.barCategoryGap,j=T.maxBarSize,G=CR(U),re=G.numericAxisName,J=G.cateAxisName,Z=woe(B),oe=[];return B.forEach(function(ye,ge){var le=kx(T.data,{graphicalItems:[ye],dataStartIndex:k,dataEndIndex:I}),P=ye.type.defaultProps!==void 0?at(at({},ye.type.defaultProps),ye.props):ye.props,H=P.dataKey,Q=P.maxBarSize,K=P["".concat(re,"Id")],X=P["".concat(J,"Id")],me={},be=d.reduce(function(Ke,et){var tt=C["".concat(et.axisType,"Map")],Ge=P["".concat(et.axisType,"Id")];tt&&tt[Ge]||et.axisType==="zAxis"||Bf();var yt=tt[Ge];return at(at({},Ke),{},Qt(Qt({},et.axisType,yt),"".concat(et.axisType,"Ticks"),iu(yt)))},me),ee=be[J],_e=be["".concat(J,"Ticks")],Se=q&&q[K]&&q[K].hasStack&&WZ(ye,q[K].stackGroups),Ae=lu(ye.type).indexOf("Bar")>=0,Je=oy(ee,_e),Le=[],ce=Z&&CZ({barSize:V,stackGroups:q,totalSize:Noe(be,J)});if(Ae){var ae,Ye,nt=Mn(Q)?j:Q,He=(ae=(Ye=oy(ee,_e,!0))!==null&&Ye!==void 0?Ye:nt)!==null&&ae!==void 0?ae:0;Le=IZ({barGap:M,barCategoryGap:R,bandSize:He!==Je?He:Je,sizeList:ce[X],maxBarSize:nt}),He!==Je&&(Le=Le.map(function(Ke){return at(at({},Ke),{},{position:at(at({},Ke.position),{},{offset:Ke.position.offset-He/2})})}))}var Ue=ye&&ye.type&&ye.type.getComposedData;Ue&&oe.push({props:at(at({},Ue(at(at({},be),{},{displayedData:le,props:T,dataKey:H,item:ye,bandSize:Je,barPosition:Le,offset:D,stackedData:Se,layout:U,dataStartIndex:k,dataEndIndex:I}))),{},Qt(Qt(Qt({key:ye.key||"item-".concat(ge)},re,be[re]),J,be[J]),"animationId",F)),childIndex:PH(ye,T.children),item:ye})}),oe},x=function(T,C){var B=T.props,q=T.dataStartIndex,D=T.dataEndIndex,F=T.updateId;if(!a6({props:B}))return null;var k=B.children,I=B.layout,V=B.stackOffset,U=B.data,M=B.reverseStackOrder,R=CR(I),j=R.numericAxisName,G=R.cateAxisName,re=yl(k,r),J=$Z(U,re,"".concat(j,"Id"),"".concat(G,"Id"),V,M),Z=d.reduce(function(P,H){var Q="".concat(H.axisType,"Map");return at(at({},P),{},Qt({},Q,boe(B,at(at({},H),{},{graphicalItems:re,stackGroups:H.axisType===j&&J,dataStartIndex:q,dataEndIndex:D}))))},{}),oe=Aoe(at(at({},Z),{},{props:B,graphicalItems:re}),C==null?void 0:C.legendBBox);Object.keys(Z).forEach(function(P){Z[P]=p(B,Z[P],oe,P.replace("Map",""),n)});var ye=Z["".concat(G,"Map")],ge=_oe(ye),le=y(B,at(at({},Z),{},{dataStartIndex:q,dataEndIndex:D,updateId:F,graphicalItems:re,stackGroups:J,offset:oe}));return at(at({formattedGraphicalItems:le,graphicalItems:re,offset:oe,stackGroups:J},ge),Z)},E=(function(N){function T(C){var B,q,D;return roe(this,T),D=soe(this,T,[C]),Qt(D,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Qt(D,"accessibilityManager",new Use),Qt(D,"handleLegendBBoxUpdate",function(F){if(F){var k=D.state,I=k.dataStartIndex,V=k.dataEndIndex,U=k.updateId;D.setState(at({legendBBox:F},x({props:D.props,dataStartIndex:I,dataEndIndex:V,updateId:U},at(at({},D.state),{},{legendBBox:F}))))}}),Qt(D,"handleReceiveSyncEvent",function(F,k,I){if(D.props.syncId===F){if(I===D.eventEmitterSymbol&&typeof D.props.syncMethod!="function")return;D.applySyncEvent(k)}}),Qt(D,"handleBrushChange",function(F){var k=F.startIndex,I=F.endIndex;if(k!==D.state.dataStartIndex||I!==D.state.dataEndIndex){var V=D.state.updateId;D.setState(function(){return at({dataStartIndex:k,dataEndIndex:I},x({props:D.props,dataStartIndex:k,dataEndIndex:I,updateId:V},D.state))}),D.triggerSyncEvent({dataStartIndex:k,dataEndIndex:I})}}),Qt(D,"handleMouseEnter",function(F){var k=D.getMouseInfo(F);if(k){var I=at(at({},k),{},{isTooltipActive:!0});D.setState(I),D.triggerSyncEvent(I);var V=D.props.onMouseEnter;yn(V)&&V(I,F)}}),Qt(D,"triggeredAfterMouseMove",function(F){var k=D.getMouseInfo(F),I=k?at(at({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};D.setState(I),D.triggerSyncEvent(I);var V=D.props.onMouseMove;yn(V)&&V(I,F)}),Qt(D,"handleItemMouseEnter",function(F){D.setState(function(){return{isTooltipActive:!0,activeItem:F,activePayload:F.tooltipPayload,activeCoordinate:F.tooltipPosition||{x:F.cx,y:F.cy}}})}),Qt(D,"handleItemMouseLeave",function(){D.setState(function(){return{isTooltipActive:!1}})}),Qt(D,"handleMouseMove",function(F){F.persist(),D.throttleTriggeredAfterMouseMove(F)}),Qt(D,"handleMouseLeave",function(F){D.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};D.setState(k),D.triggerSyncEvent(k);var I=D.props.onMouseLeave;yn(I)&&I(k,F)}),Qt(D,"handleOuterEvent",function(F){var k=IH(F),I=Mo(D.props,"".concat(k));if(k&&yn(I)){var V,U;/.*touch.*/i.test(k)?U=D.getMouseInfo(F.changedTouches[0]):U=D.getMouseInfo(F),I((V=U)!==null&&V!==void 0?V:{},F)}}),Qt(D,"handleClick",function(F){var k=D.getMouseInfo(F);if(k){var I=at(at({},k),{},{isTooltipActive:!0});D.setState(I),D.triggerSyncEvent(I);var V=D.props.onClick;yn(V)&&V(I,F)}}),Qt(D,"handleMouseDown",function(F){var k=D.props.onMouseDown;if(yn(k)){var I=D.getMouseInfo(F);k(I,F)}}),Qt(D,"handleMouseUp",function(F){var k=D.props.onMouseUp;if(yn(k)){var I=D.getMouseInfo(F);k(I,F)}}),Qt(D,"handleTouchMove",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&D.throttleTriggeredAfterMouseMove(F.changedTouches[0])}),Qt(D,"handleTouchStart",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&D.handleMouseDown(F.changedTouches[0])}),Qt(D,"handleTouchEnd",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&D.handleMouseUp(F.changedTouches[0])}),Qt(D,"handleDoubleClick",function(F){var k=D.props.onDoubleClick;if(yn(k)){var I=D.getMouseInfo(F);k(I,F)}}),Qt(D,"handleContextMenu",function(F){var k=D.props.onContextMenu;if(yn(k)){var I=D.getMouseInfo(F);k(I,F)}}),Qt(D,"triggerSyncEvent",function(F){D.props.syncId!==void 0&&gA.emit(vA,D.props.syncId,F,D.eventEmitterSymbol)}),Qt(D,"applySyncEvent",function(F){var k=D.props,I=k.layout,V=k.syncMethod,U=D.state.updateId,M=F.dataStartIndex,R=F.dataEndIndex;if(F.dataStartIndex!==void 0||F.dataEndIndex!==void 0)D.setState(at({dataStartIndex:M,dataEndIndex:R},x({props:D.props,dataStartIndex:M,dataEndIndex:R,updateId:U},D.state)));else if(F.activeTooltipIndex!==void 0){var j=F.chartX,G=F.chartY,re=F.activeTooltipIndex,J=D.state,Z=J.offset,oe=J.tooltipTicks;if(!Z)return;if(typeof V=="function")re=V(oe,F);else if(V==="value"){re=-1;for(var ye=0;ye<oe.length;ye++)if(oe[ye].value===F.activeLabel){re=ye;break}}var ge=at(at({},Z),{},{x:Z.left,y:Z.top}),le=Math.min(j,ge.x+ge.width),P=Math.min(G,ge.y+ge.height),H=oe[re]&&oe[re].value,Q=oS(D.state,D.props.data,re),K=oe[re]?{x:I==="horizontal"?oe[re].coordinate:le,y:I==="horizontal"?P:oe[re].coordinate}:s9;D.setState(at(at({},F),{},{activeLabel:H,activeCoordinate:K,activePayload:Q,activeTooltipIndex:re}))}else D.setState(F)}),Qt(D,"renderCursor",function(F){var k,I=D.state,V=I.isTooltipActive,U=I.activeCoordinate,M=I.activePayload,R=I.offset,j=I.activeTooltipIndex,G=I.tooltipAxisBandSize,re=D.getTooltipEventType(),J=(k=F.props.active)!==null&&k!==void 0?k:V,Z=D.props.layout,oe=F.key||"_recharts-cursor";return Ce.createElement(Xse,{key:oe,activeCoordinate:U,activePayload:M,activeTooltipIndex:j,chartName:n,element:F,isActive:J,layout:Z,offset:R,tooltipAxisBandSize:G,tooltipEventType:re})}),Qt(D,"renderPolarAxis",function(F,k,I){var V=Mo(F,"type.axisType"),U=Mo(D.state,"".concat(V,"Map")),M=F.type.defaultProps,R=M!==void 0?at(at({},M),F.props):F.props,j=U&&U[R["".concat(V,"Id")]];return ve.cloneElement(F,at(at({},j),{},{className:Gn(V,j.className),key:F.key||"".concat(k,"-").concat(I),ticks:iu(j,!0)}))}),Qt(D,"renderPolarGrid",function(F){var k=F.props,I=k.radialLines,V=k.polarAngles,U=k.polarRadius,M=D.state,R=M.radiusAxisMap,j=M.angleAxisMap,G=hd(R),re=hd(j),J=re.cx,Z=re.cy,oe=re.innerRadius,ye=re.outerRadius;return ve.cloneElement(F,{polarAngles:Array.isArray(V)?V:iu(re,!0).map(function(ge){return ge.coordinate}),polarRadius:Array.isArray(U)?U:iu(G,!0).map(function(ge){return ge.coordinate}),cx:J,cy:Z,innerRadius:oe,outerRadius:ye,key:F.key||"polar-grid",radialLines:I})}),Qt(D,"renderLegend",function(){var F=D.state.formattedGraphicalItems,k=D.props,I=k.children,V=k.width,U=k.height,M=D.props.margin||{},R=V-(M.left||0)-(M.right||0),j=ZM({children:I,formattedGraphicalItems:F,legendWidth:R,legendContent:f});if(!j)return null;var G=j.item,re=jR(j,Qse);return ve.cloneElement(G,at(at({},re),{},{chartWidth:V,chartHeight:U,margin:M,onBBoxUpdate:D.handleLegendBBoxUpdate}))}),Qt(D,"renderTooltip",function(){var F,k=D.props,I=k.children,V=k.accessibilityLayer,U=ro(I,rc);if(!U)return null;var M=D.state,R=M.isTooltipActive,j=M.activeCoordinate,G=M.activePayload,re=M.activeLabel,J=M.offset,Z=(F=U.props.active)!==null&&F!==void 0?F:R;return ve.cloneElement(U,{viewBox:at(at({},J),{},{x:J.left,y:J.top}),active:Z,label:re,payload:Z?G:[],coordinate:j,accessibilityLayer:V})}),Qt(D,"renderBrush",function(F){var k=D.props,I=k.margin,V=k.data,U=D.state,M=U.offset,R=U.dataStartIndex,j=U.dataEndIndex,G=U.updateId;return ve.cloneElement(F,{key:F.key||"_recharts-brush",onChange:Uv(D.handleBrushChange,F.props.onChange),data:V,x:xt(F.props.x)?F.props.x:M.left,y:xt(F.props.y)?F.props.y:M.top+M.height+M.brushBottom-(I.bottom||0),width:xt(F.props.width)?F.props.width:M.width,startIndex:R,endIndex:j,updateId:"brush-".concat(G)})}),Qt(D,"renderReferenceElement",function(F,k,I){if(!F)return null;var V=D,U=V.clipPathId,M=D.state,R=M.xAxisMap,j=M.yAxisMap,G=M.offset,re=F.type.defaultProps||{},J=F.props,Z=J.xAxisId,oe=Z===void 0?re.xAxisId:Z,ye=J.yAxisId,ge=ye===void 0?re.yAxisId:ye;return ve.cloneElement(F,{key:F.key||"".concat(k,"-").concat(I),xAxis:R[oe],yAxis:j[ge],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:U})}),Qt(D,"renderActivePoints",function(F){var k=F.item,I=F.activePoint,V=F.basePoint,U=F.childIndex,M=F.isRange,R=[],j=k.props.key,G=k.item.type.defaultProps!==void 0?at(at({},k.item.type.defaultProps),k.item.props):k.item.props,re=G.activeDot,J=G.dataKey,Z=at(at({index:U,dataKey:J,cx:I.x,cy:I.y,r:4,fill:GE(k.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},On(re,!1)),R1(re));return R.push(T.renderActiveDot(re,Z,"".concat(j,"-activePoint-").concat(U))),V?R.push(T.renderActiveDot(re,at(at({},Z),{},{cx:V.x,cy:V.y}),"".concat(j,"-basePoint-").concat(U))):M&&R.push(null),R}),Qt(D,"renderGraphicChild",function(F,k,I){var V=D.filterFormatItem(F,k,I);if(!V)return null;var U=D.getTooltipEventType(),M=D.state,R=M.isTooltipActive,j=M.tooltipAxis,G=M.activeTooltipIndex,re=M.activeLabel,J=D.props.children,Z=ro(J,rc),oe=V.props,ye=oe.points,ge=oe.isRange,le=oe.baseLine,P=V.item.type.defaultProps!==void 0?at(at({},V.item.type.defaultProps),V.item.props):V.item.props,H=P.activeDot,Q=P.hide,K=P.activeBar,X=P.activeShape,me=!!(!Q&&R&&Z&&(H||K||X)),be={};U!=="axis"&&Z&&Z.props.trigger==="click"?be={onClick:Uv(D.handleItemMouseEnter,F.props.onClick)}:U!=="axis"&&(be={onMouseLeave:Uv(D.handleItemMouseLeave,F.props.onMouseLeave),onMouseEnter:Uv(D.handleItemMouseEnter,F.props.onMouseEnter)});var ee=ve.cloneElement(F,at(at({},V.props),be));function _e(et){return typeof j.dataKey=="function"?j.dataKey(et.payload):null}if(me)if(G>=0){var Se,Ae;if(j.dataKey&&!j.allowDuplicatedCategory){var Je=typeof j.dataKey=="function"?_e:"payload.".concat(j.dataKey.toString());Se=P1(ye,Je,re),Ae=ge&&le&&P1(le,Je,re)}else Se=ye==null?void 0:ye[G],Ae=ge&&le&&le[G];if(X||K){var Le=F.props.activeIndex!==void 0?F.props.activeIndex:G;return[ve.cloneElement(F,at(at(at({},V.props),be),{},{activeIndex:Le})),null,null]}if(!Mn(Se))return[ee].concat(Lp(D.renderActivePoints({item:V,activePoint:Se,basePoint:Ae,childIndex:G,isRange:ge})))}else{var ce,ae=(ce=D.getItemByXY(D.state.activeCoordinate))!==null&&ce!==void 0?ce:{graphicalItem:ee},Ye=ae.graphicalItem,nt=Ye.item,He=nt===void 0?F:nt,Ue=Ye.childIndex,Ke=at(at(at({},V.props),be),{},{activeIndex:Ue});return[ve.cloneElement(He,Ke),null,null]}return ge?[ee,null,null]:[ee,null]}),Qt(D,"renderCustomized",function(F,k,I){return ve.cloneElement(F,at(at({key:"recharts-customized-".concat(I)},D.props),D.state))}),Qt(D,"renderMap",{CartesianGrid:{handler:Kv,once:!0},ReferenceArea:{handler:D.renderReferenceElement},ReferenceLine:{handler:Kv},ReferenceDot:{handler:D.renderReferenceElement},XAxis:{handler:Kv},YAxis:{handler:Kv},Brush:{handler:D.renderBrush,once:!0},Bar:{handler:D.renderGraphicChild},Line:{handler:D.renderGraphicChild},Area:{handler:D.renderGraphicChild},Radar:{handler:D.renderGraphicChild},RadialBar:{handler:D.renderGraphicChild},Scatter:{handler:D.renderGraphicChild},Pie:{handler:D.renderGraphicChild},Funnel:{handler:D.renderGraphicChild},Tooltip:{handler:D.renderCursor,once:!0},PolarGrid:{handler:D.renderPolarGrid,once:!0},PolarAngleAxis:{handler:D.renderPolarAxis},PolarRadiusAxis:{handler:D.renderPolarAxis},Customized:{handler:D.renderCustomized}}),D.clipPathId="".concat((B=C.id)!==null&&B!==void 0?B:Sg("recharts"),"-clip"),D.throttleTriggeredAfterMouseMove=ZL(D.triggeredAfterMouseMove,(q=C.throttleDelay)!==null&&q!==void 0?q:1e3/60),D.state={},D}return coe(T,N),ioe(T,[{key:"componentDidMount",value:function(){var B,q;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(B=this.props.margin.left)!==null&&B!==void 0?B:0,top:(q=this.props.margin.top)!==null&&q!==void 0?q:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var B=this.props,q=B.children,D=B.data,F=B.height,k=B.layout,I=ro(q,rc);if(I){var V=I.props.defaultIndex;if(!(typeof V!="number"||V<0||V>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[V]&&this.state.tooltipTicks[V].value,M=oS(this.state,D,V,U),R=this.state.tooltipTicks[V].coordinate,j=(this.state.offset.top+F)/2,G=k==="horizontal",re=G?{x:R,y:j}:{y:R,x:j},J=this.state.formattedGraphicalItems.find(function(oe){var ye=oe.item;return ye.type.name==="Scatter"});J&&(re=at(at({},re),J.props.points[V].tooltipPosition),M=J.props.points[V].tooltipPayload);var Z={activeTooltipIndex:V,isTooltipActive:!0,activeLabel:U,activePayload:M,activeCoordinate:re};this.setState(Z),this.renderCursor(I),this.accessibilityManager.setIndex(V)}}}},{key:"getSnapshotBeforeUpdate",value:function(B,q){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==q.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==B.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==B.margin){var D,F;this.accessibilityManager.setDetails({offset:{left:(D=this.props.margin.left)!==null&&D!==void 0?D:0,top:(F=this.props.margin.top)!==null&&F!==void 0?F:0}})}return null}},{key:"componentDidUpdate",value:function(B){KA([ro(B.children,rc)],[ro(this.props.children,rc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var B=ro(this.props.children,rc);if(B&&typeof B.props.shared=="boolean"){var q=B.props.shared?"axis":"item";return u.indexOf(q)>=0?q:i}return i}},{key:"getMouseInfo",value:function(B){if(!this.container)return null;var q=this.container,D=q.getBoundingClientRect(),F=bY(D),k={chartX:Math.round(B.pageX-F.left),chartY:Math.round(B.pageY-F.top)},I=D.width/q.offsetWidth||1,V=this.inRange(k.chartX,k.chartY,I);if(!V)return null;var U=this.state,M=U.xAxisMap,R=U.yAxisMap,j=this.getTooltipEventType(),G=OR(this.state,this.props.data,this.props.layout,V);if(j!=="axis"&&M&&R){var re=hd(M).scale,J=hd(R).scale,Z=re&&re.invert?re.invert(k.chartX):null,oe=J&&J.invert?J.invert(k.chartY):null;return at(at({},k),{},{xValue:Z,yValue:oe},G)}return G?at(at({},k),G):null}},{key:"inRange",value:function(B,q){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,F=this.props.layout,k=B/D,I=q/D;if(F==="horizontal"||F==="vertical"){var V=this.state.offset,U=k>=V.left&&k<=V.left+V.width&&I>=V.top&&I<=V.top+V.height;return U?{x:k,y:I}:null}var M=this.state,R=M.angleAxisMap,j=M.radiusAxisMap;if(R&&j){var G=hd(R);return WI({x:k,y:I},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var B=this.props.children,q=this.getTooltipEventType(),D=ro(B,rc),F={};D&&q==="axis"&&(D.props.trigger==="click"?F={onClick:this.handleClick}:F={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=R1(this.props,this.handleOuterEvent);return at(at({},k),F)}},{key:"addListener",value:function(){gA.on(vA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gA.removeListener(vA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(B,q,D){for(var F=this.state.formattedGraphicalItems,k=0,I=F.length;k<I;k++){var V=F[k];if(V.item===B||V.props.key===B.key||q===lu(V.item.type)&&D===V.childIndex)return V}return null}},{key:"renderClipPath",value:function(){var B=this.clipPathId,q=this.state.offset,D=q.left,F=q.top,k=q.height,I=q.width;return Ce.createElement("defs",null,Ce.createElement("clipPath",{id:B},Ce.createElement("rect",{x:D,y:F,height:k,width:I})))}},{key:"getXScales",value:function(){var B=this.state.xAxisMap;return B?Object.entries(B).reduce(function(q,D){var F=ER(D,2),k=F[0],I=F[1];return at(at({},q),{},Qt({},k,I.scale))},{}):null}},{key:"getYScales",value:function(){var B=this.state.yAxisMap;return B?Object.entries(B).reduce(function(q,D){var F=ER(D,2),k=F[0],I=F[1];return at(at({},q),{},Qt({},k,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(B){var q;return(q=this.state.xAxisMap)===null||q===void 0||(q=q[B])===null||q===void 0?void 0:q.scale}},{key:"getYScaleByAxisId",value:function(B){var q;return(q=this.state.yAxisMap)===null||q===void 0||(q=q[B])===null||q===void 0?void 0:q.scale}},{key:"getItemByXY",value:function(B){var q=this.state,D=q.formattedGraphicalItems,F=q.activeItem;if(D&&D.length)for(var k=0,I=D.length;k<I;k++){var V=D[k],U=V.props,M=V.item,R=M.type.defaultProps!==void 0?at(at({},M.type.defaultProps),M.props):M.props,j=lu(M.type);if(j==="Bar"){var G=(U.data||[]).find(function(oe){return zne(B,oe)});if(G)return{graphicalItem:V,payload:G}}else if(j==="RadialBar"){var re=(U.data||[]).find(function(oe){return WI(B,oe)});if(re)return{graphicalItem:V,payload:re}}else if(_x(V,F)||wx(V,F)||sg(V,F)){var J=Cre({graphicalItem:V,activeTooltipItem:F,itemData:R.data}),Z=R.activeIndex===void 0?J:R.activeIndex;return{graphicalItem:at(at({},V),{},{childIndex:Z}),payload:sg(V,F)?R.data[J]:V.props.data[J]}}}return null}},{key:"render",value:function(){var B=this;if(!a6(this))return null;var q=this.props,D=q.children,F=q.className,k=q.width,I=q.height,V=q.style,U=q.compact,M=q.title,R=q.desc,j=jR(q,Jse),G=On(j,!1);if(U)return Ce.createElement(lR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ce.createElement(XA,Yh({},G,{width:k,height:I,title:M,desc:R}),this.renderClipPath(),s6(D,this.renderMap)));if(this.props.accessibilityLayer){var re,J;G.tabIndex=(re=this.props.tabIndex)!==null&&re!==void 0?re:0,G.role=(J=this.props.role)!==null&&J!==void 0?J:"application",G.onKeyDown=function(oe){B.accessibilityManager.keyboardEvent(oe)},G.onFocus=function(){B.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return Ce.createElement(lR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ce.createElement("div",Yh({className:Gn("recharts-wrapper",F),style:at({position:"relative",cursor:"default",width:k,height:I},V)},Z,{ref:function(ye){B.container=ye}}),Ce.createElement(XA,Yh({},G,{width:k,height:I,title:M,desc:R,style:moe}),this.renderClipPath(),s6(D,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(ve.Component);Qt(E,"displayName",n),Qt(E,"defaultProps",at({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),Qt(E,"getDerivedStateFromProps",function(N,T){var C=N.dataKey,B=N.data,q=N.children,D=N.width,F=N.height,k=N.layout,I=N.stackOffset,V=N.margin,U=T.dataStartIndex,M=T.dataEndIndex;if(T.updateId===void 0){var R=kR(N);return at(at(at({},R),{},{updateId:0},x(at(at({props:N},R),{},{updateId:0}),T)),{},{prevDataKey:C,prevData:B,prevWidth:D,prevHeight:F,prevLayout:k,prevStackOffset:I,prevMargin:V,prevChildren:q})}if(C!==T.prevDataKey||B!==T.prevData||D!==T.prevWidth||F!==T.prevHeight||k!==T.prevLayout||I!==T.prevStackOffset||!ep(V,T.prevMargin)){var j=kR(N),G={chartX:T.chartX,chartY:T.chartY,isTooltipActive:T.isTooltipActive},re=at(at({},OR(T,B,k)),{},{updateId:T.updateId+1}),J=at(at(at({},j),G),re);return at(at(at({},J),x(at({props:N},J),T)),{},{prevDataKey:C,prevData:B,prevWidth:D,prevHeight:F,prevLayout:k,prevStackOffset:I,prevMargin:V,prevChildren:q})}if(!KA(q,T.prevChildren)){var Z,oe,ye,ge,le=ro(q,Ep),P=le&&(Z=(oe=le.props)===null||oe===void 0?void 0:oe.startIndex)!==null&&Z!==void 0?Z:U,H=le&&(ye=(ge=le.props)===null||ge===void 0?void 0:ge.endIndex)!==null&&ye!==void 0?ye:M,Q=P!==U||H!==M,K=!Mn(B),X=K&&!Q?T.updateId:T.updateId+1;return at(at({updateId:X},x(at(at({props:N},T),{},{updateId:X,dataStartIndex:P,dataEndIndex:H}),T)),{},{prevChildren:q,dataStartIndex:P,dataEndIndex:H})}return null}),Qt(E,"renderActiveDot",function(N,T,C){var B;return ve.isValidElement(N)?B=ve.cloneElement(N,T):yn(N)?B=N(T):B=Ce.createElement(KE,T),Ce.createElement(na,{className:"recharts-active-dot",key:C},B)});var w=ve.forwardRef(function(T,C){return Ce.createElement(E,Yh({},T,{ref:C}))});return w.displayName=E.displayName,w},Eoe=Soe({chartName:"AreaChart",GraphicalChild:Kd,axisComponents:[{axisType:"xAxis",AxisComp:Tx},{axisType:"yAxis",AxisComp:Ox}],formatAxisMap:jae});const joe=({sales:t,stock:e,transactions:n,batches:r,clients:a,onBack:i})=>{const[o,u]=ve.useState(null),[d,f]=ve.useState(!1),[p,g]=ve.useState(new Set),[y,x]=ve.useState("commercial"),[E,w]=ve.useState(!1),N=Array.isArray(t)?t:[],T=Array.isArray(e)?e:[],C=Array.isArray(r)?r:[],B=Array.isArray(a)?a:[],q=N.reduce((j,G)=>j+G.peso_real_saida*G.preco_venda_kg,0),D=N.reduce((j,G)=>j+G.peso_real_saida,0),F=N.reduce((j,G)=>j+(G.quebra_kg||0),0),k=N.filter(j=>j.status_pagamento==="PENDENTE").reduce((j,G)=>{const re=G.peso_real_saida*G.preco_venda_kg,J=G.valor_pago||0;return j+(re-J)},0),I=N.slice(-12).map((j,G)=>({name:`V${G+1}`,lucro:(j.lucro_liquido_unitario||0)*j.peso_real_saida,valor:j.peso_real_saida*j.preco_venda_kg})),V=ve.useMemo(()=>{const j=new Map;return N.forEach(G=>{const re=T.find(H=>H.id_completo===G.id_completo),J=re?C.find(H=>H.id_lote===re.id_lote):null,Z=B.find(H=>H.id_ferro===G.id_cliente),oe=(J==null?void 0:J.id_lote)||"sem-lote";j.has(oe)||j.set(oe,[]);const ye=G.peso_real_saida*G.preco_venda_kg,ge=J&&Number(J.custo_real_kg)||0,le=G.peso_real_saida*ge+(G.custo_extras_total||0),P=ye-le;j.get(oe).push({sale:G,item:re,batch:J,client:Z,revenue:ye,cost:le,profit:P})}),Array.from(j.entries()).map(([G,re])=>{const J=re[0].batch,Z=re.reduce((ge,le)=>ge+le.revenue,0),oe=re.reduce((ge,le)=>ge+le.cost,0),ye=re.reduce((ge,le)=>ge+le.profit,0);return{batchId:G,batch:J,items:re,totalRevenue:Z,totalCost:oe,totalProfit:ye,supplier:(J==null?void 0:J.fornecedor)||"Desconhecido"}}).sort((G,re)=>re.totalRevenue-G.totalRevenue)},[N,T,C,B]),U=ve.useMemo(()=>{const j=[];V.forEach(re=>{const J=re.items.reduce((ye,ge)=>{var le;return ye+(((le=ge.item)==null?void 0:le.peso_entrada)||0)},0),Z=re.items.reduce((ye,ge)=>ye+ge.sale.peso_real_saida,0),oe=J>0?Z/J*100:100;oe<95&&j.push({type:"critical",message:`Quebra Crtica: Lote ${re.batchId.slice(0,8)}`,detail:`Rendimento de ${oe.toFixed(1)}% detectado. Verifique cmara fria.`})}),a.forEach(re=>{(re.tier==="F"||re.score<300)&&j.push({type:"critical",message:`Risco de Crdito: ${re.nome_social}`,detail:"Cliente em Nvel F detectado. Operaes de venda devem ser bloqueadas."})});const G=new Date;return e.filter(re=>re.status==="DISPONIVEL").forEach(re=>{const J=new Date(re.data_entrada),Z=Math.floor((G.getTime()-J.getTime())/(1e3*3600*24));Z>12&&j.push({type:"warning",message:`Item Envelhecido: ${re.id_completo}`,detail:`Pea com ${Z} dias em estoque. Prioritize sada para evitar perda de peso.`})}),j},[V,a,e]),M=j=>{const G=new Set(p);G.has(j)?G.delete(j):G.add(j),g(G)},R=async()=>{f(!0),await new Promise(j=>setTimeout(j,800)),w(!0),U.length>0?u(`Core IA detectou ${U.length} pontos de ateno operacional. Recomendamos auditoria imediata nos lotes com quebra acentuada.`):u("Integridade operacional verificada. Sem anomalias crticas no ciclo atual."),f(!1)};return c.jsx("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("button",{onClick:i,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[c.jsx(Ji,{size:14})," Voltar ao Incio"]}),c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-xl shadow-blue-100",children:y==="commercial"?c.jsx(HD,{size:28}):c.jsx(Ps,{size:28})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:[y==="commercial"?"Performance ":"Analtico de ",c.jsx("span",{className:"text-blue-600",children:y==="commercial"?"Comercial":"Rendimento"})]}),c.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:y==="commercial"?"Painel Analtico de Fluxo Industrial":"Monitoramento de Yield e Queba Industrial"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[c.jsxs("div",{className:"flex p-1 bg-white border border-slate-100 rounded-2xl shadow-sm",children:[c.jsx("button",{onClick:()=>x("commercial"),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${y==="commercial"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Comercial"}),c.jsx("button",{onClick:()=>x("yield"),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${y==="yield"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Rendimento"})]}),c.jsxs("button",{onClick:R,disabled:d,className:"bg-white border border-gray-200 text-gray-700 px-6 py-3 rounded-2xl font-bold text-xs uppercase tracking-widest hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm flex items-center gap-3 disabled:opacity-50",children:[d?c.jsx(Ps,{className:"animate-spin text-blue-600",size:16}):c.jsx(GD,{className:"text-blue-600",size:16}),"IA Insight"]})]})]}),E&&c.jsxs("div",{className:"mb-10 grid grid-cols-1 lg:grid-cols-3 gap-6 animate-reveal",children:[c.jsxs("div",{className:"lg:col-span-1 bg-slate-900 rounded-[32px] p-8 text-white relative overflow-hidden shadow-2xl",children:[c.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:c.jsx(Jz,{size:80})}),c.jsxs("h4",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-blue-400 mb-6 flex items-center gap-2",children:[c.jsx(Rs,{size:14,className:"fill-blue-400"})," IA Insights Operacionais"]}),c.jsxs("p",{className:"text-sm font-medium leading-relaxed italic border-l-2 border-blue-500 pl-4",children:['"',o,'"']}),c.jsx("button",{onClick:()=>w(!1),className:"mt-8 text-[9px] font-black uppercase text-slate-500 hover:text-white transition-colors",children:"OCULTAR PAINEL IA"})]}),c.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[U.slice(0,4).map((j,G)=>c.jsxs("div",{className:`p-6 rounded-[24px] border-l-4 shadow-sm flex items-start gap-4 animate-reveal ${j.type==="critical"?"bg-rose-50 border-rose-500":j.type==="warning"?"bg-orange-50 border-orange-500":"bg-blue-50 border-blue-500"}`,children:[c.jsx("div",{className:`p-2 rounded-xl ${j.type==="critical"?"bg-rose-500 text-white":j.type==="warning"?"bg-orange-500 text-white":"bg-blue-500 text-white"}`,children:j.type==="critical"?c.jsx(pp,{size:16}):c.jsx(WV,{size:16})}),c.jsxs("div",{children:[c.jsx("h5",{className:"text-[11px] font-black text-slate-900 uppercase italic mb-1",children:j.message}),c.jsx("p",{className:"text-[10px] font-medium text-slate-500 leading-tight",children:j.detail})]})]},G)),U.length===0&&c.jsxs("div",{className:"md:col-span-2 p-10 bg-emerald-50 rounded-[24px] border-l-4 border-emerald-500 flex flex-col items-center justify-center text-center",children:[c.jsx(wc,{size:40,className:"text-emerald-500 mb-2"}),c.jsx("h5",{className:"text-xs font-black text-emerald-900 uppercase",children:"Ambiente Seguro"}),c.jsx("p",{className:"text-[10px] font-medium text-emerald-600",children:"Nenhum risco detectado pelo monitor IA."})]})]})]}),y==="commercial"?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[{label:"Receita Total",val:q,icon:Nd,color:"text-blue-600",bg:"bg-blue-50"},{label:"Fluxo Pendente",val:k,icon:WD,color:"text-amber-600",bg:"bg-amber-50"},{label:"Volume Expedido",val:D,icon:fu,color:"text-emerald-600",bg:"bg-emerald-50",fmt:"w"},{label:"ndice de Quebra",val:F,icon:C1,color:"text-rose-600",bg:"bg-rose-50",fmt:"w"}].map((j,G)=>c.jsxs("div",{className:"premium-card bg-white p-6 rounded-3xl group",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsx("div",{className:`${j.bg} ${j.color} p-3 rounded-2xl`,children:c.jsx(j.icon,{size:20})}),c.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-100 group-hover:bg-blue-500 transition-colors"})]}),c.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:j.label}),c.jsx("p",{className:"text-2xl font-extrabold text-gray-900",children:j.fmt==="w"?Sr(j.val):kt(j.val)})]},G))}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-10",children:[c.jsxs("div",{className:"lg:col-span-2 premium-card bg-white p-6 rounded-3xl h-[400px] flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Monitoramento de Vendas"}),c.jsx("p",{className:"text-[10px] text-gray-400 font-medium",children:"Fluxo de caixa das ltimas 12 operaes"})]}),c.jsx("div",{className:"bg-blue-50 px-3 py-1 rounded-full text-blue-600 font-bold text-[9px] uppercase tracking-widest",children:"Tempo Real"})]}),c.jsx("div",{className:"flex-1 w-full min-h-0",children:c.jsx(hY,{width:"100%",height:"100%",children:c.jsxs(Eoe,{data:I,margin:{top:0,right:0,left:-20,bottom:0},children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"colorBrand",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#2563eb",stopOpacity:.15}),c.jsx("stop",{offset:"95%",stopColor:"#2563eb",stopOpacity:0})]})}),c.jsx($7,{strokeDasharray:"4 4",stroke:"#f1f5f9",vertical:!1}),c.jsx(Tx,{dataKey:"name",stroke:"#94a3b8",tick:{fontSize:10,fontWeight:600},axisLine:!1,tickLine:!1}),c.jsx(Ox,{tick:{fontSize:10,fontWeight:600,fill:"#94a3b8"},axisLine:!1,tickLine:!1,tickFormatter:j=>`R$${j/1e3}k`}),c.jsx(rc,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)",fontSize:"11px",fontWeight:"bold"}}),c.jsx(Kd,{type:"monotone",dataKey:"valor",stroke:"#2563eb",strokeWidth:3,fill:"url(#colorBrand)"})]})})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex flex-col",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-8",children:"Estado do Sistema"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center font-bold",children:"L"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Lotes Totais"}),c.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[C.length," Registros"]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center font-bold",children:"V"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Unidades Vendidas"}),c.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[N.length," Itens"]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center font-bold",children:"C"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Base de Clientes"}),c.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[B.length," Ativos"]})]})]})]}),c.jsx("div",{className:"mt-auto pt-6 border-t border-gray-50",children:c.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Rs,{size:10,className:"text-amber-500 fill-amber-500"}),c.jsx("span",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"Otimizao de Custos"})]}),c.jsx("div",{className:"w-full bg-gray-200 h-1.5 rounded-full overflow-hidden",children:c.jsx("div",{className:"bg-emerald-500 h-full w-[85%]"})})]})})]})]}),c.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-50 flex justify-between items-center",children:[c.jsxs("h3",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[c.jsx(du,{size:16,className:"text-blue-600"}),"Detalhamento por Lote"]}),c.jsxs("span",{className:"text-[10px] font-bold text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[V.length," Entradas"]})]}),c.jsxs("div",{className:"divide-y divide-gray-50",children:[V.map(({batchId:j,batch:G,items:re,totalRevenue:J,totalCost:Z,totalProfit:oe,supplier:ye})=>{const ge=p.has(j);return c.jsxs("div",{className:"group",children:[c.jsxs("div",{onClick:()=>M(j),className:`p-6 flex flex-col md:flex-row items-start md:items-center justify-between cursor-pointer transition-all gap-6 ${ge?"bg-blue-50/30":"hover:bg-gray-50/50"}`,children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[c.jsx("span",{className:"text-[9px] bg-blue-100 text-blue-700 px-2 py-0.5 rounded font-bold uppercase tracking-wider",children:j.slice(0,8)}),c.jsx("h4",{className:"text-md font-bold text-gray-800",children:G?G.id_lote:"Lote Avulso"})]}),c.jsxs("p",{className:"text-[11px] text-gray-400 font-medium",children:["Fornecedor: ",ye,"  Itens: ",re.length]})]}),c.jsxs("div",{className:"flex items-center gap-10",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-tighter",children:"Venda Bruta"}),c.jsx("p",{className:"text-sm font-bold text-gray-900",children:kt(J)})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-tighter",children:"Lucro Lquido"}),c.jsx("p",{className:`text-sm font-extrabold ${oe>=0?"text-emerald-600":"text-rose-600"}`,children:kt(oe)})]}),c.jsx("div",{className:`p-2 rounded-xl transition-all ${ge?"bg-blue-100 text-blue-600 rotate-90":"text-gray-300"}`,children:c.jsx(_c,{size:18})})]})]}),ge&&c.jsx("div",{className:"bg-[#fcfdff] border-t border-blue-50 px-6 py-4",children:c.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-100",children:c.jsxs("table",{className:"technical-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Venda"}),c.jsx("th",{children:"Cliente"}),c.jsx("th",{children:"Item"}),c.jsx("th",{className:"text-right",children:"Peso"}),c.jsx("th",{className:"text-right",children:"Valor"}),c.jsx("th",{className:"text-right",children:"Lucro"})]})}),c.jsx("tbody",{children:re.map((le,P)=>{var H,Q;return c.jsxs("tr",{children:[c.jsx("td",{className:"text-[10px] font-bold text-gray-500 uppercase",children:new Date(le.sale.data_venda).toLocaleDateString()}),c.jsx("td",{className:"font-bold text-gray-800",children:((H=le.client)==null?void 0:H.nome_social)||le.sale.nome_cliente||"Varejo"}),c.jsx("td",{children:c.jsx("span",{className:"font-mono text-[9px] text-blue-600 font-bold",children:((Q=le.item)==null?void 0:Q.id_completo)||le.sale.id_completo})}),c.jsx("td",{className:"text-right font-medium text-gray-600",children:Sr(le.sale.peso_real_saida)}),c.jsx("td",{className:"text-right font-bold text-gray-900",children:kt(le.revenue)}),c.jsx("td",{className:`text-right font-bold ${le.profit>=0?"text-emerald-600":"text-rose-600"}`,children:kt(le.profit)})]},P)})})]})})})]},j)}),V.length===0&&c.jsxs("div",{className:"text-center py-20 text-gray-300",children:[c.jsx(du,{size:48,className:"mx-auto mb-4 opacity-10"}),c.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"Nenhum registro encontrado"})]})]})]})]}):c.jsxs("div",{className:"animate-reveal space-y-10",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:(()=>{const j=V.reduce((J,Z)=>{const oe=Z.items.reduce((ye,ge)=>{var le;return ye+(((le=ge.item)==null?void 0:le.peso_entrada)||0)},0);return J+oe},0),G=V.reduce((J,Z)=>J+Z.items.reduce((oe,ye)=>oe+ye.sale.peso_real_saida,0),0),re=j>0?G/j*100:0;return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"premium-card p-10 bg-slate-900 text-white relative flex flex-col justify-center",children:[c.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:c.jsx(Ps,{size:80})}),c.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.4em] mb-4",children:"Yield Industrial Global"}),c.jsxs("h3",{className:"text-6xl font-black tracking-tighter",children:[re.toFixed(1),"%"]}),c.jsx("p",{className:"text-xs font-bold text-slate-500 mt-4 uppercase tracking-widest",children:"Aproveitamento Mdio"})]}),c.jsxs("div",{className:"premium-card p-10 bg-white shadow-xl flex flex-col justify-center",children:[c.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Total Quebra Detectada"}),c.jsx("h3",{className:"text-4xl font-black text-rose-600 tracking-tight",children:Sr(F)}),c.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[c.jsx(C1,{size:14,className:"text-rose-600"}),c.jsx("span",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Impacto direto na margem"})]})]}),c.jsxs("div",{className:"premium-card p-10 bg-white shadow-xl flex flex-col justify-center",children:[c.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Eficincia de Resfriamento"}),c.jsx("h3",{className:"text-4xl font-black text-emerald-600 tracking-tight",children:"97.8%"}),c.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[c.jsx(O0,{size:14,className:"text-emerald-600"}),c.jsx("span",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Status Operacional: Estvel"})]})]})]})})()}),c.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"p-8 border-b border-gray-50 flex justify-between items-center bg-slate-50/50",children:[c.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Auditria de Rendimento por Lote"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),c.jsxs("span",{className:"text-[8px] font-black uppercase text-slate-400",children:[">"," 97% Bom"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500"}),c.jsxs("span",{className:"text-[8px] font-black uppercase text-slate-400",children:["<"," 95% Crtico"]})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"technical-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Identificao"}),c.jsx("th",{children:"Entrada Bruta"}),c.jsx("th",{children:"Sada Lquida"}),c.jsx("th",{className:"text-right",children:"Quebra (kg)"}),c.jsx("th",{className:"text-right",children:"Rendimento %"}),c.jsx("th",{className:"w-40 text-center",children:"Status Industrial"})]})}),c.jsx("tbody",{children:V.map(j=>{const G=j.items.reduce((oe,ye)=>{var ge;return oe+(((ge=ye.item)==null?void 0:ge.peso_entrada)||0)},0),re=j.items.reduce((oe,ye)=>oe+ye.sale.peso_real_saida,0),J=G-re,Z=G>0?re/G*100:0;return c.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[c.jsxs("td",{className:"font-extrabold text-slate-900 uppercase text-xs italic",children:["Lote ",j.batchId.slice(0,8),"  ",j.supplier]}),c.jsx("td",{className:"font-bold text-slate-500",children:Sr(G)}),c.jsx("td",{className:"font-black text-slate-900",children:Sr(re)}),c.jsx("td",{className:"text-right font-black text-rose-500",children:Sr(J)}),c.jsxs("td",{className:`text-right font-black text-lg ${Z>97?"text-emerald-600":Z<95?"text-rose-600":"text-slate-900"}`,children:[Z.toFixed(2),"%"]}),c.jsx("td",{className:"text-center",children:c.jsx("div",{className:`inline-flex px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest ${Z>97?"bg-emerald-50 text-emerald-600 border border-emerald-100":Z<95?"bg-rose-50 text-rose-600 border border-rose-100":"bg-slate-50 text-slate-400 border border-slate-100"}`,children:Z>97?"ALTA EFICINCIA":Z<95?"QUEBA ACENTUADA":"ESTVEL"})})]},j.batchId)})})]})})]}),c.jsxs("div",{className:"premium-card p-24 bg-white flex flex-col items-center justify-center border-dashed border-2 border-slate-100",children:[c.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-3xl flex items-center justify-center mb-8",children:c.jsx(lV,{size:40,className:"text-slate-200"})}),c.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.6em]",children:"Projeo de Curva de Perda Industrial"}),c.jsx("p",{className:"text-[9px] font-bold text-slate-200 mt-4 uppercase",children:"IA est processando variaes sazonais..."})]})]})]})})},Toe=({clients:t,addClient:e,updateClient:n,onBack:r,onGoToFinancial:a,sales:i,transactions:o,batches:u})=>{const[d,f]=ve.useState(""),[p,g]=ve.useState(!1),[y,x]=ve.useState({id_ferro:"",nome_social:"",whatsapp:"",cpf_cnpj:"",telefone_residencial:"",endereco:"",bairro:"",cidade:"",cep:"",observacoes:"",limite_credito:0,saldo_devedor:0}),[E,w]=ve.useState(null),[N,T]=ve.useState(!1),[C,B]=ve.useState(null),[q,D]=ve.useState("overview"),F=t.filter(j=>j.status!=="INATIVO"&&(j.id_ferro.includes(d)||j.nome_social.toLowerCase().includes(d.toLowerCase()))).sort((j,G)=>j.nome_social.localeCompare(G.nome_social)),k=j=>{j.preventDefault(),y.id_ferro&&y.nome_social&&(e(y),g(!1),x({id_ferro:"",nome_social:"",whatsapp:"",cpf_cnpj:"",telefone_residencial:"",endereco:"",bairro:"",cidade:"",cep:"",observacoes:"",limite_credito:0,saldo_devedor:0}))},I=j=>{j.preventDefault(),C&&n&&(n(C),w(C),T(!1))},V=j=>`https://wa.me/55${j.replace(/\D/g,"")}`,U=ve.useMemo(()=>{var Je;if(!E)return null;const j=E.id_ferro,G=i.filter(Le=>Le.id_cliente===j&&Le.status_pagamento!=="ESTORNADO"),re=G.reduce((Le,ce)=>Le+ce.peso_real_saida*ce.preco_venda_kg,0),J=G.reduce((Le,ce)=>Le+(ce.valor_pago||0),0),Z=re-J,oe=G.reduce((Le,ce)=>{const ae=ce.peso_real_saida*ce.preco_venda_kg,Ye=u.find(Ke=>ce.id_completo.startsWith(Ke.id_lote)),nt=Ye&&Ye.custo_real_kg||0,He=ce.peso_real_saida*nt,Ue=ce.custo_extras_total||0;return Le+(ae-He-Ue)},0),ye=G.reduce((Le,ce)=>Le+ce.peso_real_saida,0),ge=G.filter(Le=>Le.status_pagamento==="PAGO"),le=G.filter(Le=>Le.status_pagamento==="PENDENTE"),P=new Date(t0);let H=0,Q=0,K=0;ge.forEach(Le=>{const ce=o.find(nt=>(nt.referencia_id===Le.id_venda||nt.id.includes(Le.id_venda))&&nt.tipo==="ENTRADA"&&nt.categoria==="VENDA"),ae=ce?new Date(ce.data):P,Ye=new Date(Le.data_vencimento||Le.data_venda);ae<=Ye?H++:(Q++,K+=Math.ceil((ae.getTime()-Ye.getTime())/(1e3*60*60*24)))});const X=le.filter(Le=>Le.data_vencimento&&Le.data_vencimento<t0),me=ge.length>0?H/ge.length*100:100,be=Q>0?K/Q:0,ee={};o.filter(Le=>Le.tipo==="ENTRADA"&&Le.categoria==="VENDA"&&G.some(ce=>Le.referencia_id===ce.id_venda||Le.id.includes(ce.id_venda))).forEach(Le=>{const ce=Le.metodo_pagamento||"OUTROS";ee[ce]=(ee[ce]||0)+1});const Se=((Je=Object.entries(ee).sort((Le,ce)=>ce[1]-Le[1])[0])==null?void 0:Je[0])||"N/A",Ae=Object.values(ee).reduce((Le,ce)=>Le+ce,0);return{clientSales:G.sort((Le,ce)=>new Date(ce.data_venda).getTime()-new Date(Le.data_venda).getTime()),totalFaturado:re,totalPago:J,saldoDevedor:Z,totalLucro:oe,totalKg:ye,salesPagas:ge.length,salesPendentes:le.length,pagasEmDia:H,pagasAtrasadas:Q,percEmDia:me,mediaDiasAtraso:be,vendasVencidas:X.length,metodos:ee,metodoPreferido:Se,totalTxMetodo:Ae,totalVendas:G.length}},[E,i,o,u]),M=j=>{const G=i.filter(Z=>Z.id_cliente===j&&Z.status_pagamento!=="ESTORNADO"),re=G.reduce((Z,oe)=>Z+oe.peso_real_saida*oe.preco_venda_kg,0),J=G.reduce((Z,oe)=>Z+(oe.valor_pago||0),0);return re-J},R=j=>`${j.toFixed(1)} kg`;return c.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[c.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("button",{onClick:r,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[c.jsx(Ji,{size:14})," Voltar ao Incio"]}),c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsx("div",{className:"bg-emerald-600 p-3 rounded-2xl text-white shadow-xl shadow-emerald-100",children:c.jsx(xV,{size:28})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Gesto de ",c.jsx("span",{className:"text-emerald-600",children:"Clientes"})]}),c.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Central de Relacionamento e Crdito / ID-CRM"})]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto",children:[c.jsxs("div",{className:"relative group w-full sm:w-80",children:[c.jsx(Hp,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-600 transition-colors",size:16}),c.jsx("input",{type:"text",placeholder:"Pesquisar por nome ou ID...",className:"modern-input pl-12 bg-white",value:d,onChange:j=>f(j.target.value)})]}),c.jsxs("button",{onClick:()=>g(!0),className:"btn-modern btn-brand px-8 py-3.5 gap-3 shadow-lg shadow-blue-100",children:[c.jsx(XD,{size:18})," Novo Cliente"]})]})]}),p&&c.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-reveal",children:c.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl w-full max-w-4xl overflow-hidden relative border border-white",children:[c.jsxs("div",{className:"bg-emerald-600 p-8 text-white flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:"Cadastro de Entidade"}),c.jsx("p",{className:"text-[10px] text-emerald-100 font-bold uppercase tracking-widest mt-1",children:"Mdulo de Entrada Segura / CRM-01"})]}),c.jsx("button",{onClick:()=>g(!1),className:"bg-white/10 p-2 rounded-xl hover:bg-white/20 transition-colors",children:c.jsx(hu,{size:20})})]}),c.jsxs("form",{onSubmit:k,className:"p-8 space-y-6 max-h-[75vh] overflow-y-auto",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[c.jsxs("div",{className:"md:col-span-4",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"ID / Marca"}),c.jsx("input",{required:!0,type:"text",className:"modern-input font-bold text-lg",placeholder:"EX: 77",value:y.id_ferro,onChange:j=>x({...y,id_ferro:j.target.value.toUpperCase()})})]}),c.jsxs("div",{className:"md:col-span-8",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Nome Social / Razo Social"}),c.jsx("input",{required:!0,type:"text",className:"modern-input font-bold text-lg",placeholder:"NOME COMPLETO DO CLIENTE",value:y.nome_social,onChange:j=>x({...y,nome_social:j.target.value.toUpperCase()})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"CPF / CNPJ"}),c.jsx("input",{type:"text",className:"modern-input",placeholder:"000.000.000-00",value:y.cpf_cnpj,onChange:j=>x({...y,cpf_cnpj:j.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"WhatsApp"}),c.jsx("input",{type:"text",className:"modern-input",placeholder:"(00) 00000-0000",value:y.whatsapp,onChange:j=>x({...y,whatsapp:j.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Telefone Fixo"}),c.jsx("input",{type:"text",className:"modern-input",placeholder:"(00) 0000-0000",value:y.telefone_residencial,onChange:j=>x({...y,telefone_residencial:j.target.value})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 pt-4 border-t border-gray-50",children:[c.jsxs("div",{className:"md:col-span-3",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"CEP"}),c.jsx("input",{type:"text",className:"modern-input",placeholder:"00000-000",value:y.cep,onChange:j=>x({...y,cep:j.target.value})})]}),c.jsxs("div",{className:"md:col-span-5",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Endereo"}),c.jsx("input",{type:"text",className:"modern-input",value:y.endereco,onChange:j=>x({...y,endereco:j.target.value})})]}),c.jsxs("div",{className:"md:col-span-4",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Bairro"}),c.jsx("input",{type:"text",className:"modern-input",value:y.bairro,onChange:j=>x({...y,bairro:j.target.value})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Cidade / UF"}),c.jsx("input",{type:"text",className:"modern-input",value:y.cidade,onChange:j=>x({...y,cidade:j.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest mb-2 block",children:"Limite de Crdito"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 font-bold text-emerald-600 text-sm",children:"R$"}),c.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input pl-12 bg-emerald-50 border-emerald-100 text-emerald-700 font-bold",placeholder:"Limite",value:y.limite_credito||"",onChange:j=>{const G=j.target.value.replace(",",".");(G===""||/^\d*\.?\d*$/.test(G))&&x({...y,limite_credito:Number(G)||0})}})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[c.jsx("button",{type:"button",onClick:()=>g(!1),className:"btn-modern bg-gray-100 text-gray-500 hover:bg-gray-200 px-8",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn-modern btn-brand px-12 bg-emerald-600 hover:bg-emerald-700",children:"Finalizar Registro"})]})]})]})}),c.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden animate-reveal",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"technical-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"w-24 text-center",children:"ID"}),c.jsx("th",{children:"Titular / Razo Social"}),c.jsx("th",{className:"hidden md:table-cell",children:"Localizao"}),c.jsx("th",{className:"hidden sm:table-cell",children:"Contato"}),c.jsx("th",{className:"text-center",children:"Score de Crdito"}),c.jsx("th",{className:"text-right",children:"Saldo Devedor"}),c.jsx("th",{className:"w-16"})]})}),c.jsx("tbody",{children:F.map(j=>{const G=M(j.id_ferro);return c.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[c.jsx("td",{className:"text-center",children:c.jsx("div",{onClick:()=>{w(j),T(!1),D("overview")},className:"w-10 h-10 bg-gray-50 rounded-xl flex items-center justify-center font-mono font-bold text-gray-500 group-hover:bg-blue-600 group-hover:text-white transition-all cursor-pointer mx-auto",children:j.id_ferro})}),c.jsx("td",{children:c.jsxs("div",{onClick:()=>{w(j),T(!1),D("overview")},className:"cursor-pointer",children:[c.jsx("p",{className:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:j.nome_social}),c.jsx("p",{className:"text-[10px] text-gray-400 font-medium tracking-wider",children:j.cpf_cnpj||"SEM DOCUMENTO"})]})}),c.jsx("td",{className:"hidden md:table-cell",children:j.cidade?c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("span",{className:"text-xs font-semibold text-gray-600 flex items-center gap-1",children:[c.jsx(j1,{size:12,className:"text-blue-500"})," ",j.cidade]}),c.jsx("span",{className:"text-[10px] text-gray-400",children:j.bairro})]}):c.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"NO DEFINIDO"})}),c.jsx("td",{className:"hidden sm:table-cell",children:j.whatsapp?c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-xs font-bold text-gray-700",children:j.whatsapp}),c.jsx("a",{href:V(j.whatsapp),target:"_blank",className:"text-[10px] text-emerald-600 font-bold hover:underline",children:"WhatsApp Link"})]}):c.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"SEM CONTATO"})}),c.jsx("td",{className:"text-center",children:(()=>{const re=Y3(j,i,t0);return c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx("div",{className:"flex gap-0.5",children:[...Array(5)].map((J,Z)=>c.jsx(H3,{size:10,className:Z<re.stars?"fill-amber-400 text-amber-400":"text-slate-200"},Z))}),c.jsxs("span",{className:`text-[9px] font-black px-2 py-0.5 rounded-md border ${re.color} ${re.bg} ${re.border}`,children:["NVEL ",re.tier]})]})})()}),c.jsx("td",{className:"text-right",children:c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:`text-sm font-bold ${G>.01?"text-rose-600":"text-emerald-600"}`,children:kt(G)}),G>.01&&c.jsx("span",{className:"text-[9px] font-bold text-rose-300 uppercase tracking-tighter",children:"Em Aberto"})]})}),c.jsx("td",{className:"text-center",children:c.jsx(_c,{size:18,className:"text-gray-300 group-hover:text-blue-500 transition-all transform group-hover:translate-x-1"})})]},j.id_ferro)})})]})})}),E&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-reveal",children:c.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col relative border border-white",children:[c.jsxs("div",{className:`p-8 flex justify-between items-center ${N?"bg-amber-50":"bg-slate-50"}`,children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center text-slate-800 font-black text-3xl shadow-sm border border-slate-100",children:E.id_ferro}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:E.nome_social}),c.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:N?"Editor de Registro Master":`Matrcula #${E.cpf_cnpj||"---"}`})]})]}),c.jsx("button",{onClick:()=>w(null),className:"p-3 bg-white hover:bg-slate-100 rounded-2xl text-slate-400 transition-colors shadow-sm border border-slate-100",children:c.jsx(hu,{size:24})})]}),!N&&c.jsx("div",{className:"px-8 pt-4 flex gap-2 border-b border-slate-100",children:["overview","history","behavior"].map(j=>c.jsx("button",{onClick:()=>D(j),className:`px-5 py-3 rounded-t-2xl text-[10px] font-black uppercase tracking-widest transition-all ${q===j?"bg-white text-slate-900 border border-b-0 border-slate-100 -mb-px":"text-slate-400 hover:text-slate-600"}`,children:j==="overview"?" Viso Geral":j==="history"?" Histrico":" Comportamento"},j))}),c.jsx("div",{className:"p-8 overflow-y-auto bg-white flex-1",children:N?c.jsxs("form",{id:"edit-form",onSubmit:I,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Razo Social"}),c.jsx("input",{required:!0,type:"text",className:"modern-input font-bold",value:(C==null?void 0:C.nome_social)||"",onChange:j=>B(G=>G?{...G,nome_social:j.target.value.toUpperCase()}:null)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Documento"}),c.jsx("input",{type:"text",className:"modern-input",value:(C==null?void 0:C.cpf_cnpj)||"",onChange:j=>B(G=>G?{...G,cpf_cnpj:j.target.value}:null)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"WhatsApp"}),c.jsx("input",{type:"text",className:"modern-input",value:(C==null?void 0:C.whatsapp)||"",onChange:j=>B(G=>G?{...G,whatsapp:j.target.value}:null)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase",children:"Limite de Crdito"}),c.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input bg-emerald-50 border-emerald-100 font-bold text-emerald-700",placeholder:"Limite",value:(C==null?void 0:C.limite_credito)||"",onChange:j=>{const G=j.target.value.replace(",",".");(G===""||/^\d*\.?\d*$/.test(G))&&B(re=>re?{...re,limite_credito:Number(G)||0}:null)}})]})]}):U&&c.jsxs(c.Fragment,{children:[q==="overview"&&c.jsxs("div",{className:"space-y-8 animate-reveal",children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-emerald-50/80 rounded-3xl p-6 border border-emerald-100",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Nd,{size:14,className:"text-emerald-600"}),c.jsx("p",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-widest",children:"Total Faturado"})]}),c.jsx("p",{className:"text-2xl font-extrabold text-emerald-700",children:kt(U.totalFaturado)}),c.jsxs("p",{className:"text-[9px] font-bold text-emerald-500 mt-1",children:[U.totalVendas," vendas  ",R(U.totalKg)]})]}),c.jsxs("div",{className:"bg-blue-50/80 rounded-3xl p-6 border border-blue-100",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(O0,{size:14,className:"text-blue-600"}),c.jsx("p",{className:"text-[9px] font-black text-blue-600 uppercase tracking-widest",children:"Lucro Gerado"})]}),c.jsx("p",{className:"text-2xl font-extrabold text-blue-700",children:kt(U.totalLucro)}),c.jsxs("p",{className:"text-[9px] font-bold text-blue-500 mt-1",children:[U.totalFaturado>0?(U.totalLucro/U.totalFaturado*100).toFixed(1):0,"% margem"]})]}),c.jsxs("div",{className:`rounded-3xl p-6 border ${U.saldoDevedor>.01?"bg-rose-50/80 border-rose-100":"bg-emerald-50/80 border-emerald-100"}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(k0,{size:14,className:U.saldoDevedor>.01?"text-rose-600":"text-emerald-600"}),c.jsx("p",{className:`text-[9px] font-black uppercase tracking-widest ${U.saldoDevedor>.01?"text-rose-600":"text-emerald-600"}`,children:"Saldo Devedor"})]}),c.jsx("p",{className:`text-2xl font-extrabold ${U.saldoDevedor>.01?"text-rose-700":"text-emerald-700"}`,children:kt(U.saldoDevedor)}),c.jsxs("p",{className:`text-[9px] font-bold mt-1 ${U.saldoDevedor>.01?"text-rose-500":"text-emerald-500"}`,children:[U.salesPendentes," venda(s) pendente(s)"]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(M3,{size:14,className:"text-emerald-500"}),c.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Em Dia"})]}),c.jsxs("p",{className:"text-xl font-black text-slate-900",children:[U.percEmDia.toFixed(0),"%"]})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(j0,{size:14,className:"text-amber-500"}),c.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Mdia Atraso"})]}),c.jsxs("p",{className:"text-xl font-black text-slate-900",children:[U.mediaDiasAtraso.toFixed(0)," dias"]})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(WD,{size:14,className:"text-blue-500"}),c.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Mtodo Preferido"})]}),c.jsx("p",{className:"text-xl font-black text-slate-900",children:U.metodoPreferido})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(fu,{size:14,className:"text-purple-500"}),c.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Volume Total"})]}),c.jsx("p",{className:"text-xl font-black text-slate-900",children:R(U.totalKg)})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Canais de Contato"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400",children:c.jsx($3,{size:18})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold text-slate-700",children:E.whatsapp||"No cadastrado"}),c.jsx("a",{href:V(E.whatsapp),target:"_blank",className:"text-[10px] text-blue-500 font-bold hover:underline",children:"Abrir WhatsApp"})]})]}),E.telefone_residencial&&c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400",children:c.jsx($3,{size:18})}),c.jsx("p",{className:"text-sm font-bold text-slate-700",children:E.telefone_residencial})]}),E.endereco&&c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400",children:c.jsx(j1,{size:18})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold text-slate-700",children:E.endereco}),c.jsxs("p",{className:"text-[10px] text-slate-400",children:[E.bairro,E.cidade?`, ${E.cidade}`:""]})]})]})]})]}),c.jsxs("div",{className:"bg-slate-900 rounded-[24px] p-6 text-white relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10",children:c.jsx(wc,{size:60})}),(()=>{const j=Y3(E,i,t0);return c.jsxs("div",{className:"relative z-10",children:[c.jsx("p",{className:"text-[9px] font-black text-blue-400 uppercase tracking-[0.4em] mb-3",children:"Anlise de Crdito"}),c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsxs("h3",{className:"text-3xl font-black italic",children:["CLASSE ",j.tier]}),j.tier==="F"&&c.jsx(MV,{className:"text-rose-500 animate-pulse",size:20}),j.tier==="AAA"&&c.jsx($D,{className:"text-amber-500",size:20})]}),c.jsx("p",{className:`text-xs font-bold ${j.tier==="F"?"text-rose-400":"text-slate-400"}`,children:j.reason}),c.jsx("div",{className:"flex gap-1.5 mt-3",children:[...Array(5)].map((G,re)=>c.jsx(H3,{size:18,className:re<j.stars?"fill-amber-400 text-amber-400":"text-white/10"},re))}),j.tier==="F"&&c.jsxs("div",{className:"bg-rose-500/20 border border-rose-500/30 p-3 rounded-xl flex items-center gap-3 mt-3",children:[c.jsx(pp,{className:"text-rose-500",size:16}),c.jsx("span",{className:"text-[9px] font-black uppercase text-rose-100",children:"Crdito Bloqueado"})]})]})})()]})]}),U.totalTxMetodo>0&&c.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-100",children:[c.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[c.jsx(sV,{size:14})," Distribuio de Mtodos"]}),c.jsx("div",{className:"space-y-3",children:Object.entries(U.metodos).sort((j,G)=>G[1]-j[1]).map(([j,G])=>{const re=G/U.totalTxMetodo*100,J=j==="PIX"?"bg-emerald-500":j==="DINHEIRO"?"bg-amber-500":j==="TRANSFERENCIA"?"bg-blue-500":"bg-slate-400";return c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-[10px] font-black text-slate-600 uppercase w-28",children:j}),c.jsx("div",{className:"flex-1 h-3 bg-white rounded-full overflow-hidden border border-slate-100",children:c.jsx("div",{className:`h-full ${J} rounded-full transition-all duration-700`,style:{width:`${re}%`}})}),c.jsxs("span",{className:"text-[10px] font-black text-slate-500 w-16 text-right",children:[G,"x (",re.toFixed(0),"%)"]})]},j)})})]})]}),q==="history"&&c.jsxs("div",{className:"space-y-4 animate-reveal",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[c.jsx(du,{size:14})," Histrico de Compras"]}),c.jsxs("span",{className:"text-[10px] font-black text-slate-300",children:[U.totalVendas," registro(s)"]})]}),U.clientSales.length===0?c.jsxs("div",{className:"text-center py-16 text-slate-300",children:[c.jsx(fu,{size:48,className:"mx-auto mb-4 opacity-30"}),c.jsx("p",{className:"text-sm font-bold",children:"Nenhuma venda registrada"})]}):c.jsx("div",{className:"overflow-x-auto rounded-2xl border border-slate-100",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-slate-50",children:[c.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase",children:"Data"}),c.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase",children:"Item"}),c.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase text-right",children:"Peso"}),c.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase text-right",children:"Valor"}),c.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase text-right",children:"Pago"}),c.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase text-center",children:"Status"})]})}),c.jsx("tbody",{children:U.clientSales.map((j,G)=>{const re=j.peso_real_saida*j.preco_venda_kg,J=j.valor_pago||0,Z=j.status_pagamento;return c.jsxs("tr",{className:"border-t border-slate-50 hover:bg-blue-50/30 transition-colors",children:[c.jsx("td",{className:"px-4 py-3 text-xs font-bold text-slate-600",children:new Date(j.data_venda).toLocaleDateString("pt-BR")}),c.jsxs("td",{className:"px-4 py-3",children:[c.jsx("p",{className:"text-xs font-bold text-slate-700",children:j.id_completo}),c.jsxs("p",{className:"text-[9px] text-slate-400",children:[j.preco_venda_kg.toFixed(2),"/kg"]})]}),c.jsx("td",{className:"px-4 py-3 text-xs font-bold text-slate-600 text-right",children:R(j.peso_real_saida)}),c.jsx("td",{className:"px-4 py-3 text-xs font-bold text-slate-800 text-right",children:kt(re)}),c.jsx("td",{className:"px-4 py-3 text-xs font-bold text-emerald-600 text-right",children:kt(J)}),c.jsx("td",{className:"px-4 py-3 text-center",children:c.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-1 rounded-lg ${Z==="PAGO"?"bg-emerald-50 text-emerald-600":Z==="PENDENTE"?"bg-amber-50 text-amber-600":"bg-slate-100 text-slate-400"}`,children:Z})})]},G)})})]})})]}),q==="behavior"&&c.jsxs("div",{className:"space-y-8 animate-reveal",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-emerald-50/80 rounded-3xl p-6 border border-emerald-100 text-center",children:[c.jsx(M3,{size:32,className:"text-emerald-500 mx-auto mb-3"}),c.jsx("p",{className:"text-4xl font-black text-emerald-700",children:U.pagasEmDia}),c.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase mt-1",children:"Pagas em Dia"})]}),c.jsxs("div",{className:"bg-rose-50/80 rounded-3xl p-6 border border-rose-100 text-center",children:[c.jsx(gV,{size:32,className:"text-rose-500 mx-auto mb-3"}),c.jsx("p",{className:"text-4xl font-black text-rose-700",children:U.pagasAtrasadas}),c.jsx("p",{className:"text-[10px] font-black text-rose-600 uppercase mt-1",children:"Pagas com Atraso"})]}),c.jsxs("div",{className:"bg-amber-50/80 rounded-3xl p-6 border border-amber-100 text-center",children:[c.jsx(j0,{size:32,className:"text-amber-500 mx-auto mb-3"}),c.jsx("p",{className:"text-4xl font-black text-amber-700",children:U.mediaDiasAtraso.toFixed(0)}),c.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase mt-1",children:"Mdia Dias Atraso"})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-100 shadow-sm",children:[c.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Taxa de Pontualidade"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"flex-1 h-6 bg-slate-100 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-emerald-500 rounded-full transition-all duration-1000",style:{width:`${U.percEmDia}%`}})}),c.jsxs("span",{className:"text-2xl font-black text-slate-900",children:[U.percEmDia.toFixed(0),"%"]})]}),c.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:U.percEmDia>=90?" Excelente pagador  confiana mxima":U.percEmDia>=70?" Bom pagador  pequenos atrasos":U.percEmDia>=50?" Ateno  atrasos frequentes":" Alto risco  maioria das vendas com atraso"})]}),U.vendasVencidas>0&&c.jsxs("div",{className:"bg-rose-50 rounded-2xl p-6 border border-rose-200 flex items-center gap-4",children:[c.jsx(pp,{size:24,className:"text-rose-500"}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-black text-rose-700",children:[U.vendasVencidas," venda(s) vencida(s) agora"]}),c.jsx("p",{className:"text-[10px] text-rose-500 mt-1",children:"Cobrar imediatamente ou renegociar"})]})]}),c.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-100",children:[c.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Resumo Financeiro"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Total Faturado"}),c.jsx("span",{className:"text-sm font-black text-slate-900",children:kt(U.totalFaturado)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs font-bold text-emerald-500",children:"Total Pago"}),c.jsxs("span",{className:"text-sm font-black text-emerald-600",children:["-",kt(U.totalPago)]})]}),c.jsxs("div",{className:"border-t border-slate-200 pt-3 flex justify-between items-center",children:[c.jsx("span",{className:"text-xs font-black text-slate-700",children:"Saldo Devedor"}),c.jsx("span",{className:`text-lg font-black ${U.saldoDevedor>.01?"text-rose-600":"text-emerald-600"}`,children:kt(U.saldoDevedor)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs font-bold text-blue-500",children:"Lucro Gerado"}),c.jsx("span",{className:"text-sm font-black text-blue-600",children:kt(U.totalLucro)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Limite de Crdito"}),c.jsx("span",{className:"text-sm font-black text-slate-600",children:kt(E.limite_credito)})]})]})]})]})]})}),c.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex justify-between items-center",children:N?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>T(!1),className:"text-slate-400 font-bold text-sm px-6",children:"Descartar"}),c.jsxs("button",{form:"edit-form",type:"submit",className:"btn-modern btn-brand px-10 bg-amber-600 hover:bg-amber-700 flex items-center gap-2",children:[c.jsx(k1,{size:18})," Salvar Alteraes"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{B(E),T(!0)},className:"flex items-center gap-2 text-slate-400 font-bold text-sm hover:text-slate-800 transition-colors",children:[c.jsx(KD,{size:18})," Editar Cadastro"]}),U&&U.saldoDevedor>.01&&a&&c.jsxs("button",{onClick:()=>{w(null),a()},className:"btn-modern btn-brand px-10 bg-blue-600 hover:bg-blue-700 flex items-center gap-3 shadow-lg shadow-blue-100",children:[c.jsx(k0,{size:20})," Receber Pagamento",c.jsx(CV,{size:14,className:"opacity-60"})]})]})})]})})]})},Io=({value:t,onValueChange:e,onFocus:n,onBlur:r,...a})=>{const[i,o]=ve.useState(t?String(t):""),u=ve.useRef(!1);return ve.useEffect(()=>{u.current||o(t?String(t):"")},[t]),c.jsx("input",{...a,type:"text",inputMode:"decimal",value:i,onFocus:d=>{u.current=!0,n==null||n(d)},onChange:d=>{const f=d.target.value.replace(",",".");if(f===""||/^\d*\.?\d*$/.test(f)){o(f);const p=parseFloat(f);isNaN(p)?f===""&&e(0):e(p)}},onBlur:d=>{u.current=!1;const f=parseFloat(i)||0;o(f?String(f):""),e(f),r==null||r(d)}})},xA=window.SpeechRecognition||window.webkitSpeechRecognition,Ooe=({batches:t=[],suppliers:e=[],stock:n=[],addBatch:r,updateBatch:a,deleteBatch:i,addStockItem:o,updateStockItem:u,removeStockItem:d,registerBatchFinancial:f,onBack:p,onGoToStock:g})=>{const y=t||[],x=e||[],E=n||[],w=ve.useRef(null);ve.useRef(null);const[N,T]=ve.useState(!1),[C,B]=ve.useState(!1),[q,D]=ve.useState(null),[F,k]=ve.useState(!1),[I,V]=ve.useState(null),[U,M]=ve.useState(null),[R,j]=ve.useState(!1),G=ve.useRef(null),re=ve.useRef(!1);ve.useEffect(()=>{if(xA){const ce=new xA;ce.lang="pt-BR",ce.continuous=!1,ce.interimResults=!1,ce.onresult=ae=>{const nt=ae.results[0][0].transcript.toLowerCase().match(/\d+([.,]\d+)?/g);if(nt&&nt.length>0){const He=nt[0].replace(",",".");K(Ue=>({...Ue,peso:He})),j(!1),re.current&&setTimeout(()=>{G.current&&re.current&&(j(!0),G.current.start())},300)}else j(!1),setTimeout(()=>{G.current&&re.current&&(j(!0),G.current.start())},500)},ce.onerror=ae=>{j(!1),ae.error!=="aborted"&&ae.error!=="no-speech"&&re.current&&setTimeout(()=>{G.current&&re.current&&(j(!0),G.current.start())},500)},ce.onend=()=>j(!1),G.current=ce}},[]);const J=()=>{var ce,ae;R||re.current?(re.current=!1,j(!1),(ce=G.current)==null||ce.stop()):(re.current=!0,j(!0),(ae=G.current)==null||ae.start())},[Z,oe]=ve.useState({id_lote:"",fornecedor:"",data_recebimento:new Date().toISOString().split("T")[0],peso_total_romaneio:0,valor_compra_total:0,frete:0,gastos_extras:0,forma_pagamento:"PRAZO",valor_entrada:0,prazo_dias:30,status:"ABERTO",id_sequencia:1}),ye=ce=>{let ae="LOTE";if(Z&&Z.fornecedor&&typeof Z.fornecedor=="string")try{const tt=Z.fornecedor.toUpperCase().trim();if(tt.length>0){const Ge={:"A",:"A",:"A",:"A",:"A",:"E",:"E",:"E",:"I",:"I",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"C",:"N"},vt=tt.replace(/[^\w\s]/g,_t=>Ge[_t]||"").split(" ").filter(_t=>_t.length>0);if(vt.length>0){const _t=vt[0],Bt=_t.length>=3?_t.substring(0,3):_t.padEnd(3,"X");let At="";vt.length>1&&(At=vt[vt.length-1].charAt(0)),ae=`${Bt}${At}`.replace(/[^A-Z0-9]/g,"")}}}catch{ae="LOTE"}const Ye=new Date,nt=String(Ye.getDate()).padStart(2,"0"),He=String(Ye.getMonth()+1).padStart(2,"0"),Ue=`${nt}${He}`,Ke=`${ae}-${Ue}-`;let et=ce;if(et===void 0){const tt=y.filter(yt=>yt.id_lote&&yt.id_lote.startsWith(Ke));let Ge=0;tt.length>0&&(Ge=tt.reduce((yt,vt)=>{try{const _t=vt.id_lote.split("-"),Bt=_t[_t.length-1],At=parseInt(Bt);return isNaN(At)?yt:Math.max(yt,At)}catch{return yt}},0)),et=Ge+1}return`${Ke}${String(et).padStart(2,"0")}`};ve.useEffect(()=>{!I&&Z.id_lote===""&&oe(ce=>({...ce,id_lote:ye()}))},[I]);const ge=ve.useMemo(()=>U&&U.id_lote===I?U:y.find(ce=>ce.id_lote===I),[I,y,U]),[le,P]=ve.useState([]),H=ve.useMemo(()=>{if(!I||!ge)return null;const ae=[...E.filter(et=>et.id_lote===I),...le.filter(et=>et.id_lote===I)],Ye=ae.reduce((et,tt)=>{const Ge=tt.sequencia;return et[Ge]||(et[Ge]={bandaA:null,bandaB:null,inteiro:null}),tt.tipo===hn.BANDA_A?et[Ge].bandaA=tt:tt.tipo===hn.BANDA_B?et[Ge].bandaB=tt:tt.tipo===hn.INTEIRO&&(et[Ge].inteiro=tt),et},{}),nt=Object.values(Ye).reduce((et,tt)=>{var At,Vt,bt;const Ge=((At=tt.bandaA)==null?void 0:At.peso_entrada)||0,yt=((Vt=tt.bandaB)==null?void 0:Vt.peso_entrada)||0,vt=((bt=tt.inteiro)==null?void 0:bt.peso_entrada)||0,_t=Ge>0&&yt>0?3:0,Bt=vt>0?vt:Ge+yt-_t;return et+Bt},0),He=ge.peso_total_romaneio,Ue=nt-He,Ke=He>0?nt/He*100:0;return{totalWeighed:nt,nfWeight:He,diff:Ue,percent:Ke,count:ae.length}},[I,ge,E,le]),[Q,K]=ve.useState({sequencia:"1",tipo:hn.BANDA_A.toString(),peso:"",pesoA:"",pesoB:""});ve.useEffect(()=>{if(I&&le.length===0){const ce=E.filter(ae=>ae.id_lote===I);if(ce.length>0){const ae=[...ce].sort((He,Ue)=>Ue.sequencia!==He.sequencia?Ue.sequencia-He.sequencia:Ue.tipo-He.tipo)[0];let Ye=ae.sequencia,nt=ae.tipo;ae.tipo===hn.INTEIRO?Ye=ae.sequencia+1:ae.tipo===hn.BANDA_A?nt=hn.BANDA_B:ae.tipo===hn.BANDA_B&&(Ye=ae.sequencia+1,nt=hn.BANDA_A),K(He=>({...He,sequencia:Ye.toString(),tipo:nt.toString()}))}}},[I]);const X=(ge==null?void 0:ge.status)==="FECHADO";ve.useEffect(()=>{I&&w.current&&setTimeout(()=>{var ce;return(ce=w.current)==null?void 0:ce.focus()},500)},[I]);const me=HA(Z.valor_compra_total||0,Z.frete||0,Z.gastos_extras||0,Z.peso_total_romaneio||0),be=async ce=>{ce.preventDefault();const ae=Z.id_lote||ye();if(!Z.peso_total_romaneio)return;const Ye={...Z,id_lote:ae,custo_real_kg:me,status:"ABERTO"};M(Ye),V(ae)},ee=async ce=>{if(!I||X||!Q.sequencia||!Q.peso)return;const ae=parseInt(Q.sequencia),Ye=parseInt(Q.tipo),nt=Ye===hn.BANDA_A?"BANDA_A":Ye===hn.BANDA_B?"BANDA_B":"INTEIRO",He=parseFloat(Q.peso),Ke={id_completo:`${I}-${String(ae).padStart(3,"0")}-${nt}`,id_lote:I,sequencia:ae,tipo:Ye,peso_entrada:He,status:"DISPONIVEL",data_entrada:(ge==null?void 0:ge.data_recebimento)||new Date().toISOString().split("T")[0]};P(Ge=>[...Ge,Ke]);let et=ae,tt=Ye;Ye===hn.INTEIRO?(et=ae+1,tt=hn.INTEIRO):Ye===hn.BANDA_A?(et=ae,tt=hn.BANDA_B):Ye===hn.BANDA_B&&(et=ae+1,tt=hn.BANDA_A),K({sequencia:et.toString(),tipo:tt.toString(),peso:"",pesoA:"",pesoB:""}),setTimeout(()=>{var Ge;return(Ge=w.current)==null?void 0:Ge.focus()},50)},_e=ce=>{if(X)return;le.some(Ye=>Ye.id_completo===ce)?P(Ye=>Ye.filter(nt=>nt.id_completo!==ce)):d&&d(ce)},Se=async()=>{if(!I)return;const ce=le.filter(ae=>ae.id_lote===I);if(ce.length===0){alert("  necessrio cadastrar pelo menos uma pea antes de finalizar!");return}try{if(U&&U.id_lote===I){const ae={...U,status:"FECHADO"},Ye=await r(ae);if(!Ye||!Ye.success){alert(" Erro ao salvar o lote: "+((Ye==null?void 0:Ye.error)||"Erro desconhecido"));return}await f(ae)}else ge&&a&&(await f(ge),await a(ge.id_lote,{status:"FECHADO"}));for(const ae of ce)await o(ae);P(ae=>ae.filter(Ye=>Ye.id_lote!==I)),M(null),T(!1),alert(" Lote finalizado com sucesso!"),g()}catch(ae){console.error("Erro ao finalizar:",ae),alert(" Erro ao finalizar o lote.")}},Ae=ce=>{D({...ce}),B(!0)},Je=async()=>{if(!(!q||!a))try{await a(q.id_lote,q),B(!1),D(null)}catch(ce){console.error("Erro ao salvar lote:",ce)}},Le=async()=>{if(!(!q||!i||!window.confirm(` ESTORNO DE LOTE

Lote: ${q.id_lote} - ${q.fornecedor}

Esta ao ir ESTORNAR o lote inteiro:
 O lote ser marcado como ESTORNADO
 Itens do estoque sero marcados como ESTORNADO
 Contas a pagar sero canceladas/estornadas
 Vendas vinculadas sero estornadas
 Transaes financeiras sero revertidas

 Nenhum dado ser APAGADO  tudo fica registrado como estorno.

Confirma o ESTORNO?`)))try{await i(q.id_lote),alert(" Lote estornado com sucesso! Todos os registros vinculados foram revertidos."),B(!1),D(null)}catch(ae){console.error("Erro ao estornar lote:",ae),alert(" Erro ao estornar o lote.")}};return c.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[c.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("button",{onClick:p,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[c.jsx(Ji,{size:14})," Voltar ao Incio"]}),c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsx("div",{className:`p-3 rounded-2xl text-white shadow-xl ${X?"bg-slate-400":"bg-orange-600 shadow-orange-100"}`,children:c.jsx(wU,{size:28})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Recepo de ",c.jsx("span",{className:"text-orange-600",children:"Lotes"})]}),c.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[c.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest",children:"Fluxo de Entrada / ID-LOG"}),ge&&c.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[9px] font-black uppercase ${X?"bg-slate-100 text-slate-500":"bg-orange-50 text-orange-600"}`,children:[X?c.jsx(E1,{size:10}):c.jsx(iU,{size:10}),X?"Lote Travado":"Acesso Liberado"]})]})]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[!X&&ge&&c.jsxs("button",{onClick:()=>T(!0),className:"btn-modern bg-slate-900 text-white hover:bg-orange-600 px-8 py-4 gap-3 shadow-xl",children:[c.jsx(ic,{size:20})," Finalizar Operao"]}),c.jsxs("div",{className:"relative group",children:[c.jsxs("button",{className:"btn-modern bg-blue-600 text-white hover:bg-blue-700 px-8 py-4 gap-3 shadow-xl",children:[c.jsx(d0,{size:18})," Editar Lotes"]}),c.jsx("div",{className:"hidden group-hover:block absolute top-full right-0 mt-2 bg-white rounded-2xl shadow-2xl border border-slate-100 w-80 max-h-96 overflow-y-auto z-50",children:c.jsx("div",{className:"p-2",children:y.length===0?c.jsx("p",{className:"text-xs text-slate-400 text-center py-8",children:"Nenhum lote cadastrado"}):y.filter(ce=>ce.status!=="ESTORNADO").map(ce=>c.jsx("button",{onClick:()=>Ae(ce),className:"w-full text-left p-3 hover:bg-blue-50 rounded-xl transition-colors group/item",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-black text-xs text-slate-900",children:ce.id_lote}),c.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:ce.fornecedor})]}),c.jsx("div",{className:`px-2 py-1 rounded-lg text-[8px] font-black uppercase ${ce.status==="FECHADO"?"bg-slate-100 text-slate-500":"bg-green-50 text-green-600"}`,children:ce.status})]})},ce.id_lote))})})]})]})]}),c.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[c.jsx("div",{className:"lg:col-span-4 space-y-6",children:c.jsxs("div",{className:"premium-card p-8",children:[c.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[c.jsx(fp,{size:14,className:"text-orange-500"})," Parmetros do Lote"]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-orange-50/50 rounded-2xl p-5 border border-orange-50",children:[c.jsx("label",{className:"text-[10px] font-bold text-orange-600 uppercase tracking-widest block mb-1",children:"Identificador do Lote"}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-2xl font-black text-slate-900 tracking-tight",children:ge?ge.id_lote:Z.id_lote}),!ge&&c.jsxs("div",{className:"flex items-center bg-white rounded-xl border border-orange-100 p-1",children:[c.jsx("button",{onClick:()=>{const ce=Math.max(1,Z.id_sequencia-1);oe({...Z,id_sequencia:ce,id_lote:ye(ce)})},className:"w-8 h-8 rounded-lg flex items-center justify-center hover:bg-orange-50 text-orange-600 font-bold transition-colors",children:c.jsx(T1,{size:16})}),c.jsx("span",{className:"font-bold text-xs w-10 text-center text-slate-600",children:Z.id_sequencia}),c.jsx("button",{onClick:()=>{const ce=Z.id_sequencia+1;oe({...Z,id_sequencia:ce,id_lote:ye(ce)})},className:"w-8 h-8 rounded-lg flex items-center justify-center hover:bg-orange-50 text-orange-600 font-bold transition-colors",children:c.jsx(Tf,{size:16})})]})]})]}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"relative group",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Fornecedor / Fazenda"}),c.jsx("input",{disabled:!!ge,type:"text",className:"modern-input",value:ge?ge.fornecedor:Z.fornecedor,onChange:ce=>{oe(ae=>({...ae,fornecedor:ce.target.value.toUpperCase()})),k(!0)},onBlur:()=>setTimeout(()=>{k(!1),oe(ce=>({...ce,id_lote:ye()}))},200),onFocus:()=>k(!0),placeholder:"BUSCAR FORNECEDOR"}),!ge&&F&&Z.fornecedor&&String(Z.fornecedor).length>0&&c.jsx("div",{className:"absolute top-full left-0 right-0 bg-white shadow-2xl rounded-2xl border border-slate-100 z-50 mt-2 p-2 max-h-48 overflow-y-auto animate-reveal",children:x.filter(ce=>ce.nome_fantasia.toUpperCase().includes(Z.fornecedor.toUpperCase())).map(ce=>c.jsx("div",{className:"p-3 hover:bg-orange-50 hover:text-orange-700 rounded-xl cursor-pointer font-bold text-xs text-slate-600 transition-colors",onClick:()=>{const ae={...Z,fornecedor:ce.nome_fantasia.toUpperCase()};oe(ae),k(!1),setTimeout(()=>{oe(Ye=>({...Ye,id_lote:ye()}))},100)},children:ce.nome_fantasia},ce.id))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Recebimento"}),c.jsx("input",{disabled:!!ge,type:"date",className:"modern-input text-xs",value:ge?ge.data_recebimento:Z.data_recebimento,onChange:ce=>oe({...Z,data_recebimento:ce.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Peso Romaneio (kg)"}),c.jsx(Io,{disabled:!!ge,className:"modern-input font-bold text-lg",placeholder:"Peso em kg",value:ge?ge.peso_total_romaneio:Z.peso_total_romaneio||0,onValueChange:ce=>oe({...Z,peso_total_romaneio:ce})})]})]})]}),!ge&&c.jsxs("div",{className:"pt-6 border-t border-slate-50 space-y-6",children:[c.jsx("h4",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.2em]",children:"Configurao Financeira"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Valor do Gado (R$)"}),c.jsx(Io,{className:"modern-input text-xl font-black bg-slate-50 border-slate-100",placeholder:"Valor total",value:Z.valor_compra_total||0,onValueChange:ce=>oe({...Z,valor_compra_total:ce})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Frete (R$)"}),c.jsx(Io,{className:"modern-input",placeholder:"Frete",value:Z.frete||0,onValueChange:ce=>oe({...Z,frete:ce})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Extras (R$)"}),c.jsx(Io,{className:"modern-input",placeholder:"Extras",value:Z.gastos_extras||0,onValueChange:ce=>oe({...Z,gastos_extras:ce})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 p-1 bg-slate-100 rounded-2xl",children:[c.jsx("button",{onClick:()=>oe({...Z,forma_pagamento:"VISTA"}),className:`py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${Z.forma_pagamento==="VISTA"?"bg-white text-orange-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:" Vista"}),c.jsx("button",{onClick:()=>oe({...Z,forma_pagamento:"PRAZO"}),className:`py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${Z.forma_pagamento==="PRAZO"?"bg-white text-blue-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:" Prazo"})]})]}),c.jsxs("div",{className:"bg-slate-900 rounded-3xl p-6 flex justify-between items-center text-white",children:[c.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Custo Real/Kg:"}),c.jsx("span",{className:"text-2xl font-black text-orange-400",children:kt(me)})]}),c.jsxs("button",{onClick:be,className:"w-full btn-modern btn-brand py-5 bg-orange-600 hover:bg-orange-700 shadow-lg shadow-orange-100",children:[c.jsx(Rs,{size:18})," Iniciar Recepo"]})]})]})]})}),ge&&c.jsxs("div",{className:"lg:col-span-8 space-y-8 animate-reveal",children:[H&&c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Peso Real",value:Sr(H.totalWeighed),icon:Zh,color:"blue"},{label:"NF Esperado",value:Sr(H.nfWeight),icon:fp,color:"slate"},{label:"Variao",value:`${H.diff>0?"+":""}${Sr(H.diff)}`,icon:rV,color:H.diff>=0?"emerald":"rose"},{label:"Contagem",value:`${H.count} Un`,icon:fu,color:"orange"}].map((ce,ae)=>c.jsxs("div",{className:"premium-card p-6 flex flex-col gap-3",children:[c.jsx("div",{className:`w-8 h-8 rounded-xl bg-${ce.color}-50 text-${ce.color}-600 flex items-center justify-center shadow-sm`,children:c.jsx(ce.icon,{size:16})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.15em] mb-1",children:ce.label}),c.jsx("p",{className:"text-xl font-black text-slate-900",children:ce.value})]})]},ae))}),!X&&c.jsxs("div",{className:"premium-card overflow-hidden",children:[c.jsxs("div",{className:"p-3 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[c.jsxs("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[c.jsx(Zh,{size:14,className:"text-orange-500"})," Pesagem Rpida"]}),c.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:"A  B  Prxima | 3kg/carcaa"})]}),c.jsx("div",{className:"p-4 md:p-6 bg-gradient-to-br from-slate-900 to-slate-800",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 md:gap-4 items-center",children:[c.jsxs("div",{className:"md:col-span-2 text-center",children:[c.jsx("div",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Seq"}),c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{type:"button",onClick:()=>K(ce=>({...ce,sequencia:Math.max(1,parseInt(ce.sequencia)-1).toString()})),className:"w-7 h-7 bg-slate-700 rounded-lg flex items-center justify-center text-slate-400 hover:text-white transition-colors",children:c.jsx(T1,{size:12})}),c.jsx("div",{className:"bg-white rounded-xl px-3 py-2 shadow-lg",children:c.jsx("span",{className:"text-2xl md:text-3xl font-black text-slate-900 tracking-tight",children:String(Q.sequencia).padStart(3,"0")})}),c.jsx("button",{type:"button",onClick:()=>K(ce=>({...ce,sequencia:(parseInt(ce.sequencia||"0")+1).toString()})),className:"w-7 h-7 bg-slate-700 rounded-lg flex items-center justify-center text-slate-400 hover:text-white transition-colors",children:c.jsx(Tf,{size:12})})]})]}),c.jsxs("div",{className:"md:col-span-3 text-center",children:[c.jsx("div",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Tipo"}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{type:"button",onClick:()=>K({...Q,tipo:hn.BANDA_A.toString()}),className:`flex-1 py-2 md:py-3 rounded-xl text-xs font-black uppercase transition-all ${Q.tipo===hn.BANDA_A.toString()?"bg-blue-600 text-white shadow-lg shadow-blue-900/50":"bg-slate-700 text-slate-400 hover:text-white"}`,children:"A"}),c.jsx("button",{type:"button",onClick:()=>K({...Q,tipo:hn.BANDA_B.toString()}),className:`flex-1 py-2 md:py-3 rounded-xl text-xs font-black uppercase transition-all ${Q.tipo===hn.BANDA_B.toString()?"bg-emerald-600 text-white shadow-lg shadow-emerald-900/50":"bg-slate-700 text-slate-400 hover:text-white"}`,children:"B"}),c.jsx("button",{type:"button",onClick:()=>K({...Q,tipo:hn.INTEIRO.toString()}),className:`flex-1 py-2 md:py-3 rounded-xl text-xs font-black uppercase transition-all ${Q.tipo===hn.INTEIRO.toString()?"bg-orange-600 text-white shadow-lg shadow-orange-900/50":"bg-slate-700 text-slate-400 hover:text-white"}`,children:"INT"})]})]}),c.jsxs("div",{className:"md:col-span-7",children:[c.jsxs("div",{className:"text-[9px] font-black text-orange-400 uppercase tracking-widest mb-1 flex items-center justify-between",children:[c.jsx("span",{children:"Peso (KG)"}),xA&&c.jsxs("button",{type:"button",onClick:J,className:`flex items-center gap-1 px-2 py-1 rounded-lg text-[8px] transition-all ${R?"bg-rose-600 text-white animate-pulse":"bg-slate-700 text-slate-400 hover:text-white"}`,children:[R?c.jsx(QD,{size:10}):c.jsx(dd,{size:10}),R?"OUVINDO":"VOZ"]})]}),c.jsxs("div",{className:"w-full bg-white rounded-xl py-3 px-4 shadow-xl mb-2 flex items-center justify-between min-h-[60px]",children:[c.jsx("button",{type:"button",onClick:()=>K(ce=>({...ce,peso:ce.peso.slice(0,-1)})),className:"w-10 h-10 rounded-lg bg-slate-100 hover:bg-slate-200 flex items-center justify-center text-slate-500 transition-all active:scale-90",children:""}),c.jsxs("div",{className:"text-4xl md:text-5xl font-black text-slate-900 text-right flex-1 px-2",children:[Q.peso||"0",c.jsx("span",{className:"text-xl text-slate-400 ml-1",children:"kg"})]}),c.jsx("button",{type:"button",onClick:()=>K({...Q,peso:""}),className:"w-10 h-10 rounded-lg bg-rose-100 hover:bg-rose-200 flex items-center justify-center text-rose-500 font-black text-sm transition-all active:scale-90",children:"C"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-1.5",children:[["1","2","3","4","5","6","7","8","9"].map(ce=>c.jsx("button",{type:"button",onClick:()=>K(ae=>({...ae,peso:ae.peso+ce})),className:"h-14 rounded-xl font-black text-2xl bg-slate-100 text-slate-800 hover:bg-slate-200 transition-all active:scale-95 shadow-sm",children:ce},ce)),c.jsx("button",{type:"button",onClick:()=>{Q.peso.includes(".")||K(ce=>({...ce,peso:(ce.peso||"0")+"."}))},className:"h-14 rounded-xl font-black text-2xl bg-slate-300 text-slate-700 hover:bg-slate-400 transition-all active:scale-95 shadow-sm",children:","}),c.jsx("button",{type:"button",onClick:()=>K(ce=>({...ce,peso:ce.peso+"0"})),className:"h-14 rounded-xl font-black text-2xl bg-slate-100 text-slate-800 hover:bg-slate-200 transition-all active:scale-95 shadow-sm",children:"0"}),c.jsx("button",{type:"button",onClick:()=>K(ce=>({...ce,peso:ce.peso+"00"})),className:"h-14 rounded-xl font-black text-xl bg-slate-100 text-slate-800 hover:bg-slate-200 transition-all active:scale-95 shadow-sm",children:"00"})]}),c.jsxs("button",{type:"button",onClick:()=>ee(),className:"w-full h-14 mt-2 rounded-xl font-black text-xl bg-orange-600 text-white hover:bg-orange-500 transition-all active:scale-95 shadow-xl shadow-orange-900/30 flex items-center justify-center gap-2",children:[c.jsx(Tf,{size:24})," ADICIONAR PEA"]})]})]})})]}),c.jsxs("div",{className:"premium-card overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[c.jsxs("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[c.jsx(du,{size:16,className:"text-orange-500"})," Registros Lanados"]}),c.jsxs("span",{className:"text-[10px] font-black bg-slate-900 text-white px-3 py-1.5 rounded-full uppercase",children:[(()=>{const ce=E.filter(nt=>nt.id_lote===I),ae=le.filter(nt=>nt.id_lote===I);return new Set([...ce,...ae].map(nt=>nt.sequencia)).size})()," Carcaas"]})]}),c.jsx("div",{className:"overflow-x-auto max-h-[400px]",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"sticky top-0",children:c.jsxs("tr",{className:"bg-slate-800 text-white",children:[c.jsx("th",{className:"px-3 py-2 text-left text-[10px] font-black uppercase tracking-wider w-16",children:"Seq"}),c.jsx("th",{className:"px-3 py-2 text-left text-[10px] font-black uppercase tracking-wider",children:"ID"}),c.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-blue-800",children:"Banda A"}),c.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-emerald-800",children:"Banda B"}),c.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-rose-800 w-20",children:"Desc."}),c.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-orange-700 w-24",children:"Total"}),c.jsx("th",{className:"px-3 py-2 w-24 text-center text-[10px] font-black uppercase tracking-wider",children:"Aes"})]})}),c.jsx("tbody",{children:(()=>{const ce=E.filter(Ue=>Ue.id_lote===I),ae=le.filter(Ue=>Ue.id_lote===I),Ye=[...ce,...ae],nt={};Ye.forEach(Ue=>{nt[Ue.sequencia]||(nt[Ue.sequencia]={}),Ue.tipo===hn.BANDA_A?nt[Ue.sequencia].bandaA=Ue:Ue.tipo===hn.BANDA_B?nt[Ue.sequencia].bandaB=Ue:Ue.tipo===hn.INTEIRO&&(nt[Ue.sequencia].inteiro=Ue)});const He=Object.keys(nt).map(Number).sort((Ue,Ke)=>Ke-Ue);return He.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"py-16 text-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-30",children:[c.jsx(Zh,{size:48}),c.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"Aguardando Lanamentos"})]})})}):He.map(Ue=>{var Vt,bt,Zn;const Ke=nt[Ue],et=((Vt=Ke.bandaA)==null?void 0:Vt.peso_entrada)||0,tt=((bt=Ke.bandaB)==null?void 0:bt.peso_entrada)||0,Ge=((Zn=Ke.inteiro)==null?void 0:Zn.peso_entrada)||0,vt=et>0&&tt>0?3:0,_t=Ge>0?Ge:et+tt-vt,Bt=ae.some(Jt=>Jt.sequencia===Ue),At=`${I}-${String(Ue).padStart(3,"0")}`;return c.jsxs("tr",{className:`border-b border-slate-100 hover:bg-slate-50 transition-colors ${Bt?"bg-orange-50/50":""}`,children:[c.jsx("td",{className:"px-3 py-2",children:c.jsx("span",{className:"bg-slate-200 px-2 py-1 rounded font-mono font-black text-slate-600",children:String(Ue).padStart(2,"0")})}),c.jsx("td",{className:"px-3 py-2",children:c.jsx("span",{className:"font-mono text-xs text-slate-500",children:At})}),c.jsx("td",{className:"px-3 py-2 text-center bg-blue-50",children:c.jsx("span",{className:"font-bold text-blue-700",children:et>0?et.toFixed(2).replace(".",","):"-"})}),c.jsx("td",{className:"px-3 py-2 text-center bg-emerald-50",children:c.jsx("span",{className:"font-bold text-emerald-700",children:tt>0?tt.toFixed(2).replace(".",","):Ge>0?"INT":"-"})}),c.jsx("td",{className:"px-3 py-2 text-center bg-rose-50",children:c.jsx("span",{className:"font-bold text-rose-600",children:vt>0?vt.toFixed(2).replace(".",","):"-"})}),c.jsx("td",{className:"px-3 py-2 text-center bg-orange-50",children:c.jsx("span",{className:"font-black text-orange-700 text-lg",children:_t.toFixed(2).replace(".",",")})}),c.jsx("td",{className:"px-3 py-2",children:!X&&c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>{K({sequencia:Ue.toString(),tipo:hn.BANDA_A.toString(),peso:"",pesoA:et>0?et.toString():"",pesoB:tt>0?tt.toString():""}),Ke.bandaA&&_e(Ke.bandaA.id_completo),Ke.bandaB&&_e(Ke.bandaB.id_completo),Ke.inteiro&&_e(Ke.inteiro.id_completo)},className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Editar",children:c.jsx(d0,{size:14})}),c.jsx("button",{onClick:()=>{Ke.bandaA&&_e(Ke.bandaA.id_completo),Ke.bandaB&&_e(Ke.bandaB.id_completo),Ke.inteiro&&_e(Ke.inteiro.id_completo)},className:"p-1.5 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all",title:"Excluir",children:c.jsx(QS,{size:14})})]})})]},Ue)})})()})]})})]})]})]}),N&&ge&&(()=>{const ce=(ge.valor_compra_total||0)+(ge.frete||0)+(ge.gastos_extras||0),ae=ge.peso_total_romaneio>0?ce/ge.peso_total_romaneio:0,Ye=ge.forma_pagamento||(U==null?void 0:U.forma_pagamento)||"PRAZO",nt=ge.valor_entrada||(U==null?void 0:U.valor_entrada)||0,He=(H==null?void 0:H.totalWeighed)||0,Ue=ge.peso_total_romaneio,Ke=He-Ue,et=Ue>0?(Ke/Ue*100).toFixed(1):"0";return c.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-reveal overflow-y-auto",children:c.jsxs("div",{className:"bg-white rounded-[48px] shadow-2xl max-w-lg w-full overflow-hidden border border-white my-4",children:[c.jsxs("div",{className:"bg-orange-600 p-8 md:p-12 text-white text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-[28px] flex items-center justify-center mx-auto mb-6",children:c.jsx(ic,{size:40})}),c.jsx("h3",{className:"text-2xl md:text-3xl font-black tracking-tight leading-none uppercase",children:"Conferncia Final"}),c.jsxs("p",{className:"text-[10px] font-bold tracking-[0.2em] mt-3 uppercase text-orange-100 opacity-60",children:[ge.id_lote,"  ",ge.fornecedor]})]}),c.jsxs("div",{className:"p-6 md:p-10 space-y-5",children:[c.jsxs("div",{className:"bg-slate-50 rounded-2xl p-5 space-y-3",children:[c.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Peso: NF vs Pesado"}),c.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"NF (Romaneio)"}),c.jsx("p",{className:"text-xl font-black text-slate-700",children:Sr(Ue)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Peso Real"}),c.jsx("p",{className:"text-xl font-black text-slate-900",children:Sr(He)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Diferena"}),c.jsxs("p",{className:`text-xl font-black ${Ke>=0?"text-emerald-600":"text-rose-600"}`,children:[Ke>=0?"+":"",Ke.toFixed(2)," kg"]}),c.jsxs("p",{className:`text-[9px] font-bold ${Ke>=0?"text-emerald-500":"text-rose-500"}`,children:["(",et,"%)"]})]})]}),c.jsx("div",{className:"text-center pt-2 border-t border-slate-200",children:c.jsxs("span",{className:"text-[10px] font-black bg-slate-900 text-white px-3 py-1 rounded-full uppercase",children:[(H==null?void 0:H.count)||0," peas"]})})]}),c.jsxs("div",{className:"bg-slate-50 rounded-2xl p-5 space-y-3",children:[c.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Financeiro"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-slate-500",children:"Valor do Gado"}),c.jsx("span",{className:"font-bold text-slate-800",children:kt(ge.valor_compra_total)})]}),ge.frete>0&&c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-slate-500",children:"Frete"}),c.jsx("span",{className:"font-bold text-slate-800",children:kt(ge.frete)})]}),ge.gastos_extras>0&&c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-slate-500",children:"Extras"}),c.jsx("span",{className:"font-bold text-slate-800",children:kt(ge.gastos_extras)})]}),c.jsxs("div",{className:"flex justify-between text-xs pt-2 border-t border-slate-200",children:[c.jsx("span",{className:"font-bold text-slate-700",children:"TOTAL CUSTO"}),c.jsx("span",{className:"font-black text-lg text-slate-900",children:kt(ce)})]}),c.jsxs("div",{className:"bg-orange-100 rounded-xl p-3 flex justify-between items-center",children:[c.jsx("span",{className:"text-[10px] font-bold text-orange-700 uppercase",children:"Custo/kg"}),c.jsx("span",{className:"font-black text-orange-700",children:kt(ae)})]})]})]}),c.jsxs("div",{className:"bg-slate-50 rounded-2xl p-5 space-y-2",children:[c.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Pagamento"}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:`text-xs font-black px-3 py-1 rounded-full uppercase ${Ye==="VISTA"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:Ye==="VISTA"?"  Vista":" A Prazo"})}),Ye!=="VISTA"&&c.jsxs("div",{className:"space-y-1 pt-2",children:[nt>0&&c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-slate-500",children:"Entrada"}),c.jsx("span",{className:"font-bold text-emerald-600",children:kt(nt)})]}),c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-slate-500",children:"Restante (A Pagar)"}),c.jsx("span",{className:"font-bold text-rose-600",children:kt(ce-nt)})]})]})]}),c.jsxs("p",{className:"text-[10px] font-medium text-slate-400 leading-relaxed text-center px-4",children:["Ao confirmar, este lote ser ",c.jsx("span",{className:"text-slate-700 font-bold",children:"travado"})," e os itens entraro no estoque."]}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("button",{onClick:Se,className:"btn-modern bg-slate-900 text-white w-full py-5 rounded-2xl hover:bg-orange-600 shadow-xl transition-all font-black uppercase tracking-wider text-sm",children:[c.jsx(ic,{size:20,className:"inline mr-2"}),"Confirmar e Finalizar"]}),c.jsx("button",{onClick:()=>T(!1),className:"btn-modern bg-slate-100 text-slate-600 w-full py-4 rounded-2xl hover:bg-slate-200 transition-all font-black uppercase tracking-wider text-[10px]",children:" Voltar e Corrigir"})]})]})]})})})(),C&&q&&c.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-reveal overflow-y-auto",children:c.jsxs("div",{className:"bg-white rounded-[48px] shadow-2xl max-w-2xl w-full overflow-hidden border border-white my-8",children:[c.jsxs("div",{className:"bg-blue-600 p-12 text-white text-center",children:[c.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-[32px] flex items-center justify-center mx-auto mb-8",children:c.jsx(d0,{size:48})}),c.jsx("h3",{className:"text-3xl font-black tracking-tight leading-none uppercase",children:"Editar Lote"}),c.jsx("p",{className:"text-[10px] font-bold tracking-[0.2em] mt-4 uppercase text-blue-100 opacity-60",children:q.id_lote})]}),c.jsxs("div",{className:"p-12 space-y-6 max-h-[60vh] overflow-y-auto",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Fornecedor"}),c.jsx("input",{type:"text",className:"modern-input w-full",value:q.fornecedor,onChange:ce=>D({...q,fornecedor:ce.target.value.toUpperCase()})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Peso Romaneio (kg)"}),c.jsx(Io,{className:"modern-input w-full font-bold text-lg",placeholder:"Peso em kg",value:q.peso_total_romaneio||0,onValueChange:ce=>D({...q,peso_total_romaneio:ce})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Data Recebimento"}),c.jsx("input",{type:"date",className:"modern-input w-full",value:q.data_recebimento,onChange:ce=>D({...q,data_recebimento:ce.target.value})})]})]}),c.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[c.jsx("h4",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.2em] mb-4",children:"Valores Financeiros"}),q.status==="FECHADO"&&c.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-3 mb-4 flex items-start gap-2",children:[c.jsx(E1,{size:14,className:"text-amber-600 mt-0.5 shrink-0"}),c.jsx("p",{className:"text-[10px] font-bold text-amber-700",children:"Lote FECHADO  valores financeiros bloqueados. Para corrigir, faa o ESTORNO do lote e recadastre."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Valor do Gado (R$)"}),c.jsx(Io,{className:`modern-input w-full text-xl font-black ${q.status==="FECHADO"?"opacity-50 cursor-not-allowed bg-slate-100":""}`,placeholder:"Valor total",value:q.valor_compra_total||0,disabled:q.status==="FECHADO",onValueChange:ce=>D({...q,valor_compra_total:ce})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Frete (R$)"}),c.jsx(Io,{className:`modern-input w-full ${q.status==="FECHADO"?"opacity-50 cursor-not-allowed bg-slate-100":""}`,placeholder:"Frete",value:q.frete||0,disabled:q.status==="FECHADO",onValueChange:ce=>D({...q,frete:ce})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Extras (R$)"}),c.jsx(Io,{className:`modern-input w-full ${q.status==="FECHADO"?"opacity-50 cursor-not-allowed bg-slate-100":""}`,placeholder:"Extras",value:q.gastos_extras||0,disabled:q.status==="FECHADO",onValueChange:ce=>D({...q,gastos_extras:ce})})]})]}),c.jsxs("div",{className:"bg-slate-900 rounded-2xl p-4 flex justify-between items-center",children:[c.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Custo Real/Kg:"}),c.jsx("span",{className:"text-xl font-black text-orange-400",children:kt(HA(q.valor_compra_total,q.frete,q.gastos_extras,q.peso_total_romaneio))})]})]})]}),c.jsxs("div",{className:"flex flex-col gap-3 pt-6",children:[c.jsxs("button",{onClick:Je,className:"btn-modern bg-blue-600 text-white w-full py-5 rounded-2xl hover:bg-blue-700 shadow-xl transition-all",children:[c.jsx(ic,{size:20,className:"inline mr-2"}),"Salvar Alteraes"]}),c.jsxs("button",{onClick:Le,className:"btn-modern bg-amber-500 text-white w-full py-4 rounded-2xl hover:bg-amber-600 shadow-xl transition-all border-2 border-amber-600",children:[c.jsx(hp,{size:18,className:"inline mr-2"}),"Estornar Lote"]}),c.jsx("button",{onClick:()=>{B(!1),D(null)},className:"text-[10px] font-black text-slate-400 hover:text-slate-600 uppercase tracking-[0.2em] py-2",children:"Cancelar"})]})]})]})})]})},koe=({stock:t,batches:e,sales:n,clients:r,updateBatch:a,deleteBatch:i,onBack:o})=>{const[u,d]=ve.useState("available"),[f,p]=ve.useState(""),[g,y]=ve.useState([]),x=t.filter(R=>R.status==="DISPONIVEL"),E=t.filter(R=>R.status==="VENDIDO"),w=ve.useMemo(()=>{const R=new Map;return x.forEach(j=>{if(f&&!j.id_completo.toLowerCase().includes(f.toLowerCase())&&!j.id_lote.toLowerCase().includes(f.toLowerCase()))return;if(!R.has(j.id_lote)){const re=e.find(J=>J.id_lote===j.id_lote);if(!re||re.status!=="FECHADO")return;R.set(j.id_lote,{batch:re,items:[],sequences:new Map})}const G=R.get(j.id_lote);G.items.push(j),G.sequences.has(j.sequencia)||G.sequences.set(j.sequencia,[]),G.sequences.get(j.sequencia).push(j)}),Array.from(R.values()).sort((j,G)=>{const re=j.batch?new Date(j.batch.data_recebimento).getTime():0;return(G.batch?new Date(G.batch.data_recebimento).getTime():0)-re})},[x,e,f]),N=R=>{y(j=>j.includes(R)?j.filter(G=>G!==R):[...j,R])},[T,C]=ve.useState(!1),[B,q]=ve.useState(null),D=R=>{q({...R}),C(!0)},F=async()=>{if(!(!B||!a))try{await a(B.id_lote,B),C(!1),q(null)}catch(R){console.error("Erro ao salvar lote:",R)}},k=async()=>{if(!(!B||!i||!window.confirm(` ESTORNO DE LOTE

Voc est prestes a ESTORNAR o lote:
${B.id_lote} - ${B.fornecedor}

Esta ao ir:
 Marcar o lote como ESTORNADO
 Estornar vendas e devolver estoque
 Criar transaes inversas no financeiro
 Manter histrico completo para auditoria

Deseja continuar?`)))try{await i(B.id_lote),alert(" Lote estornado com sucesso!"),C(!1),q(null)}catch(j){console.error("Erro ao estornar lote:",j),alert(" Erro ao estornar o lote.")}},I=ve.useMemo(()=>E.map(R=>{const j=n.find(re=>re.id_completo===R.id_completo),G=j?r.find(re=>re.id_ferro===j.id_cliente):null;return{item:R,sale:j,client:G}}).sort((R,j)=>R.sale&&j.sale?new Date(j.sale.data_venda).getTime()-new Date(R.sale.data_venda).getTime():0),[E,n,r]),V=ve.useMemo(()=>{const R=new Map;return I.forEach(({item:j,sale:G,client:re})=>{if(!(f&&!j.id_completo.toLowerCase().includes(f.toLowerCase())&&!j.id_lote.toLowerCase().includes(f.toLowerCase()))){if(!R.has(j.id_lote)){const J=e.find(Z=>Z.id_lote===j.id_lote);if(!J||J.status!=="FECHADO")return;R.set(j.id_lote,{batch:J,items:[]})}R.get(j.id_lote).items.push({item:j,sale:G,client:re})}}),Array.from(R.values()).sort((j,G)=>{const re=j.batch?new Date(j.batch.data_recebimento).getTime():0;return(G.batch?new Date(G.batch.data_recebimento).getTime():0)-re})},[I,e,f]),U=ve.useMemo(()=>{const R=new Map;n.forEach(G=>{const re=t.find(ye=>ye.id_completo===G.id_completo),J=re?e.find(ye=>ye.id_lote===re.id_lote):null,Z=(J==null?void 0:J.fornecedor)||"Desconhecido";R.has(Z)||R.set(Z,{totalWeight:0,totalBreakage:0,count:0});const oe=R.get(Z);oe.totalWeight+=G.peso_real_saida,oe.totalBreakage+=G.quebra_kg||0,oe.count+=1});const j=new Map;return R.forEach((G,re)=>{const J=G.totalWeight+G.totalBreakage,Z=J>0?G.totalBreakage/J*100:0;let oe="regular";Z<1.5?oe="top":Z>3&&(oe="poor"),j.set(re,{avgBreakagePct:Z,quality:oe})}),j},[n,e,t]),M=I.reduce((R,j)=>R+(j.sale?j.sale.peso_real_saida*j.sale.preco_venda_kg:0),0);return c.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[c.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("button",{onClick:o,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[c.jsx(Ji,{size:14})," Voltar ao Incio"]}),c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-xl shadow-blue-100",children:c.jsx(S1,{size:28})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Gesto de ",c.jsx("span",{className:"text-blue-600",children:"Estoque"})]}),c.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[c.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest",children:"Controle de Inventrio / ID-INV"}),c.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-emerald-50 text-emerald-600 rounded-full text-[9px] font-black uppercase",children:[c.jsx(wc,{size:10})," Unidade Sincronizada"]})]})]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto",children:[c.jsxs("div",{className:"relative group w-full sm:w-80",children:[c.jsx(Hp,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors",size:16}),c.jsx("input",{type:"text",placeholder:"Buscar por Lote ou ID...",className:"modern-input pl-12 bg-white",value:f,onChange:R=>p(R.target.value)})]}),c.jsxs("div",{className:"flex p-1 bg-white border border-slate-100 rounded-2xl shadow-sm",children:[c.jsxs("button",{onClick:()=>d("available"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 ${u==="available"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[c.jsx(XV,{size:14})," Disponvel"]}),c.jsxs("button",{onClick:()=>d("sold"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 ${u==="sold"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[c.jsx(L3,{size:14})," Vendido"]})]})]})]}),u==="available"?c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-reveal",children:[w.length===0&&c.jsxs("div",{className:"py-32 text-center premium-card",children:[c.jsx(S1,{size:64,className:"mx-auto mb-6 text-slate-100"}),c.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"O estoque est vazio no momento"})]}),w.map(({batch:R,items:j,sequences:G})=>{var ge,le,P;const re=R?R.id_lote:j[0].id_lote,J=g.includes(re)||f.length>0,Z=j.reduce((H,Q)=>{const K=Q.sequencia;return H[K]||(H[K]={bandaA:null,bandaB:null,inteiro:null}),Q.tipo===hn.BANDA_A?H[K].bandaA=Q:Q.tipo===hn.BANDA_B?H[K].bandaB=Q:Q.tipo===hn.INTEIRO&&(H[K].inteiro=Q),H},{}),oe=Object.values(Z).reduce((H,Q)=>{var _e,Se,Ae;const K=((_e=Q.bandaA)==null?void 0:_e.peso_entrada)||0,X=((Se=Q.bandaB)==null?void 0:Se.peso_entrada)||0,me=((Ae=Q.inteiro)==null?void 0:Ae.peso_entrada)||0,be=K>0&&X>0?3:0,ee=me>0?me:K+X-be;return H+ee},0),ye=R?O$(R.data_recebimento):0;return c.jsxs("div",{className:"premium-card overflow-hidden",children:[c.jsxs("div",{onClick:()=>N(re),className:`p-6 flex flex-col lg:flex-row items-center justify-between cursor-pointer transition-all gap-6 ${J?"bg-slate-50/50":"hover:bg-slate-50"}`,children:[c.jsxs("div",{className:"flex items-center gap-6 w-full lg:w-auto",children:[c.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center transition-all shadow-sm ${J?"bg-blue-600 text-white":"bg-slate-50 text-slate-400"}`,children:J?c.jsx(FV,{size:24}):c.jsx(zV,{size:24})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[c.jsx("h3",{className:"text-xl font-extrabold tracking-tight text-slate-900",children:(R==null?void 0:R.fornecedor)||"Fornecedor N/A"}),R&&c.jsxs("div",{className:"flex gap-2",children:[(()=>{const H=k$(ye);return c.jsxs("span",{className:`flex items-center gap-1.5 text-[9px] font-black ${H.color} ${H.bg} px-2.5 py-1 rounded-full uppercase tracking-widest border ${H.border} shadow-sm`,children:[H.status==="fresh"&&c.jsx(a$,{size:10}),H.status==="prime"&&c.jsx($D,{size:10}),H.status==="warning"&&c.jsx(j0,{size:10}),H.status==="critical"&&c.jsx(E0,{size:10}),H.label," (",ye,"d)"]})})(),(R==null?void 0:R.fornecedor)&&U.has(R.fornecedor)&&c.jsxs("span",{className:`flex items-center gap-1.5 text-[9px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest border shadow-sm ${((ge=U.get(R.fornecedor))==null?void 0:ge.quality)==="top"?"bg-indigo-50 text-indigo-600 border-indigo-100":((le=U.get(R.fornecedor))==null?void 0:le.quality)==="poor"?"bg-orange-50 text-orange-600 border-orange-100":"bg-slate-50 text-slate-600 border-slate-100"}`,children:[c.jsx(EV,{size:10})," ",((P=U.get(R.fornecedor))==null?void 0:P.quality)==="top"?"Gentica Premium":"Gado Regular"]})]})]}),c.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[c.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["ID-LOTE: ",c.jsx("span",{className:"text-slate-900",children:re})]}),c.jsx("div",{className:"w-1 h-1 bg-slate-200 rounded-full"}),c.jsxs("span",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest",children:["Entrada: ",R!=null&&R.data_recebimento?new Date(R.data_recebimento).toLocaleDateString():"N/A"]})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between w-full lg:w-auto gap-10",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Peas"}),c.jsxs("p",{className:"text-xl font-extrabold text-slate-800",children:[j.length," UN"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Peso Total"}),c.jsx("div",{className:"bg-emerald-50 px-4 py-2 rounded-xl border border-emerald-100",children:c.jsx("p",{className:"text-xl font-extrabold text-emerald-700",children:Sr(oe)})})]}),c.jsx("div",{className:"flex items-center gap-2",children:R&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:H=>{H.stopPropagation(),D(R)},className:"w-10 h-10 rounded-xl bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center transition-all shadow-lg hover:scale-110",title:"Editar lote",children:c.jsx(d0,{size:16})}),c.jsx("button",{onClick:H=>{H.stopPropagation(),D(R)},className:"w-10 h-10 rounded-xl bg-amber-500 hover:bg-amber-600 text-white flex items-center justify-center transition-all shadow-lg hover:scale-110",title:"Estornar lote",children:c.jsx(hp,{size:16})})]})}),c.jsx("div",{className:`transition-all duration-300 ${J?"rotate-90 text-blue-600":"text-slate-300"}`,children:c.jsx(_c,{size:24})})]})]}),J&&c.jsx("div",{className:"p-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 bg-white border-t border-slate-50 animate-reveal",children:Array.from(G.entries()).sort((H,Q)=>H[0]-Q[0]).map(([H,Q])=>{const K=Q.some(_e=>_e.tipo===hn.INTEIRO),X=Q.some(_e=>_e.tipo===hn.BANDA_A),me=Q.some(_e=>_e.tipo===hn.BANDA_B),be=K||X&&me,ee=Q.reduce((_e,Se)=>_e+Se.peso_entrada,0);return c.jsxs("div",{className:"group p-5 rounded-2xl border border-slate-100 hover:border-blue-100 hover:bg-blue-50/20 transition-all flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("span",{className:"text-[10px] font-black bg-slate-100 text-slate-500 px-2 py-0.5 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors uppercase",children:["#",String(H).padStart(3,"0")]}),c.jsx("span",{className:"text-lg font-black text-slate-800",children:Sr(ee)})]}),c.jsxs("div",{className:"space-y-2 flex-1",children:[Q.map(_e=>c.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold",children:[c.jsxs("span",{className:"flex items-center gap-1.5 text-slate-500",children:[c.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${_e.tipo===hn.BANDA_A?"bg-orange-500 shadow-[0_0_8px_rgba(249,115,22,0.4)]":_e.tipo===hn.BANDA_B?"bg-blue-500 shadow-[0_0_8px_rgba(37,99,235,0.4)]":"bg-slate-900 shadow-[0_0_8px_rgba(15,23,42,0.4)]"}`}),K3(_e.tipo).toUpperCase()]}),c.jsx("span",{className:"text-slate-900 bg-slate-50 px-2 py-0.5 rounded-lg",children:Sr(_e.peso_entrada)})]},_e.id_completo)),!be&&!K&&c.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-50 text-[8px] text-orange-600 font-black flex items-center gap-1.5 uppercase tracking-widest animate-pulse",children:[c.jsx(pp,{size:10})," Parcial / Incompleto"]})]})]},H)})})]},re)})]}):c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-reveal",children:[c.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-10 text-white relative shadow-2xl shadow-slate-200 overflow-hidden",children:[c.jsx("div",{className:"absolute top-[-10%] right-[-5%] opacity-10 pointer-events-none transform rotate-12",children:c.jsx(L3,{size:200})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-10 relative z-10",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full shadow-[0_0_12px_rgba(249,115,22,0.8)]"}),c.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Acumulado em Vendas"})]}),c.jsx("h3",{className:"text-6xl md:text-7xl font-black tracking-tighter",children:kt(M)})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 min-w-[240px] border border-white/10",children:[c.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mb-2",children:"Despachos Efetuados"}),c.jsxs("div",{className:"flex items-baseline gap-2",children:[c.jsx("p",{className:"text-5xl font-black",children:E.length}),c.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Unidades"})]})]})]})]}),c.jsx("div",{className:"space-y-8",children:V.map(({batch:R,items:j})=>{const G=j.reduce((Z,{sale:oe})=>Z+(oe?oe.peso_real_saida*oe.preco_venda_kg:0),0),re=j.reduce((Z,{sale:oe,item:ye})=>!oe||!R?Z:Z+oe.peso_real_saida*(Number(R.custo_real_kg)||0)+(oe.custo_extras_total||0),0),J=G-re;return c.jsxs("div",{className:"premium-card overflow-hidden",children:[c.jsxs("div",{className:"p-8 flex flex-col md:flex-row justify-between items-center gap-10 bg-slate-50/50 border-b border-slate-50",children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm border border-slate-100 flex items-center justify-center text-slate-900",children:c.jsx(Yz,{size:28})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-2xl font-black tracking-tight text-slate-900",children:R?`Lote ${R.id_lote}`:"Lote no vinculado"}),c.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[c.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:(R==null?void 0:R.fornecedor)||"Desconhecido"}),c.jsx("div",{className:"w-1 h-1 bg-slate-200 rounded-full"}),c.jsxs("span",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest",children:["Custo Base: ",kt((R==null?void 0:R.custo_real_kg)||0),"/kg"]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-10 bg-white px-8 py-5 rounded-3xl border border-slate-100 shadow-sm",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest mb-1",children:"Lucro Operacional"}),c.jsx("p",{className:`text-2xl font-black ${J>=0?"text-emerald-600":"text-rose-600"}`,children:kt(J)})]}),c.jsx("div",{className:"w-px h-10 bg-slate-100"}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest mb-1",children:"Qtd Vendida"}),c.jsxs("span",{className:"text-2xl font-black text-slate-800",children:[j.length," PC"]})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"technical-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Data"}),c.jsx("th",{children:"ID / Especificao"}),c.jsx("th",{children:"Cliente / Destino"}),c.jsx("th",{className:"text-right",children:"Peso Sada"}),c.jsx("th",{className:"text-right",children:"Total Venda"}),c.jsx("th",{className:"text-right",children:"Margem"})]})}),c.jsx("tbody",{children:j.map(({item:Z,sale:oe,client:ye})=>{const ge=oe?oe.peso_real_saida*oe.preco_venda_kg:0,le=R&&Number(R.custo_real_kg)||0,P=oe?oe.peso_real_saida*le+(oe.custo_extras_total||0):0,H=ge-P;return c.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[c.jsx("td",{className:"text-[10px] font-medium text-slate-400 uppercase",children:oe?new Date(oe.data_venda).toLocaleDateString():"N/A"}),c.jsxs("td",{children:[c.jsx("div",{className:"text-[10px] font-black text-slate-900 tracking-tighter uppercase",children:Z.id_completo}),c.jsx("div",{className:"text-[9px] font-bold text-slate-400 mt-0.5 uppercase tracking-widest",children:K3(Z.tipo)})]}),c.jsx("td",{children:ye?c.jsx("span",{className:"text-[10px] font-black uppercase tracking-tight text-slate-700",children:ye.nome_social}):c.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:(oe==null?void 0:oe.nome_cliente)||"Direto"})}),c.jsx("td",{className:"text-right font-black text-slate-900",children:oe?Sr(oe.peso_real_saida):"-"}),c.jsx("td",{className:"text-right font-black text-blue-600",children:kt(ge)}),c.jsx("td",{className:"text-right",children:c.jsx("div",{className:`inline-flex px-3 py-1 rounded-lg font-black text-sm ${H>=0?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:kt(H)})})]},Z.id_completo)})})]})})]},R?R.id_lote:"unknown")})})]}),T&&B&&c.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-reveal overflow-y-auto",children:c.jsxs("div",{className:"bg-white rounded-[48px] shadow-2xl max-w-2xl w-full overflow-hidden border border-white my-8",children:[c.jsxs("div",{className:"bg-blue-600 p-12 text-white text-center",children:[c.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-[32px] flex items-center justify-center mx-auto mb-8",children:c.jsx(d0,{size:48})}),c.jsx("h3",{className:"text-3xl font-black tracking-tight leading-none uppercase",children:"Editar Lote"}),c.jsx("p",{className:"text-[10px] font-bold tracking-[0.2em] mt-4 uppercase text-blue-100 opacity-60",children:B.id_lote})]}),c.jsxs("div",{className:"p-12 space-y-6 max-h-[60vh] overflow-y-auto",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Fornecedor"}),c.jsx("input",{type:"text",className:"modern-input w-full",value:B.fornecedor,onChange:R=>q({...B,fornecedor:R.target.value.toUpperCase()})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Peso Romaneio (kg)"}),c.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input w-full font-bold text-lg",placeholder:"Peso em kg",value:B.peso_total_romaneio||"",onChange:R=>{const j=R.target.value.replace(",",".");(j===""||/^\d*\.?\d*$/.test(j))&&q({...B,peso_total_romaneio:parseFloat(j)||0})}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Data Recebimento"}),c.jsx("input",{type:"date",className:"modern-input w-full",value:B.data_recebimento,onChange:R=>q({...B,data_recebimento:R.target.value})})]})]}),c.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[c.jsx("h4",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.2em] mb-4",children:"Valores Financeiros"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Valor do Gado (R$)"}),c.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input w-full text-xl font-black",placeholder:"Valor total",value:B.valor_compra_total||"",onChange:R=>{const j=R.target.value.replace(",",".");(j===""||/^\d*\.?\d*$/.test(j))&&q({...B,valor_compra_total:parseFloat(j)||0})}})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Frete (R$)"}),c.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input w-full",placeholder:"Frete",value:B.frete||"",onChange:R=>{const j=R.target.value.replace(",",".");(j===""||/^\d*\.?\d*$/.test(j))&&q({...B,frete:parseFloat(j)||0})}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Extras (R$)"}),c.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input w-full",placeholder:"Extras",value:B.gastos_extras||"",onChange:R=>{const j=R.target.value.replace(",",".");(j===""||/^\d*\.?\d*$/.test(j))&&q({...B,gastos_extras:parseFloat(j)||0})}})]})]}),c.jsxs("div",{className:"bg-slate-900 rounded-2xl p-4 flex justify-between items-center",children:[c.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Custo Real/Kg:"}),c.jsx("span",{className:"text-xl font-black text-orange-400",children:kt(HA(B.valor_compra_total,B.frete,B.gastos_extras,B.peso_total_romaneio))})]})]})]}),c.jsxs("div",{className:"flex flex-col gap-3 pt-6",children:[c.jsxs("button",{onClick:F,className:"btn-modern bg-blue-600 text-white w-full py-5 rounded-2xl hover:bg-blue-700 shadow-xl transition-all",children:[c.jsx(N1,{size:20,className:"inline mr-2"}),"Salvar Alteraes"]}),c.jsxs("button",{onClick:k,className:"btn-modern bg-amber-500 text-white w-full py-4 rounded-2xl hover:bg-amber-600 shadow-xl transition-all border-2 border-amber-600",children:[c.jsx(hp,{size:18,className:"inline mr-2"}),"Estornar Lote"]}),c.jsx("button",{onClick:()=>{C(!1),q(null)},className:"text-[10px] font-black text-slate-400 hover:text-slate-600 uppercase tracking-[0.2em] py-2",children:"Cancelar"})]})]})]})})]})},Coe="modulepreload",Ioe=function(t){return"/"+t},IR={},lS=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let o=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=o(n.map(f=>{if(f=Ioe(f),f in IR)return;IR[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":Coe,p||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),p)return new Promise((x,E)=>{y.addEventListener("load",x),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return a.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};function hr(t){"@babel/helpers - typeof";return hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hr(t)}var Qi=Uint8Array,io=Uint16Array,a4=Int32Array,Cx=new Qi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ix=new Qi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),cS=new Qi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l9=function(t,e){for(var n=new io(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var a=new a4(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)a[i]=i-n[r]<<5|r;return{b:n,r:a}},c9=l9(Cx,2),u9=c9.b,uS=c9.r;u9[28]=258,uS[258]=28;var d9=l9(Ix,0),Poe=d9.b,PR=d9.r,dS=new io(32768);for(var $r=0;$r<32768;++$r){var sd=($r&43690)>>1|($r&21845)<<1;sd=(sd&52428)>>2|(sd&13107)<<2,sd=(sd&61680)>>4|(sd&3855)<<4,dS[$r]=((sd&65280)>>8|(sd&255)<<8)>>1}var hc=(function(t,e,n){for(var r=t.length,a=0,i=new io(e);a<r;++a)t[a]&&++i[t[a]-1];var o=new io(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var u;if(n){u=new io(1<<e);var d=15-e;for(a=0;a<r;++a)if(t[a])for(var f=a<<4|t[a],p=e-t[a],g=o[t[a]-1]++<<p,y=g|(1<<p)-1;g<=y;++g)u[dS[g]>>d]=f}else for(u=new io(r),a=0;a<r;++a)t[a]&&(u[a]=dS[o[t[a]-1]++]>>15-t[a]);return u}),Pd=new Qi(288);for(var $r=0;$r<144;++$r)Pd[$r]=8;for(var $r=144;$r<256;++$r)Pd[$r]=9;for(var $r=256;$r<280;++$r)Pd[$r]=7;for(var $r=280;$r<288;++$r)Pd[$r]=8;var hg=new Qi(32);for(var $r=0;$r<32;++$r)hg[$r]=5;var Roe=hc(Pd,9,0),Doe=hc(Pd,9,1),Loe=hc(hg,5,0),Moe=hc(hg,5,1),bA=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},dl=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},_A=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},i4=function(t){return(t+7)/8|0},f9=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Qi(t.subarray(e,n))},Boe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],hl=function(t,e,n){var r=new Error(e||Boe[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,hl),!n)throw r;return r},Foe=function(t,e,n,r){var a=t.length,i=0;if(!a||e.f&&!e.l)return n||new Qi(0);var o=!n,u=o||e.i!=2,d=e.i;o&&(n=new Qi(a*3));var f=function(Se){var Ae=n.length;if(Se>Ae){var Je=new Qi(Math.max(Ae*2,Se));Je.set(n),n=Je}},p=e.f||0,g=e.p||0,y=e.b||0,x=e.l,E=e.d,w=e.m,N=e.n,T=a*8;do{if(!x){p=dl(t,g,1);var C=dl(t,g+1,3);if(g+=3,C)if(C==1)x=Doe,E=Moe,w=9,N=5;else if(C==2){var F=dl(t,g,31)+257,k=dl(t,g+10,15)+4,I=F+dl(t,g+5,31)+1;g+=14;for(var V=new Qi(I),U=new Qi(19),M=0;M<k;++M)U[cS[M]]=dl(t,g+M*3,7);g+=k*3;for(var R=bA(U),j=(1<<R)-1,G=hc(U,R,1),M=0;M<I;){var re=G[dl(t,g,j)];g+=re&15;var B=re>>4;if(B<16)V[M++]=B;else{var J=0,Z=0;for(B==16?(Z=3+dl(t,g,3),g+=2,J=V[M-1]):B==17?(Z=3+dl(t,g,7),g+=3):B==18&&(Z=11+dl(t,g,127),g+=7);Z--;)V[M++]=J}}var oe=V.subarray(0,F),ye=V.subarray(F);w=bA(oe),N=bA(ye),x=hc(oe,w,1),E=hc(ye,N,1)}else hl(1);else{var B=i4(g)+4,q=t[B-4]|t[B-3]<<8,D=B+q;if(D>a){d&&hl(0);break}u&&f(y+q),n.set(t.subarray(B,D),y),e.b=y+=q,e.p=g=D*8,e.f=p;continue}if(g>T){d&&hl(0);break}}u&&f(y+131072);for(var ge=(1<<w)-1,le=(1<<N)-1,P=g;;P=g){var J=x[_A(t,g)&ge],H=J>>4;if(g+=J&15,g>T){d&&hl(0);break}if(J||hl(2),H<256)n[y++]=H;else if(H==256){P=g,x=null;break}else{var Q=H-254;if(H>264){var M=H-257,K=Cx[M];Q=dl(t,g,(1<<K)-1)+u9[M],g+=K}var X=E[_A(t,g)&le],me=X>>4;X||hl(3),g+=X&15;var ye=Poe[me];if(me>3){var K=Ix[me];ye+=_A(t,g)&(1<<K)-1,g+=K}if(g>T){d&&hl(0);break}u&&f(y+131072);var be=y+Q;if(y<ye){var ee=i-ye,_e=Math.min(ye,be);for(ee+y<0&&hl(3);y<_e;++y)n[y]=r[ee+y]}for(;y<be;++y)n[y]=n[y-ye]}}e.l=x,e.p=P,e.b=y,e.f=p,x&&(p=1,e.m=w,e.d=E,e.n=N)}while(!p);return y!=n.length&&o?f9(n,0,y):n.subarray(0,y)},nu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Qm=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},wA=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var a=n.length,i=n.slice();if(!a)return{t:p9,l:0};if(a==1){var o=new Qi(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(D,F){return D.f-F.f}),n.push({s:-1,f:25001});var u=n[0],d=n[1],f=0,p=1,g=2;for(n[0]={s:-1,f:u.f+d.f,l:u,r:d};p!=a-1;)u=n[n[f].f<n[g].f?f++:g++],d=n[f!=p&&n[f].f<n[g].f?f++:g++],n[p++]={s:-1,f:u.f+d.f,l:u,r:d};for(var y=i[0].s,r=1;r<a;++r)i[r].s>y&&(y=i[r].s);var x=new io(y+1),E=fS(n[p-1],x,0);if(E>e){var r=0,w=0,N=E-e,T=1<<N;for(i.sort(function(F,k){return x[k.s]-x[F.s]||F.f-k.f});r<a;++r){var C=i[r].s;if(x[C]>e)w+=T-(1<<E-x[C]),x[C]=e;else break}for(w>>=N;w>0;){var B=i[r].s;x[B]<e?w-=1<<e-x[B]++-1:++r}for(;r>=0&&w;--r){var q=i[r].s;x[q]==e&&(--x[q],++w)}E=e}return{t:new Qi(x),l:E}},fS=function(t,e,n){return t.s==-1?Math.max(fS(t.l,e,n+1),fS(t.r,e,n+1)):e[t.s]=n},RR=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new io(++e),r=0,a=t[0],i=1,o=function(d){n[r++]=d},u=1;u<=e;++u)if(t[u]==a&&u!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=t[u]}return{c:n.subarray(0,r),n:e}},Jm=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},h9=function(t,e,n){var r=n.length,a=i4(e+2);t[a]=r&255,t[a+1]=r>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<r;++i)t[a+i+4]=n[i];return(a+4+r)*8},DR=function(t,e,n,r,a,i,o,u,d,f,p){nu(e,p++,n),++a[256];for(var g=wA(a,15),y=g.t,x=g.l,E=wA(i,15),w=E.t,N=E.l,T=RR(y),C=T.c,B=T.n,q=RR(w),D=q.c,F=q.n,k=new io(19),I=0;I<C.length;++I)++k[C[I]&31];for(var I=0;I<D.length;++I)++k[D[I]&31];for(var V=wA(k,7),U=V.t,M=V.l,R=19;R>4&&!U[cS[R-1]];--R);var j=f+5<<3,G=Jm(a,Pd)+Jm(i,hg)+o,re=Jm(a,y)+Jm(i,w)+o+14+3*R+Jm(k,U)+2*k[16]+3*k[17]+7*k[18];if(d>=0&&j<=G&&j<=re)return h9(e,p,t.subarray(d,d+f));var J,Z,oe,ye;if(nu(e,p,1+(re<G)),p+=2,re<G){J=hc(y,x,0),Z=y,oe=hc(w,N,0),ye=w;var ge=hc(U,M,0);nu(e,p,B-257),nu(e,p+5,F-1),nu(e,p+10,R-4),p+=14;for(var I=0;I<R;++I)nu(e,p+3*I,U[cS[I]]);p+=3*R;for(var le=[C,D],P=0;P<2;++P)for(var H=le[P],I=0;I<H.length;++I){var Q=H[I]&31;nu(e,p,ge[Q]),p+=U[Q],Q>15&&(nu(e,p,H[I]>>5&127),p+=H[I]>>12)}}else J=Roe,Z=Pd,oe=Loe,ye=hg;for(var I=0;I<u;++I){var K=r[I];if(K>255){var Q=K>>18&31;Qm(e,p,J[Q+257]),p+=Z[Q+257],Q>7&&(nu(e,p,K>>23&31),p+=Cx[Q]);var X=K&31;Qm(e,p,oe[X]),p+=ye[X],X>3&&(Qm(e,p,K>>5&8191),p+=Ix[X])}else Qm(e,p,J[K]),p+=Z[K]}return Qm(e,p,J[256]),p+Z[256]},qoe=new a4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),p9=new Qi(0),zoe=function(t,e,n,r,a,i){var o=i.z||t.length,u=new Qi(r+o+5*(1+Math.ceil(o/7e3))+a),d=u.subarray(r,u.length-a),f=i.l,p=(i.r||0)&7;if(e){p&&(d[0]=i.r>>3);for(var g=qoe[e-1],y=g>>13,x=g&8191,E=(1<<n)-1,w=i.p||new io(32768),N=i.h||new io(E+1),T=Math.ceil(n/3),C=2*T,B=function(Le){return(t[Le]^t[Le+1]<<T^t[Le+2]<<C)&E},q=new a4(25e3),D=new io(288),F=new io(32),k=0,I=0,V=i.i||0,U=0,M=i.w||0,R=0;V+2<o;++V){var j=B(V),G=V&32767,re=N[j];if(w[G]=re,N[j]=G,M<=V){var J=o-V;if((k>7e3||U>24576)&&(J>423||!f)){p=DR(t,d,0,q,D,F,I,U,R,V-R,p),U=k=I=0,R=V;for(var Z=0;Z<286;++Z)D[Z]=0;for(var Z=0;Z<30;++Z)F[Z]=0}var oe=2,ye=0,ge=x,le=G-re&32767;if(J>2&&j==B(V-le))for(var P=Math.min(y,J)-1,H=Math.min(32767,V),Q=Math.min(258,J);le<=H&&--ge&&G!=re;){if(t[V+oe]==t[V+oe-le]){for(var K=0;K<Q&&t[V+K]==t[V+K-le];++K);if(K>oe){if(oe=K,ye=le,K>P)break;for(var X=Math.min(le,K-2),me=0,Z=0;Z<X;++Z){var be=V-le+Z&32767,ee=w[be],_e=be-ee&32767;_e>me&&(me=_e,re=be)}}}G=re,re=w[G],le+=G-re&32767}if(ye){q[U++]=268435456|uS[oe]<<18|PR[ye];var Se=uS[oe]&31,Ae=PR[ye]&31;I+=Cx[Se]+Ix[Ae],++D[257+Se],++F[Ae],M=V+oe,++k}else q[U++]=t[V],++D[t[V]]}}for(V=Math.max(V,M);V<o;++V)q[U++]=t[V],++D[t[V]];p=DR(t,d,f,q,D,F,I,U,R,V-R,p),f||(i.r=p&7|d[p/8|0]<<3,p-=7,i.h=N,i.p=w,i.i=V,i.w=M)}else{for(var V=i.w||0;V<o+f;V+=65535){var Je=V+65535;Je>=o&&(d[p/8|0]=f,Je=o),p=h9(d,p+1,t.subarray(V,Je))}i.i=o}return f9(u,0,r+i4(p)+a)},m9=function(){var t=1,e=0;return{p:function(n){for(var r=t,a=e,i=n.length|0,o=0;o!=i;){for(var u=Math.min(o+2655,i);o<u;++o)a+=r+=n[o];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}t=r,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Voe=function(t,e,n,r,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new Qi(i.length+t.length);o.set(i),o.set(t,i.length),t=o,a.w=i.length}return zoe(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,a)},g9=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Uoe=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=m9();a.p(e.dictionary),g9(t,2,a.d())}},$oe=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&hl(6,"invalid zlib data"),(t[1]>>5&1)==1&&hl(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function hS(t,e){e||(e={});var n=m9();n.p(t);var r=Voe(t,e,e.dictionary?6:2,4);return Uoe(r,e),g9(r,r.length-4,n.d()),r}function Hoe(t,e){return Foe(t.subarray($oe(t),-4),{i:2},e,e)}var Goe=typeof TextDecoder<"u"&&new TextDecoder,Woe=0;try{Goe.decode(p9,{stream:!0}),Woe=1}catch{}var en=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function AA(){en.console&&typeof en.console.log=="function"&&en.console.log.apply(en.console,arguments)}var Nr={log:AA,warn:function(t){en.console&&(typeof en.console.warn=="function"?en.console.warn.apply(en.console,arguments):AA.call(null,arguments))},error:function(t){en.console&&(typeof en.console.error=="function"?en.console.error.apply(en.console,arguments):AA(t))}};function NA(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){xf(r.response,e,n)},r.onerror=function(){Nr.error("could not download file")},r.send()}function LR(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Yv(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var v0,pS,xf=en.saveAs||((typeof window>"u"?"undefined":hr(window))!=="object"||window!==en?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=en.URL||en.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?LR(a.href)?NA(t,e,n):Yv(a,a.target="_blank"):Yv(a)):(a.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(a.href)}),4e4),setTimeout((function(){Yv(a)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(LR(t))NA(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){Yv(r)}))}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:hr(i)!=="object"&&(Nr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return NA(t,e,n);var a=t.type==="application/octet-stream",i=/constructor/i.test(en.HTMLElement)||en.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":hr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=o?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},u.readAsDataURL(t)}else{var d=en.URL||en.webkitURL,f=d.createObjectURL(t);r?r.location=f:location.href=f,r=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function v9(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<n.length;r++){var a=n[r].re,i=n[r].process,o=a.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),"#"+u+d+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function SA(t,e){var n=t[0],r=t[1],a=t[2],i=t[3];n=zi(n,r,a,i,e[0],7,-680876936),i=zi(i,n,r,a,e[1],12,-389564586),a=zi(a,i,n,r,e[2],17,606105819),r=zi(r,a,i,n,e[3],22,-1044525330),n=zi(n,r,a,i,e[4],7,-176418897),i=zi(i,n,r,a,e[5],12,1200080426),a=zi(a,i,n,r,e[6],17,-1473231341),r=zi(r,a,i,n,e[7],22,-45705983),n=zi(n,r,a,i,e[8],7,1770035416),i=zi(i,n,r,a,e[9],12,-1958414417),a=zi(a,i,n,r,e[10],17,-42063),r=zi(r,a,i,n,e[11],22,-1990404162),n=zi(n,r,a,i,e[12],7,1804603682),i=zi(i,n,r,a,e[13],12,-40341101),a=zi(a,i,n,r,e[14],17,-1502002290),n=Vi(n,r=zi(r,a,i,n,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Vi(i,n,r,a,e[6],9,-1069501632),a=Vi(a,i,n,r,e[11],14,643717713),r=Vi(r,a,i,n,e[0],20,-373897302),n=Vi(n,r,a,i,e[5],5,-701558691),i=Vi(i,n,r,a,e[10],9,38016083),a=Vi(a,i,n,r,e[15],14,-660478335),r=Vi(r,a,i,n,e[4],20,-405537848),n=Vi(n,r,a,i,e[9],5,568446438),i=Vi(i,n,r,a,e[14],9,-1019803690),a=Vi(a,i,n,r,e[3],14,-187363961),r=Vi(r,a,i,n,e[8],20,1163531501),n=Vi(n,r,a,i,e[13],5,-1444681467),i=Vi(i,n,r,a,e[2],9,-51403784),a=Vi(a,i,n,r,e[7],14,1735328473),n=Ui(n,r=Vi(r,a,i,n,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Ui(i,n,r,a,e[8],11,-2022574463),a=Ui(a,i,n,r,e[11],16,1839030562),r=Ui(r,a,i,n,e[14],23,-35309556),n=Ui(n,r,a,i,e[1],4,-1530992060),i=Ui(i,n,r,a,e[4],11,1272893353),a=Ui(a,i,n,r,e[7],16,-155497632),r=Ui(r,a,i,n,e[10],23,-1094730640),n=Ui(n,r,a,i,e[13],4,681279174),i=Ui(i,n,r,a,e[0],11,-358537222),a=Ui(a,i,n,r,e[3],16,-722521979),r=Ui(r,a,i,n,e[6],23,76029189),n=Ui(n,r,a,i,e[9],4,-640364487),i=Ui(i,n,r,a,e[12],11,-421815835),a=Ui(a,i,n,r,e[15],16,530742520),n=$i(n,r=Ui(r,a,i,n,e[2],23,-995338651),a,i,e[0],6,-198630844),i=$i(i,n,r,a,e[7],10,1126891415),a=$i(a,i,n,r,e[14],15,-1416354905),r=$i(r,a,i,n,e[5],21,-57434055),n=$i(n,r,a,i,e[12],6,1700485571),i=$i(i,n,r,a,e[3],10,-1894986606),a=$i(a,i,n,r,e[10],15,-1051523),r=$i(r,a,i,n,e[1],21,-2054922799),n=$i(n,r,a,i,e[8],6,1873313359),i=$i(i,n,r,a,e[15],10,-30611744),a=$i(a,i,n,r,e[6],15,-1560198380),r=$i(r,a,i,n,e[13],21,1309151649),n=$i(n,r,a,i,e[4],6,-145523070),i=$i(i,n,r,a,e[11],10,-1120210379),a=$i(a,i,n,r,e[2],15,718787259),r=$i(r,a,i,n,e[9],21,-343485551),t[0]=_d(n,t[0]),t[1]=_d(r,t[1]),t[2]=_d(a,t[2]),t[3]=_d(i,t[3])}function Px(t,e,n,r,a,i){return e=_d(_d(e,t),_d(r,i)),_d(e<<a|e>>>32-a,n)}function zi(t,e,n,r,a,i,o){return Px(e&n|~e&r,t,e,a,i,o)}function Vi(t,e,n,r,a,i,o){return Px(e&r|n&~r,t,e,a,i,o)}function Ui(t,e,n,r,a,i,o){return Px(e^n^r,t,e,a,i,o)}function $i(t,e,n,r,a,i,o){return Px(n^(e|~r),t,e,a,i,o)}function y9(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)SA(r,Koe(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(SA(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*n,SA(r,a),r}function Koe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}v0=en.atob.bind(en),pS=en.btoa.bind(en);var MR="0123456789abcdef".split("");function Yoe(t){for(var e="",n=0;n<4;n++)e+=MR[t>>8*n+4&15]+MR[t>>8*n&15];return e}function Xoe(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function mS(t){return y9(t).map(Xoe).join("")}var Qoe=(function(t){for(var e=0;e<t.length;e++)t[e]=Yoe(t[e]);return t.join("")})(y9("hello"))!="5d41402abc4b2a76b9719d911017c592";function _d(t,e){if(Qoe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function gS(t,e){var n,r,a,i;if(t!==n){for(var o=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),u=[],d=0;d<256;d++)u[d]=d;var f=0;for(d=0;d<256;d++){var p=u[d];f=(f+p+o.charCodeAt(d))%256,u[d]=u[f],u[f]=p}n=t,r=u}else u=r;var g=e.length,y=0,x=0,E="";for(d=0;d<g;d++)x=(x+(p=u[y=(y+1)%256]))%256,u[y]=u[x],u[x]=p,o=u[(u[y]+u[x])%256],E+=String.fromCharCode(e.charCodeAt(d)^o);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var BR={print:4,modify:8,copy:16,"annot-forms":32};function zh(t,e,n,r){this.v=1,this.r=2;var a=192;t.forEach((function(u){if(BR.perm!==void 0)throw new Error("Invalid permission: "+u);a+=BR[u]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=mS(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=gS(this.encryptionKey,this.padding)}function Vh(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var a=t.charCodeAt(r);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[r]}return e}function FR(t){if(hr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,a){if(a=a||!1,typeof n!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var i=Math.random().toString(35);return e[n][i]=[r,!!a],i},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[n]){var o=e[n][i];try{o[0].apply(t,r)}catch(u){en.console&&Nr.error("jsPDF PubSub Error",u.message,u)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Cy(t){if(!(this instanceof Cy))return new Cy(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function x9(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function _f(t,e,n,r,a){if(!(this instanceof _f))return new _f(t,e,n,r,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,x9.call(this,r,a)}function Xh(t,e,n,r,a){if(!(this instanceof Xh))return new Xh(t,e,n,r,a);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,x9.call(this,r,a)}function Wt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],i=arguments[3],o=[],u=1,d=16,f="S",p=null;hr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,a=t.format||a,i=t.compress||t.compressPdf||i,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(d=t.floatPrecision),f=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,y={},x={internal:{},__private__:{}};x.__private__.PubSub=FR;var E="1.3",w=x.__private__.getPdfVersion=function(){return E};x.__private__.setPdfVersion=function(O){E=O};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return N};var T=x.__private__.getPageFormat=function(O){return N[O]};a=a||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},B=C.COMPAT;function q(){this.saveGraphicsState(),ae(new Ot(bt,0,0,-bt,0,ti()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),f="n",B=C.ADVANCED}function D(){this.restoreGraphicsState(),f="S",B=C.COMPAT}var F=x.__private__.combineFontStyleAndFontWeight=function(O,te){if(O=="bold"&&te=="normal"||O=="bold"&&te==400||O=="normal"&&te=="italic"||O=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(O=te==400||te==="normal"?O==="italic"?"italic":"normal":te!=700&&te!=="bold"||O!=="normal"?(te==700?"bold":te)+""+O:"bold"),O};x.advancedAPI=function(O){var te=B===C.COMPAT;return te&&q.call(this),typeof O!="function"||(O(this),te&&D.call(this)),this},x.compatAPI=function(O){var te=B===C.ADVANCED;return te&&D.call(this),typeof O!="function"||(O(this),te&&q.call(this)),this},x.isAdvancedAPI=function(){return B===C.ADVANCED};var k,I=function(O){if(B!==C.ADVANCED)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=x.roundToPrecision=x.__private__.roundToPrecision=function(O,te){var we=e||te;if(isNaN(O)||isNaN(we))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(we).replace(/0+$/,"")};k=x.hpf=x.__private__.hpf=typeof d=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return V(O,d)}:d==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return V(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return V(O,16)};var U=x.f2=x.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return V(O,2)},M=x.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return V(O,3)},R=x.scale=x.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return B===C.COMPAT?O*bt:B===C.ADVANCED?O:void 0},j=function(O){return B===C.COMPAT?ti()-O:B===C.ADVANCED?O:void 0},G=function(O){return R(j(O))};x.__private__.setPrecision=x.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(e=parseInt(O,10))};var re,J="00000000000000000000000000000000",Z=x.__private__.getFileId=function(){return J},oe=x.__private__.setFileId=function(O){return J=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():J.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),p!==null&&(Fn=new zh(p.userPermissions,p.userPassword,p.ownerPassword,J)),J};x.setFileId=function(O){return oe(O),this},x.getFileId=function(){return Z()};var ye=x.__private__.convertDateToPDFDate=function(O){var te=O.getTimezoneOffset(),we=te<0?"+":"-",Ee=Math.floor(Math.abs(te/60)),Re=Math.abs(te%60),Ze=[we,Q(Ee),"'",Q(Re),"'"].join("");return["D:",O.getFullYear(),Q(O.getMonth()+1),Q(O.getDate()),Q(O.getHours()),Q(O.getMinutes()),Q(O.getSeconds()),Ze].join("")},ge=x.__private__.convertPDFDateToDate=function(O){var te=parseInt(O.substr(2,4),10),we=parseInt(O.substr(6,2),10)-1,Ee=parseInt(O.substr(8,2),10),Re=parseInt(O.substr(10,2),10),Ze=parseInt(O.substr(12,2),10),ht=parseInt(O.substr(14,2),10);return new Date(te,we,Ee,Re,Ze,ht,0)},le=x.__private__.setCreationDate=function(O){var te;if(O===void 0&&(O=new Date),O instanceof Date)te=ye(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=O}return re=te},P=x.__private__.getCreationDate=function(O){var te=re;return O==="jsDate"&&(te=ge(re)),te};x.setCreationDate=function(O){return le(O),this},x.getCreationDate=function(O){return P(O)};var H,Q=x.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},K=x.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},X=0,me=[],be=[],ee=0,_e=[],Se=[],Ae=!1,Je=be,Le=function(){X=0,ee=0,be=[],me=[],_e=[],sn=ue(),zt=ue()};x.__private__.setCustomOutputDestination=function(O){Ae=!0,Je=O};var ce=function(O){Ae||(Je=O)};x.__private__.resetCustomOutputDestination=function(){Ae=!1,Je=be};var ae=x.__private__.out=function(O){return O=O.toString(),ee+=O.length+1,Je.push(O),Je},Ye=x.__private__.write=function(O){return ae(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},nt=x.__private__.getArrayBuffer=function(O){for(var te=O.length,we=new ArrayBuffer(te),Ee=new Uint8Array(we);te--;)Ee[te]=O.charCodeAt(te);return we},He=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return He};var Ue=t.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(O){return Ue=B===C.ADVANCED?O/bt:O,this};var Ke,et=x.__private__.getFontSize=x.getFontSize=function(){return B===C.COMPAT?Ue:Ue*bt},tt=t.R2L||!1;x.__private__.setR2L=x.setR2L=function(O){return tt=O,this},x.__private__.getR2L=x.getR2L=function(){return tt};var Ge,yt=x.__private__.setZoomMode=function(O){var te=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))Ke=O;else if(isNaN(O)){if(te.indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');Ke=O}else Ke=parseInt(O,10)};x.__private__.getZoomMode=function(){return Ke};var vt,_t=x.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');Ge=O};x.__private__.getPageMode=function(){return Ge};var Bt=x.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');vt=O};x.__private__.getLayoutMode=function(){return vt},x.__private__.setDisplayMode=x.setDisplayMode=function(O,te,we){return yt(O),Bt(te),_t(we),this};var At={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(O){if(Object.keys(At).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return At[O]},x.__private__.getDocumentProperties=function(){return At},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(O){for(var te in At)At.hasOwnProperty(te)&&O[te]&&(At[te]=O[te]);return this},x.__private__.setDocumentProperty=function(O,te){if(Object.keys(At).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return At[O]=te};var Vt,bt,Zn,Jt,er,pn={},mn={},Ti=[],fn={},aa={},Bn={},jr={},Lr=null,bn=0,It=[],gn=new FR(x),pa=t.hotfixes||[],Tr={},ia={},ma=[],Ot=function O(te,we,Ee,Re,Ze,ht){if(!(this instanceof O))return new O(te,we,Ee,Re,Ze,ht);isNaN(te)&&(te=1),isNaN(we)&&(we=0),isNaN(Ee)&&(Ee=0),isNaN(Re)&&(Re=1),isNaN(Ze)&&(Ze=0),isNaN(ht)&&(ht=0),this._matrix=[te,we,Ee,Re,Ze,ht]};Object.defineProperty(Ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ot.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(O)},Ot.prototype.multiply=function(O){var te=O.sx*this.sx+O.shy*this.shx,we=O.sx*this.shy+O.shy*this.sy,Ee=O.shx*this.sx+O.sy*this.shx,Re=O.shx*this.shy+O.sy*this.sy,Ze=O.tx*this.sx+O.ty*this.shx+this.tx,ht=O.tx*this.shy+O.ty*this.sy+this.ty;return new Ot(te,we,Ee,Re,Ze,ht)},Ot.prototype.decompose=function(){var O=this.sx,te=this.shy,we=this.shx,Ee=this.sy,Re=this.tx,Ze=this.ty,ht=Math.sqrt(O*O+te*te),St=(O/=ht)*we+(te/=ht)*Ee;we-=O*St,Ee-=te*St;var b=Math.sqrt(we*we+Ee*Ee);return St/=b,O*(Ee/=b)<te*(we/=b)&&(O=-O,te=-te,St=-St,ht=-ht),{scale:new Ot(ht,0,0,b,0,0),translate:new Ot(1,0,0,1,Re,Ze),rotate:new Ot(O,te,-te,O,0,0),skew:new Ot(1,0,St,1,0,0)}},Ot.prototype.toString=function(O){return this.join(" ")},Ot.prototype.inversed=function(){var O=this.sx,te=this.shy,we=this.shx,Ee=this.sy,Re=this.tx,Ze=this.ty,ht=1/(O*Ee-te*we),St=Ee*ht,b=-te*ht,z=-we*ht,W=O*ht;return new Ot(St,b,z,W,-St*Re-z*Ze,-b*Re-W*Ze)},Ot.prototype.applyToPoint=function(O){var te=O.x*this.sx+O.y*this.shx+this.tx,we=O.x*this.shy+O.y*this.sy+this.ty;return new yo(te,we)},Ot.prototype.applyToRectangle=function(O){var te=this.applyToPoint(O),we=this.applyToPoint(new yo(O.x+O.w,O.y+O.h));return new Pl(te.x,te.y,we.x-te.x,we.y-te.y)},Ot.prototype.clone=function(){var O=this.sx,te=this.shy,we=this.shx,Ee=this.sy,Re=this.tx,Ze=this.ty;return new Ot(O,te,we,Ee,Re,Ze)},x.Matrix=Ot;var Aa=x.matrixMult=function(O,te){return te.multiply(O)},Or=new Ot(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Or;var Mr=function(O,te){if(!aa[O]){var we=(te instanceof _f?"Sh":"P")+(Object.keys(fn).length+1).toString(10);te.id=we,aa[O]=we,fn[we]=te,gn.publish("addPattern",te)}};x.ShadingPattern=_f,x.TilingPattern=Xh,x.addShadingPattern=function(O,te){return I("addShadingPattern()"),Mr(O,te),this},x.beginTilingPattern=function(O){I("beginTilingPattern()"),Rl(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},x.endTilingPattern=function(O,te){I("endTilingPattern()"),te.stream=Se[H].join(`
`),Mr(O,te),gn.publish("endTilingPattern",te),ma.pop().restore()};var ar=x.__private__.newObject=function(){var O=ue();return We(O,!0),O},ue=x.__private__.newObjectDeferred=function(){return X++,me[X]=function(){return ee},X},We=function(O,te){return te=typeof te=="boolean"&&te,me[O]=ee,te&&ae(O+" 0 obj"),O},Gt=x.__private__.newAdditionalObject=function(){var O={objId:ue(),content:""};return _e.push(O),O},sn=ue(),zt=ue(),Ft=x.__private__.decodeColorString=function(O){var te=O.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length===5&&(te[4]==="k"||te[4]==="K")&&(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var we=parseFloat(te[0]);te=[we,we,we,"r"]}for(var Ee="#",Re=0;Re<3;Re++)Ee+=("0"+Math.floor(255*parseFloat(te[Re])).toString(16)).slice(-2);return Ee},Zt=x.__private__.encodeColorString=function(O){var te;typeof O=="string"&&(O={ch1:O});var we=O.ch1,Ee=O.ch2,Re=O.ch3,Ze=O.ch4,ht=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof we=="string"&&we.charAt(0)!=="#"){var St=new v9(we);if(St.ok)we=St.toHex();else if(!/^\d*\.?\d*$/.test(we))throw new Error('Invalid color "'+we+'" passed to jsPDF.encodeColorString.')}if(typeof we=="string"&&/^#[0-9A-Fa-f]{3}$/.test(we)&&(we="#"+we[1]+we[1]+we[2]+we[2]+we[3]+we[3]),typeof we=="string"&&/^#[0-9A-Fa-f]{6}$/.test(we)){var b=parseInt(we.substr(1),16);we=b>>16&255,Ee=b>>8&255,Re=255&b}if(Ee===void 0||Ze===void 0&&we===Ee&&Ee===Re)if(typeof we=="string")te=we+" "+ht[0];else switch(O.precision){case 2:te=U(we/255)+" "+ht[0];break;case 3:default:te=M(we/255)+" "+ht[0]}else if(Ze===void 0||hr(Ze)==="object"){if(Ze&&!isNaN(Ze.a)&&Ze.a===0)return te=["1.","1.","1.",ht[1]].join(" ");if(typeof we=="string")te=[we,Ee,Re,ht[1]].join(" ");else switch(O.precision){case 2:te=[U(we/255),U(Ee/255),U(Re/255),ht[1]].join(" ");break;default:case 3:te=[M(we/255),M(Ee/255),M(Re/255),ht[1]].join(" ")}}else if(typeof we=="string")te=[we,Ee,Re,Ze,ht[2]].join(" ");else switch(O.precision){case 2:te=[U(we),U(Ee),U(Re),U(Ze),ht[2]].join(" ");break;case 3:default:te=[M(we),M(Ee),M(Re),M(Ze),ht[2]].join(" ")}return te},Me=x.__private__.getFilters=function(){return o},Et=x.__private__.putStream=function(O){var te=(O=O||{}).data||"",we=O.filters||Me(),Ee=O.alreadyAppliedFilters||[],Re=O.addLength1||!1,Ze=te.length,ht=O.objectId,St=function(rn){return rn};if(p!==null&&ht===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(St=Fn.encryptor(ht,0));var b={};we===!0&&(we=["FlateEncode"]);var z=O.additionalKeyValues||[],W=(b=Wt.API.processDataByFilters!==void 0?Wt.API.processDataByFilters(te,we):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(b.data.length!==0&&(z.push({key:"Length",value:b.data.length}),Re===!0&&z.push({key:"Length1",value:Ze})),W.length!=0)if(W.split("/").length-1==1)z.push({key:"Filter",value:W});else{z.push({key:"Filter",value:"["+W+"]"});for(var fe=0;fe<z.length;fe+=1)if(z[fe].key==="DecodeParms"){for(var Ie=[],qe=0;qe<b.reverseChain.split("/").length-1;qe+=1)Ie.push("null");Ie.push(z[fe].value),z[fe].value="["+Ie.join(" ")+"]"}}ae("<<");for(var pt=0;pt<z.length;pt++)ae("/"+z[pt].key+" "+z[pt].value);ae(">>"),b.data.length!==0&&(ae("stream"),ae(St(b.data)),ae("endstream"))},Mt=x.__private__.putPage=function(O){var te=O.number,we=O.data,Ee=O.objId,Re=O.contentsObjId;We(Ee,!0),ae("<</Type /Page"),ae("/Parent "+O.rootDictionaryObjId+" 0 R"),ae("/Resources "+O.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(k(O.mediaBox.bottomLeftX))+" "+parseFloat(k(O.mediaBox.bottomLeftY))+" "+k(O.mediaBox.topRightX)+" "+k(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&ae("/CropBox ["+k(O.cropBox.bottomLeftX)+" "+k(O.cropBox.bottomLeftY)+" "+k(O.cropBox.topRightX)+" "+k(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&ae("/BleedBox ["+k(O.bleedBox.bottomLeftX)+" "+k(O.bleedBox.bottomLeftY)+" "+k(O.bleedBox.topRightX)+" "+k(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&ae("/TrimBox ["+k(O.trimBox.bottomLeftX)+" "+k(O.trimBox.bottomLeftY)+" "+k(O.trimBox.topRightX)+" "+k(O.trimBox.topRightY)+"]"),O.artBox!==null&&ae("/ArtBox ["+k(O.artBox.bottomLeftX)+" "+k(O.artBox.bottomLeftY)+" "+k(O.artBox.topRightX)+" "+k(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&ae("/UserUnit "+O.userUnit),gn.publish("putPage",{objId:Ee,pageContext:It[te],pageNumber:te,page:we}),ae("/Contents "+Re+" 0 R"),ae(">>"),ae("endobj");var Ze=we.join(`
`);return B===C.ADVANCED&&(Ze+=`
Q`),We(Re,!0),Et({data:Ze,filters:Me(),objectId:Re}),ae("endobj"),Ee},kr=x.__private__.putPages=function(){var O,te,we=[];for(O=1;O<=bn;O++)It[O].objId=ue(),It[O].contentsObjId=ue();for(O=1;O<=bn;O++)we.push(Mt({number:O,data:Se[O],objId:It[O].objId,contentsObjId:It[O].contentsObjId,mediaBox:It[O].mediaBox,cropBox:It[O].cropBox,bleedBox:It[O].bleedBox,trimBox:It[O].trimBox,artBox:It[O].artBox,userUnit:It[O].userUnit,rootDictionaryObjId:sn,resourceDictionaryObjId:zt}));We(sn,!0),ae("<</Type /Pages");var Ee="/Kids [";for(te=0;te<bn;te++)Ee+=we[te]+" 0 R ";ae(Ee+"]"),ae("/Count "+bn),ae(">>"),ae("endobj"),gn.publish("postPutPages")},Cr=function(O){gn.publish("putFont",{font:O,out:ae,newObject:ar,putStream:Et}),O.isAlreadyPutted!==!0&&(O.objectNumber=ar(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+Vh(O.postScriptName)),ae("/Subtype /Type1"),typeof O.encoding=="string"&&ae("/Encoding /"+O.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},kn=function(){for(var O in pn)pn.hasOwnProperty(O)&&(g===!1||g===!0&&y.hasOwnProperty(O))&&Cr(pn[O])},Ir=function(O){O.objectNumber=ar();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[k(O.x),k(O.y),k(O.x+O.width),k(O.y+O.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var we=O.pages[1].join(`
`);Et({data:we,additionalKeyValues:te,objectId:O.objectNumber}),ae("endobj")},zn=function(){for(var O in Tr)Tr.hasOwnProperty(O)&&Ir(Tr[O])},Oi=function(O,te){var we,Ee=[],Re=1/(te-1);for(we=0;we<1;we+=Re)Ee.push(we);if(Ee.push(1),O[0].offset!=0){var Ze={offset:0,color:O[0].color};O.unshift(Ze)}if(O[O.length-1].offset!=1){var ht={offset:1,color:O[O.length-1].color};O.push(ht)}for(var St="",b=0,z=0;z<Ee.length;z++){for(we=Ee[z];we>O[b+1].offset;)b++;var W=O[b].offset,fe=(we-W)/(O[b+1].offset-W),Ie=O[b].color,qe=O[b+1].color;St+=K(Math.round((1-fe)*Ie[0]+fe*qe[0]).toString(16))+K(Math.round((1-fe)*Ie[1]+fe*qe[1]).toString(16))+K(Math.round((1-fe)*Ie[2]+fe*qe[2]).toString(16))}return St.trim()},es=function(O,te){te||(te=21);var we=ar(),Ee=Oi(O.colors,te),Re=[];Re.push({key:"FunctionType",value:"0"}),Re.push({key:"Domain",value:"[0.0 1.0]"}),Re.push({key:"Size",value:"["+te+"]"}),Re.push({key:"BitsPerSample",value:"8"}),Re.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Re.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Et({data:Ee,additionalKeyValues:Re,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:we}),ae("endobj"),O.objectNumber=ar(),ae("<< /ShadingType "+O.type),ae("/ColorSpace /DeviceRGB");var Ze="/Coords ["+k(parseFloat(O.coords[0]))+" "+k(parseFloat(O.coords[1]))+" ";O.type===2?Ze+=k(parseFloat(O.coords[2]))+" "+k(parseFloat(O.coords[3])):Ze+=k(parseFloat(O.coords[2]))+" "+k(parseFloat(O.coords[3]))+" "+k(parseFloat(O.coords[4]))+" "+k(parseFloat(O.coords[5])),ae(Ze+="]"),O.matrix&&ae("/Matrix ["+O.matrix.toString()+"]"),ae("/Function "+we+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},Br=function(O,te){var we=ue(),Ee=ar();te.push({resourcesOid:we,objectOid:Ee}),O.objectNumber=Ee;var Re=[];Re.push({key:"Type",value:"/Pattern"}),Re.push({key:"PatternType",value:"1"}),Re.push({key:"PaintType",value:"1"}),Re.push({key:"TilingType",value:"1"}),Re.push({key:"BBox",value:"["+O.boundingBox.map(k).join(" ")+"]"}),Re.push({key:"XStep",value:k(O.xStep)}),Re.push({key:"YStep",value:k(O.yStep)}),Re.push({key:"Resources",value:we+" 0 R"}),O.matrix&&Re.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),Et({data:O.stream,additionalKeyValues:Re,objectId:O.objectNumber}),ae("endobj")},Ms=function(O){var te;for(te in fn)fn.hasOwnProperty(te)&&(fn[te]instanceof _f?es(fn[te]):fn[te]instanceof Xh&&Br(fn[te],O))},Bs=function(O){for(var te in O.objectNumber=ar(),ae("<<"),O)switch(te){case"opacity":ae("/ca "+U(O[te]));break;case"stroke-opacity":ae("/CA "+U(O[te]))}ae(">>"),ae("endobj")},Fa=function(){var O;for(O in Bn)Bn.hasOwnProperty(O)&&Bs(Bn[O])},ki=function(){for(var O in ae("/XObject <<"),Tr)Tr.hasOwnProperty(O)&&Tr[O].objectNumber>=0&&ae("/"+O+" "+Tr[O].objectNumber+" 0 R");gn.publish("putXobjectDict"),ae(">>")},Zd=function(){Fn.oid=ar(),ae("<<"),ae("/Filter /Standard"),ae("/V "+Fn.v),ae("/R "+Fn.r),ae("/U <"+Fn.toHexString(Fn.U)+">"),ae("/O <"+Fn.toHexString(Fn.O)+">"),ae("/P "+Fn.P),ae(">>"),ae("endobj")},Nl=function(){for(var O in ae("/Font <<"),pn)pn.hasOwnProperty(O)&&(g===!1||g===!0&&y.hasOwnProperty(O))&&ae("/"+O+" "+pn[O].objectNumber+" 0 R");ae(">>")},Tc=function(){if(Object.keys(fn).length>0){for(var O in ae("/Shading <<"),fn)fn.hasOwnProperty(O)&&fn[O]instanceof _f&&fn[O].objectNumber>=0&&ae("/"+O+" "+fn[O].objectNumber+" 0 R");gn.publish("putShadingPatternDict"),ae(">>")}},qo=function(O){if(Object.keys(fn).length>0){for(var te in ae("/Pattern <<"),fn)fn.hasOwnProperty(te)&&fn[te]instanceof x.TilingPattern&&fn[te].objectNumber>=0&&fn[te].objectNumber<O&&ae("/"+te+" "+fn[te].objectNumber+" 0 R");gn.publish("putTilingPatternDict"),ae(">>")}},uo=function(){if(Object.keys(Bn).length>0){var O;for(O in ae("/ExtGState <<"),Bn)Bn.hasOwnProperty(O)&&Bn[O].objectNumber>=0&&ae("/"+O+" "+Bn[O].objectNumber+" 0 R");gn.publish("putGStateDict"),ae(">>")}},ir=function(O){We(O.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Nl(),Tc(),qo(O.objectOid),uo(),ki(),ae(">>"),ae("endobj")},hi=function(){var O=[];kn(),Fa(),zn(),Ms(O),gn.publish("putResources"),O.forEach(ir),ir({resourcesOid:zt,objectOid:Number.MAX_SAFE_INTEGER}),gn.publish("postPutResources")},Na=function(){gn.publish("putAdditionalObjects");for(var O=0;O<_e.length;O++){var te=_e[O];We(te.objId,!0),ae(te.content),ae("endobj")}gn.publish("postPutAdditionalObjects")},Oc=function(O){mn[O.fontName]=mn[O.fontName]||{},mn[O.fontName][O.fontStyle]=O.id},kc=function(O,te,we,Ee,Re){var Ze={id:"F"+(Object.keys(pn).length+1).toString(10),postScriptName:O,fontName:te,fontStyle:we,encoding:Ee,isStandardFont:Re||!1,metadata:{}};return gn.publish("addFont",{font:Ze,instance:this}),pn[Ze.id]=Ze,Oc(Ze),Ze.id},Sl=function(O){for(var te=0,we=He.length;te<we;te++){var Ee=kc.call(this,O[te][0],O[te][1],O[te][2],He[te][3],!0);g===!1&&(y[Ee]=!0);var Re=O[te][0].split("-");Oc({id:Ee,fontName:Re[0],fontStyle:Re[1]||""})}gn.publish("addFonts",{fonts:pn,dictionary:mn})},pi=function(O){return O.foo=function(){try{return O.apply(this,arguments)}catch(Ee){var te=Ee.stack||"";~te.indexOf(" at ")&&(te=te.split(" at ")[1]);var we="Error in function "+te.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!en.console)throw new Error(we);en.console.error(we,Ee),en.alert&&alert(we)}},O.foo.bar=O,O.foo},Fs=function(O,te){var we,Ee,Re,Ze,ht,St,b,z,W;if(Re=(te=te||{}).sourceEncoding||"Unicode",ht=te.outputEncoding,(te.autoencode||ht)&&pn[Vt].metadata&&pn[Vt].metadata[Re]&&pn[Vt].metadata[Re].encoding&&(Ze=pn[Vt].metadata[Re].encoding,!ht&&pn[Vt].encoding&&(ht=pn[Vt].encoding),!ht&&Ze.codePages&&(ht=Ze.codePages[0]),typeof ht=="string"&&(ht=Ze[ht]),ht)){for(b=!1,St=[],we=0,Ee=O.length;we<Ee;we++)(z=ht[O.charCodeAt(we)])?St.push(String.fromCharCode(z)):St.push(O[we]),St[we].charCodeAt(0)>>8&&(b=!0);O=St.join("")}for(we=O.length;b===void 0&&we!==0;)O.charCodeAt(we-1)>>8&&(b=!0),we--;if(!b)return O;for(St=te.noBOM?[]:[254,255],we=0,Ee=O.length;we<Ee;we++){if((W=(z=O.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+O+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");St.push(W),St.push(z-(W<<8))}return String.fromCharCode.apply(void 0,St)},Gr=x.__private__.pdfEscape=x.pdfEscape=function(O,te){return Fs(O,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pr=x.__private__.beginPage=function(O){Se[++bn]=[],It[bn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},Vo(bn),ce(Se[H])},qs=function(O,te){var we,Ee,Re;switch(n=te||n,typeof O=="string"&&(we=T(O.toLowerCase()),Array.isArray(we)&&(Ee=we[0],Re=we[1])),Array.isArray(O)&&(Ee=O[0]*bt,Re=O[1]*bt),isNaN(Ee)&&(Ee=a[0],Re=a[1]),(Ee>14400||Re>14400)&&(Nr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Re=Math.min(14400,Re)),a=[Ee,Re],n.substr(0,1)){case"l":Re>Ee&&(a=[Re,Ee]);break;case"p":Ee>Re&&(a=[Re,Ee])}pr(a),mo(sa),ae(za),Rc!==0&&ae(Rc+" J"),Il!==0&&ae(Il+" j"),gn.publish("addPage",{pageNumber:bn})},zo=function(O){O>0&&O<=bn&&(Se.splice(O,1),It.splice(O,1),bn--,H>bn&&(H=bn),this.setPage(H))},Vo=function(O){O>0&&O<=bn&&(H=O)},Cn=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Se.length-1},fo=function(O,te,we){var Ee,Re=void 0;return we=we||{},O=O!==void 0?O:pn[Vt].fontName,te=te!==void 0?te:pn[Vt].fontStyle,Ee=O.toLowerCase(),mn[Ee]!==void 0&&mn[Ee][te]!==void 0?Re=mn[Ee][te]:mn[O]!==void 0&&mn[O][te]!==void 0?Re=mn[O][te]:we.disableWarning===!1&&Nr.warn("Unable to look up font label for font '"+O+"', '"+te+"'. Refer to getFontList() for available fonts."),Re||we.noFallback||(Re=mn.times[te])==null&&(Re=mn.times.normal),Re},ho=x.__private__.putInfo=function(){var O=ar(),te=function(Ee){return Ee};for(var we in p!==null&&(te=Fn.encryptor(O,0)),ae("<<"),ae("/Producer ("+Gr(te("jsPDF "+Wt.version))+")"),At)At.hasOwnProperty(we)&&At[we]&&ae("/"+we.substr(0,1).toUpperCase()+we.substr(1)+" ("+Gr(te(At[we]))+")");ae("/CreationDate ("+Gr(te(re))+")"),ae(">>"),ae("endobj")},Za=x.__private__.putCatalog=function(O){var te=(O=O||{}).rootDictionaryObjId||sn;switch(ar(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+te+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var we=""+Ke;we.substr(we.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+U(Ke)+"]")}switch(vt||(vt="continuous"),vt){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}Ge&&ae("/PageMode /"+Ge),gn.publish("putCatalog"),ae(">>"),ae("endobj")},ef=x.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(X+1)),ae("/Root "+X+" 0 R"),ae("/Info "+(X-1)+" 0 R"),p!==null&&ae("/Encrypt "+Fn.oid+" 0 R"),ae("/ID [ <"+J+"> <"+J+"> ]"),ae(">>")},Cc=x.__private__.putHeader=function(){ae("%PDF-"+E),ae("%")},ju=x.__private__.putXRef=function(){var O="0000000000";ae("xref"),ae("0 "+(X+1)),ae("0000000000 65535 f ");for(var te=1;te<=X;te++)typeof me[te]=="function"?ae((O+me[te]()).slice(-10)+" 00000 n "):me[te]!==void 0?ae((O+me[te]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},ts=x.__private__.buildDocument=function(){Le(),ce(be),gn.publish("buildDocument"),Cc(),kr(),Na(),hi(),p!==null&&Zd(),ho(),Za();var O=ee;return ju(),ef(),ae("startxref"),ae(""+O),ae("%%EOF"),ce(Se[H]),be.join(`
`)},El=x.__private__.getBlob=function(O){return new Blob([nt(O)],{type:"application/pdf"})},jl=x.output=x.__private__.output=pi((function(O,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",O){case void 0:return ts();case"save":x.save(te.filename);break;case"arraybuffer":return nt(ts());case"blob":return El(ts());case"bloburi":case"bloburl":if(en.URL!==void 0&&typeof en.URL.createObjectURL=="function")return en.URL&&en.URL.createObjectURL(El(ts()))||void 0;Nr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var we="",Ee=ts();try{we=pS(Ee)}catch{we=pS(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+te.filename+";base64,"+we;case"pdfobjectnewwindow":if(Object.prototype.toString.call(en)==="[object Window]"){var Re="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(Re=te.pdfObjectUrl,Ze="");var ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Re+'"'+Ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",St=en.open();return St!==null&&St.document.write(ht),St}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(en)==="[object Window]"){var b='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',z=en.open();if(z!==null){z.document.write(b);var W=this;z.document.documentElement.querySelector("#pdfViewer").onload=function(){z.document.title=te.filename,z.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(W.output("bloburl"))}}return z}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(en)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',Ie=en.open();if(Ie!==null&&(Ie.document.write(fe),Ie.document.title=te.filename),Ie||typeof safari>"u")return Ie;break;case"datauri":case"dataurl":return en.document.location.href=this.output("datauristring",te);default:return null}})),ns=function(O){return Array.isArray(pa)===!0&&pa.indexOf(O)>-1};switch(r){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=ns("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);bt=r}var Fn=null;le(),oe();var Tl=function(O){return p!==null?Fn.encryptor(O,0):function(te){return te}},Uo=x.__private__.getPageInfo=x.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:It[O].objId,pageNumber:O,pageContext:It[O]}},Ut=x.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in It)if(It[te].objId===O)break;return Uo(te)},mi=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:It[H].objId,pageNumber:H,pageContext:It[H]}};x.addPage=function(){return qs.apply(this,arguments),this},x.setPage=function(){return Vo.apply(this,arguments),ce.call(this,Se[H]),this},x.insertPage=function(O){return this.addPage(),this.movePage(H,O),this},x.movePage=function(O,te){var we,Ee;if(O>te){we=Se[O],Ee=It[O];for(var Re=O;Re>te;Re--)Se[Re]=Se[Re-1],It[Re]=It[Re-1];Se[te]=we,It[te]=Ee,this.setPage(te)}else if(O<te){we=Se[O],Ee=It[O];for(var Ze=O;Ze<te;Ze++)Se[Ze]=Se[Ze+1],It[Ze]=It[Ze+1];Se[te]=we,It[te]=Ee,this.setPage(te)}return this},x.deletePage=function(){return zo.apply(this,arguments),this},x.__private__.text=x.text=function(O,te,we,Ee,Re){var Ze,ht,St,b,z,W,fe,Ie,qe,pt=(Ee=Ee||{}).scope||this;if(typeof O=="number"&&typeof te=="number"&&(typeof we=="string"||Array.isArray(we))){var rn=we;we=te,te=O,O=rn}if(arguments[3]instanceof Ot?(I("The transform parameter of text() with a Matrix value"),qe=Re):(St=arguments[4],b=arguments[5],hr(fe=arguments[3])==="object"&&fe!==null||(typeof St=="string"&&(b=St,St=null),typeof fe=="string"&&(b=fe,fe=null),typeof fe=="number"&&(St=fe,fe=null),Ee={flags:fe,angle:St,align:b})),isNaN(te)||isNaN(we)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return pt;var _n="",Kt=!1,Wn=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:Hn,cr=pt.internal.scaleFactor;function Hs(Nn){return Nn=Nn.split("	").join(Array(Ee.TabLen||9).join(" ")),Gr(Nn,fe)}function Sa(Nn){for(var tr,Vn=Nn.concat(),Pr=[],Qs=Vn.length;Qs--;)typeof(tr=Vn.shift())=="string"?Pr.push(tr):Array.isArray(Nn)&&(tr.length===1||tr[1]===void 0&&tr[2]===void 0)?Pr.push(tr[0]):Pr.push([tr[0],tr[1],tr[2]]);return Pr}function Gs(Nn,tr){var Vn;if(typeof Nn=="string")Vn=tr(Nn)[0];else if(Array.isArray(Nn)){for(var Pr,Qs,Vl=Nn.concat(),el=[],Lu=Vl.length;Lu--;)typeof(Pr=Vl.shift())=="string"?el.push(tr(Pr)[0]):Array.isArray(Pr)&&typeof Pr[0]=="string"&&(Qs=tr(Pr[0],Pr[1],Pr[2]),el.push([Qs[0],Qs[1],Qs[2]]));Vn=el}return Vn}var Li=!1,Yo=!0;if(typeof O=="string")Li=!0;else if(Array.isArray(O)){var tf=O.concat();ht=[];for(var Xo,Ea=tf.length;Ea--;)(typeof(Xo=tf.shift())!="string"||Array.isArray(Xo)&&typeof Xo[0]!="string")&&(Yo=!1);Li=Yo}if(Li===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var Dc=Ue/pt.internal.scaleFactor,Ll=Dc*(Wn-1);switch(Ee.baseline){case"bottom":we-=Ll;break;case"top":we+=Dc-Ll;break;case"hanging":we+=Dc-2*Ll;break;case"middle":we+=Dc/2-Ll}if((W=Ee.maxWidth||0)>0&&(typeof O=="string"?O=pt.splitTextToSize(O,W):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce((function(Nn,tr){return Nn.concat(pt.splitTextToSize(tr,W))}),[]))),Ze={text:O,x:te,y:we,options:Ee,mutex:{pdfEscape:Gr,activeFontKey:Vt,fonts:pn,activeFontSize:Ue}},gn.publish("preProcessText",Ze),O=Ze.text,St=(Ee=Ze.options).angle,!(qe instanceof Ot)&&St&&typeof St=="number"){St*=Math.PI/180,Ee.rotationDirection===0&&(St=-St),B===C.ADVANCED&&(St=-St);var Ml=Math.cos(St),ku=Math.sin(St);qe=new Ot(Ml,ku,-ku,Ml,0,0)}else St&&St instanceof Ot&&(qe=St);B!==C.ADVANCED||qe||(qe=Or),(z=Ee.charSpace||Go)!==void 0&&(_n+=k(R(z))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ie=Ee.horizontalScale)!==void 0&&(_n+=k(100*Ie)+` Tz
`),Ee.lang;var yi=-1,th=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,nf=pt.internal.getCurrentPageInfo().pageContext;switch(th){case 0:case!1:case"fill":yi=0;break;case 1:case!0:case"stroke":yi=1;break;case 2:case"fillThenStroke":yi=2;break;case 3:case"invisible":yi=3;break;case 4:case"fillAndAddForClipping":yi=4;break;case 5:case"strokeAndAddPathForClipping":yi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":yi=6;break;case 7:case"addToPathForClipping":yi=7}var nh=nf.usedRenderingMode!==void 0?nf.usedRenderingMode:-1;yi!==-1?_n+=yi+` Tr
`:nh!==-1&&(_n+=`0 Tr
`),yi!==-1&&(nf.usedRenderingMode=yi),b=Ee.align||"left";var ms,Cu=Ue*Wn,rh=pt.internal.pageSize.getWidth(),ni=pn[Vt];z=Ee.charSpace||Go,W=Ee.maxWidth||0,fe=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var gs=[],Bl=function(Nn){return pt.getStringUnitWidth(Nn,{font:ni,charSpace:z,fontSize:Ue,doKerning:!1})*Ue/cr};if(Object.prototype.toString.call(O)==="[object Array]"){var xi;ht=Sa(O),b!=="left"&&(ms=ht.map(Bl));var ri,Qo=0;if(b==="right"){te-=ms[0],O=[],Ea=ht.length;for(var Ws=0;Ws<Ea;Ws++)Ws===0?(ri=vi(te),xi=Fr(we)):(ri=R(Qo-ms[Ws]),xi=-Cu),O.push([ht[Ws],ri,xi]),Qo=ms[Ws]}else if(b==="center"){te-=ms[0]/2,O=[],Ea=ht.length;for(var Jo=0;Jo<Ea;Jo++)Jo===0?(ri=vi(te),xi=Fr(we)):(ri=R((Qo-ms[Jo])/2),xi=-Cu),O.push([ht[Jo],ri,xi]),Qo=ms[Jo]}else if(b==="left"){O=[],Ea=ht.length;for(var Ks=0;Ks<Ea;Ks++)O.push(ht[Ks])}else if(b==="justify"&&ni.encoding==="Identity-H"){O=[],Ea=ht.length,W=W!==0?W:rh;for(var Ys=0,br=0;br<Ea;br++)if(xi=br===0?Fr(we):-Cu,ri=br===0?vi(te):Ys,br<Ea-1){var Lc=R((W-ms[br])/(ht[br].split(" ").length-1)),ai=ht[br].split(" ");O.push([ai[0]+" ",ri,xi]),Ys=0;for(var ja=1;ja<ai.length;ja++){var Xs=(Bl(ai[ja-1]+" "+ai[ja])-Bl(ai[ja]))*cr+Lc;ja==ai.length-1?O.push([ai[ja],Xs,0]):O.push([ai[ja]+" ",Xs,0]),Ys-=Xs}}else O.push([ht[br],ri,xi]);O.push(["",Ys,0])}else{if(b!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],Ea=ht.length,W=W!==0?W:rh,br=0;br<Ea;br++)xi=br===0?Fr(we):-Cu,ri=br===0?vi(te):0,br<Ea-1?gs.push(k(R((W-ms[br])/(ht[br].split(" ").length-1)))):gs.push(0),O.push([ht[br],ri,xi])}}var Iu=typeof Ee.R2L=="boolean"?Ee.R2L:tt;Iu===!0&&(O=Gs(O,(function(Nn,tr,Vn){return[Nn.split("").reverse().join(""),tr,Vn]}))),Ze={text:O,x:te,y:we,options:Ee,mutex:{pdfEscape:Gr,activeFontKey:Vt,fonts:pn,activeFontSize:Ue}},gn.publish("postProcessText",Ze),O=Ze.text,Kt=Ze.mutex.isHex||!1;var Pu=pn[Vt].encoding;Pu!=="WinAnsiEncoding"&&Pu!=="StandardEncoding"||(O=Gs(O,(function(Nn,tr,Vn){return[Hs(Nn),tr,Vn]}))),ht=Sa(O),O=[];for(var as,Fl,Zo,ql=0,Ru=1,Mc=Array.isArray(ht[0])?Ru:ql,zl="",Du=function(Nn,tr,Vn){var Pr="";return Vn instanceof Ot?(Vn=typeof Ee.angle=="number"?Aa(Vn,new Ot(1,0,0,1,Nn,tr)):Aa(new Ot(1,0,0,1,Nn,tr),Vn),B===C.ADVANCED&&(Vn=Aa(new Ot(1,0,0,-1,0,0),Vn)),Pr=Vn.join(" ")+` Tm
`):Pr=k(Nn)+" "+k(tr)+` Td
`,Pr},is=0;is<ht.length;is++){switch(zl="",Mc){case Ru:Zo=(Kt?"<":"(")+ht[is][0]+(Kt?">":")"),as=parseFloat(ht[is][1]),Fl=parseFloat(ht[is][2]);break;case ql:Zo=(Kt?"<":"(")+ht[is]+(Kt?">":")"),as=vi(te),Fl=Fr(we)}gs!==void 0&&gs[is]!==void 0&&(zl=gs[is]+` Tw
`),is===0?O.push(zl+Du(as,Fl,qe)+Zo):Mc===ql?O.push(zl+Zo):Mc===Ru&&O.push(zl+Du(as,Fl,qe)+Zo)}O=Mc===ql?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var Mi=`BT
/`;return Mi+=Vt+" "+Ue+` Tf
`,Mi+=k(Ue*Wn)+` TL
`,Mi+=$s+`
`,Mi+=_n,Mi+=O,ae(Mi+="ET"),y[Vt]=!0,pt};var Tu=x.__private__.clip=x.clip=function(O){return ae(O==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return Tu("evenodd")},x.__private__.discardPath=x.discardPath=function(){return ae("n"),this};var Ci=x.__private__.isValidStyle=function(O){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(te=!0),te};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(O){return Ci(O)&&(f=O),this};var Ic=x.__private__.getStyle=x.getStyle=function(O){var te=f;switch(O){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=O}return te},qa=x.close=function(){return ae("h"),this};x.stroke=function(){return ae("S"),this},x.fill=function(O){return ei("f",O),this},x.fillEvenOdd=function(O){return ei("f*",O),this},x.fillStroke=function(O){return ei("B",O),this},x.fillStrokeEvenOdd=function(O){return ei("B*",O),this};var ei=function(O,te){hr(te)==="object"?gi(te,O):ae(O)},$o=function(O){O===null||B===C.ADVANCED&&O===void 0||(O=Ic(O),ae(O))};function ps(O,te,we,Ee,Re){var Ze=new Xh(te||this.boundingBox,we||this.xStep,Ee||this.yStep,this.gState,Re||this.matrix);Ze.stream=this.stream;var ht=O+"$$"+this.cloneIndex+++"$$";return Mr(ht,Ze),Ze}var gi=function(O,te){var we=aa[O.key],Ee=fn[we];if(Ee instanceof _f)ae("q"),ae(Ol(te)),Ee.gState&&x.setGState(Ee.gState),ae(O.matrix.toString()+" cm"),ae("/"+we+" sh"),ae("Q");else if(Ee instanceof Xh){var Re=new Ot(1,0,0,-1,0,ti());O.matrix&&(Re=Re.multiply(O.matrix||Or),we=ps.call(Ee,O.key,O.boundingBox,O.xStep,O.yStep,Re).id),ae("q"),ae("/Pattern cs"),ae("/"+we+" scn"),Ee.gState&&x.setGState(Ee.gState),ae(te),ae("Q")}},Ol=function(O){switch(O){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ii=x.moveTo=function(O,te){return ae(k(R(O))+" "+k(G(te))+" m"),this},Pi=x.lineTo=function(O,te){return ae(k(R(O))+" "+k(G(te))+" l"),this},Ri=x.curveTo=function(O,te,we,Ee,Re,Ze){return ae([k(R(O)),k(G(te)),k(R(we)),k(G(Ee)),k(R(Re)),k(G(Ze)),"c"].join(" ")),this};x.__private__.line=x.line=function(O,te,we,Ee,Re){if(isNaN(O)||isNaN(te)||isNaN(we)||isNaN(Ee)||!Ci(Re))throw new Error("Invalid arguments passed to jsPDF.line");return B===C.COMPAT?this.lines([[we-O,Ee-te]],O,te,[1,1],Re||"S"):this.lines([[we-O,Ee-te]],O,te,[1,1]).stroke()},x.__private__.lines=x.lines=function(O,te,we,Ee,Re,Ze){var ht,St,b,z,W,fe,Ie,qe,pt,rn,_n,Kt;if(typeof O=="number"&&(Kt=we,we=te,te=O,O=Kt),Ee=Ee||[1,1],Ze=Ze||!1,isNaN(te)||isNaN(we)||!Array.isArray(O)||!Array.isArray(Ee)||!Ci(Re)||typeof Ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ii(te,we),ht=Ee[0],St=Ee[1],z=O.length,rn=te,_n=we,b=0;b<z;b++)(W=O[b]).length===2?(rn=W[0]*ht+rn,_n=W[1]*St+_n,Pi(rn,_n)):(fe=W[0]*ht+rn,Ie=W[1]*St+_n,qe=W[2]*ht+rn,pt=W[3]*St+_n,rn=W[4]*ht+rn,_n=W[5]*St+_n,Ri(fe,Ie,qe,pt,rn,_n));return Ze&&qa(),$o(Re),this},x.path=function(O){for(var te=0;te<O.length;te++){var we=O[te],Ee=we.c;switch(we.op){case"m":Ii(Ee[0],Ee[1]);break;case"l":Pi(Ee[0],Ee[1]);break;case"c":Ri.apply(this,Ee);break;case"h":qa()}}return this},x.__private__.rect=x.rect=function(O,te,we,Ee,Re){if(isNaN(O)||isNaN(te)||isNaN(we)||isNaN(Ee)||!Ci(Re))throw new Error("Invalid arguments passed to jsPDF.rect");return B===C.COMPAT&&(Ee=-Ee),ae([k(R(O)),k(G(te)),k(R(we)),k(R(Ee)),"re"].join(" ")),$o(Re),this},x.__private__.triangle=x.triangle=function(O,te,we,Ee,Re,Ze,ht){if(isNaN(O)||isNaN(te)||isNaN(we)||isNaN(Ee)||isNaN(Re)||isNaN(Ze)||!Ci(ht))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[we-O,Ee-te],[Re-we,Ze-Ee],[O-Re,te-Ze]],O,te,[1,1],ht,!0),this},x.__private__.roundedRect=x.roundedRect=function(O,te,we,Ee,Re,Ze,ht){if(isNaN(O)||isNaN(te)||isNaN(we)||isNaN(Ee)||isNaN(Re)||isNaN(Ze)||!Ci(ht))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var St=4/3*(Math.SQRT2-1);return Re=Math.min(Re,.5*we),Ze=Math.min(Ze,.5*Ee),this.lines([[we-2*Re,0],[Re*St,0,Re,Ze-Ze*St,Re,Ze],[0,Ee-2*Ze],[0,Ze*St,-Re*St,Ze,-Re,Ze],[2*Re-we,0],[-Re*St,0,-Re,-Ze*St,-Re,-Ze],[0,2*Ze-Ee],[0,-Ze*St,Re*St,-Ze,Re,-Ze]],O+Re,te,[1,1],ht,!0),this},x.__private__.ellipse=x.ellipse=function(O,te,we,Ee,Re){if(isNaN(O)||isNaN(te)||isNaN(we)||isNaN(Ee)||!Ci(Re))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ze=4/3*(Math.SQRT2-1)*we,ht=4/3*(Math.SQRT2-1)*Ee;return Ii(O+we,te),Ri(O+we,te-ht,O+Ze,te-Ee,O,te-Ee),Ri(O-Ze,te-Ee,O-we,te-ht,O-we,te),Ri(O-we,te+ht,O-Ze,te+Ee,O,te+Ee),Ri(O+Ze,te+Ee,O+we,te+ht,O+we,te),$o(Re),this},x.__private__.circle=x.circle=function(O,te,we,Ee){if(isNaN(O)||isNaN(te)||isNaN(we)||!Ci(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,te,we,we,Ee)},x.setFont=function(O,te,we){return we&&(te=F(te,we)),Vt=fo(O,te,{disableWarning:!1}),this};var po=x.__private__.getFont=x.getFont=function(){return pn[fo.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var O,te,we={};for(O in mn)if(mn.hasOwnProperty(O))for(te in we[O]=[],mn[O])mn[O].hasOwnProperty(te)&&we[O].push(te);return we},x.addFont=function(O,te,we,Ee,Re){var Ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ze.indexOf(arguments[3])!==-1?Re=arguments[3]:arguments[3]&&Ze.indexOf(arguments[3])==-1&&(we=F(we,Ee)),Re=Re||"Identity-H",kc.call(this,O,te,we,Re)};var Hn,sa=t.lineWidth||.200025,Di=x.__private__.getLineWidth=x.getLineWidth=function(){return sa},mo=x.__private__.setLineWidth=x.setLineWidth=function(O){return sa=O,ae(k(R(O))+" w"),this};x.__private__.setLineDash=Wt.API.setLineDash=Wt.API.setLineDashPattern=function(O,te){if(O=O||[],te=te||0,isNaN(te)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map((function(we){return k(R(we))})).join(" "),te=k(R(te)),ae("["+O+"] "+te+" d"),this};var zs=x.__private__.getLineHeight=x.getLineHeight=function(){return Ue*Hn};x.__private__.getLineHeight=x.getLineHeight=function(){return Ue*Hn};var Pc=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(Hn=O),this},Vs=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Hn};Pc(t.lineHeight);var vi=x.__private__.getHorizontalCoordinate=function(O){return R(O)},Fr=x.__private__.getVerticalCoordinate=function(O){return B===C.ADVANCED?O:It[H].mediaBox.topRightY-It[H].mediaBox.bottomLeftY-R(O)},Ho=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(O){return k(vi(O))},Us=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(O){return k(Fr(O))},za=t.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return Ft(za)},x.__private__.setStrokeColor=x.setDrawColor=function(O,te,we,Ee){return za=Zt({ch1:O,ch2:te,ch3:we,ch4:Ee,pdfColorType:"draw",precision:2}),ae(za),this};var kl=t.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return Ft(kl)},x.__private__.setFillColor=x.setFillColor=function(O,te,we,Ee){return kl=Zt({ch1:O,ch2:te,ch3:we,ch4:Ee,pdfColorType:"fill",precision:2}),ae(kl),this};var $s=t.textColor||"0 g",go=x.__private__.getTextColor=x.getTextColor=function(){return Ft($s)};x.__private__.setTextColor=x.setTextColor=function(O,te,we,Ee){return $s=Zt({ch1:O,ch2:te,ch3:we,ch4:Ee,pdfColorType:"text",precision:3}),this};var Go=t.charSpace,Cl=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Go||0)};x.__private__.setCharSpace=x.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Go=O,this};var Rc=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(O){var te=x.CapJoinStyles[O];if(te===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rc=te,ae(te+" J"),this};var Il=0;x.__private__.setLineJoin=x.setLineJoin=function(O){var te=x.CapJoinStyles[O];if(te===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Il=te,ae(te+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(k(R(O))+" M"),this},x.GState=Cy,x.setGState=function(O){(O=typeof O=="string"?Bn[jr[O]]:vo(null,O)).equals(Lr)||(ae("/"+O.id+" gs"),Lr=O)};var vo=function(O,te){if(!O||!jr[O]){var we=!1;for(var Ee in Bn)if(Bn.hasOwnProperty(Ee)&&Bn[Ee].equals(te)){we=!0;break}if(we)te=Bn[Ee];else{var Re="GS"+(Object.keys(Bn).length+1).toString(10);Bn[Re]=te,te.id=Re}return O&&(jr[O]=te.id),gn.publish("addGState",te),te}};x.addGState=function(O,te){return vo(O,te),this},x.saveGraphicsState=function(){return ae("q"),Ti.push({key:Vt,size:Ue,color:$s}),this},x.restoreGraphicsState=function(){ae("Q");var O=Ti.pop();return Vt=O.key,Ue=O.size,$s=O.color,Lr=null,this},x.setCurrentTransformationMatrix=function(O){return ae(O.toString()+" cm"),this},x.comment=function(O){return ae("#"+O),this};var yo=function(O,te){var we=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return we},set:function(Ze){isNaN(Ze)||(we=parseFloat(Ze))}});var Ee=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(Ze){isNaN(Ze)||(Ee=parseFloat(Ze))}});var Re="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Re},set:function(Ze){Re=Ze.toString()}}),this},Pl=function(O,te,we,Ee){yo.call(this,O,te),this.type="rect";var Re=we||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Re},set:function(ht){isNaN(ht)||(Re=parseFloat(ht))}});var Ze=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ze},set:function(ht){isNaN(ht)||(Ze=parseFloat(ht))}}),this},Wo=function(){this.page=bn,this.currentPage=H,this.pages=Se.slice(0),this.pagesContext=It.slice(0),this.x=Zn,this.y=Jt,this.matrix=er,this.width=xo(H),this.height=ti(H),this.outputDestination=Je,this.id="",this.objectNumber=-1};Wo.prototype.restore=function(){bn=this.page,H=this.currentPage,It=this.pagesContext,Se=this.pages,Zn=this.x,Jt=this.y,er=this.matrix,Dl(H,this.width),Ko(H,this.height),Je=this.outputDestination};var Rl=function(O,te,we,Ee,Re){ma.push(new Wo),bn=H=0,Se=[],Zn=O,Jt=te,er=Re,pr([we,Ee])},Ou=function(O){if(ia[O])ma.pop().restore();else{var te=new Wo,we="Xo"+(Object.keys(Tr).length+1).toString(10);te.id=we,ia[O]=we,Tr[we]=te,gn.publish("addFormObject",te),ma.pop().restore()}};for(var rs in x.beginFormObject=function(O,te,we,Ee,Re){return Rl(O,te,we,Ee,Re),this},x.endFormObject=function(O){return Ou(O),this},x.doFormObject=function(O,te){var we=Tr[ia[O]];return ae("q"),ae(te.toString()+" cm"),ae("/"+we.id+" Do"),ae("Q"),this},x.getFormObject=function(O){var te=Tr[ia[O]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},x.save=function(O,te){return O=O||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(xf(El(ts()),O),typeof xf.unload=="function"&&en.setTimeout&&setTimeout(xf.unload,911),this):new Promise((function(we,Ee){try{var Re=xf(El(ts()),O);typeof xf.unload=="function"&&en.setTimeout&&setTimeout(xf.unload,911),we(Re)}catch(Ze){Ee(Ze.message)}}))},Wt.API)Wt.API.hasOwnProperty(rs)&&(rs==="events"&&Wt.API.events.length?(function(O,te){var we,Ee,Re;for(Re=te.length-1;Re!==-1;Re--)we=te[Re][0],Ee=te[Re][1],O.subscribe.apply(O,[we].concat(typeof Ee=="function"?[Ee]:Ee))})(gn,Wt.API.events):x[rs]=Wt.API[rs]);var xo=x.getPageWidth=function(O){return(It[O=O||H].mediaBox.topRightX-It[O].mediaBox.bottomLeftX)/bt},Dl=x.setPageWidth=function(O,te){It[O].mediaBox.topRightX=te*bt+It[O].mediaBox.bottomLeftX},ti=x.getPageHeight=function(O){return(It[O=O||H].mediaBox.topRightY-It[O].mediaBox.bottomLeftY)/bt},Ko=x.setPageHeight=function(O,te){It[O].mediaBox.topRightY=te*bt+It[O].mediaBox.bottomLeftY};return x.internal={pdfEscape:Gr,getStyle:Ic,getFont:po,getFontSize:et,getCharSpace:Cl,getTextColor:go,getLineHeight:zs,getLineHeightFactor:Vs,getLineWidth:Di,write:Ye,getHorizontalCoordinate:vi,getVerticalCoordinate:Fr,getCoordinateString:Ho,getVerticalCoordinateString:Us,collections:{},newObject:ar,newAdditionalObject:Gt,newObjectDeferred:ue,newObjectDeferredBegin:We,getFilters:Me,putStream:Et,events:gn,scaleFactor:bt,pageSize:{getWidth:function(){return xo(H)},setWidth:function(O){Dl(H,O)},getHeight:function(){return ti(H)},setHeight:function(O){Ko(H,O)}},encryptionOptions:p,encryption:Fn,getEncryptor:Tl,output:jl,getNumberOfPages:Cn,pages:Se,out:ae,f2:U,f3:M,getPageInfo:Uo,getPageInfoByObjId:Ut,getCurrentPageInfo:mi,getPDFVersion:w,Point:yo,Rectangle:Pl,Matrix:Ot,hasHotfix:ns},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return xo(H)},set:function(O){Dl(H,O)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return ti(H)},set:function(O){Ko(H,O)},enumerable:!0,configurable:!0}),Sl.call(x,He),Vt="F1",qs(a,n),gn.publish("initialized"),x}zh.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},zh.prototype.toHexString=function(t){return t.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},zh.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},zh.prototype.processOwnerPassword=function(t,e){return gS(mS(e).substr(0,5),t)},zh.prototype.encryptor=function(t,e){var n=mS(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return gS(n,r)}},Cy.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||hr(t)!==hr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Wt.API={events:[]},Wt.version="2.5.2";var ua=Wt.API,s4=1,Xf=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bh=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},un=function(t){return t.toFixed(2)},od=function(t){return t.toFixed(5)};ua.__acroform__={};var Ls=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},qR=function(t){return t*s4},nc=function(t){var e=new _9,n=Dt.internal.getHeight(t)||0,r=Dt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(un(r)),Number(un(n))],e},Joe=ua.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Zoe=ua.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},ele=ua.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},xa=ua.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ele(t,e-1)},ba=ua.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Joe(t,e-1)},_a=ua.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Zoe(t,e-1)},tle=ua.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=t[0],i=t[1],o=t[2],u=t[3],d={};return d.lowerLeft_X=n(a)||0,d.lowerLeft_Y=r(i+u)||0,d.upperRight_X=n(a+o)||0,d.upperRight_Y=r(i)||0,[Number(un(d.lowerLeft_X)),Number(un(d.lowerLeft_Y)),Number(un(d.upperRight_X)),Number(un(d.upperRight_Y))]},nle=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=vS(t,n),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+un(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=nc(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},vS=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map((function(M){return M.split(`
`)})):a.map((function(M){return[M]}));var i=n,o=Dt.internal.getHeight(t)||0;o=o<0?-o:o;var u=Dt.internal.getWidth(t)||0;u=u<0?-u:u;var d=function(M,R,j){if(M+1<a.length){var G=R+" "+a[M+1][0];return Xv(G,t,j).width<=u-4}return!1};i++;e:for(;i>0;){e="",i--;var f,p,g=Xv("3",t,i).height,y=t.multiline?o-i:(o-g)/2,x=y+=2,E=0,w=0,N=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Xv(e,t,i=12).width+", FieldWidth:"+u+`
`;break}for(var T="",C=0,B=0;B<a.length;B++)if(a.hasOwnProperty(B)){var q=!1;if(a[B].length!==1&&N!==a[B].length-1){if((g+2)*(C+2)+2>o)continue e;T+=a[B][N],q=!0,w=B,B--}else{T=(T+=a[B][N]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var D=parseInt(B),F=d(D,T,i),k=B>=a.length-1;if(F&&!k){T+=" ",N=0;continue}if(F||k){if(k)w=D;else if(t.multiline&&(g+2)*(C+2)+2>o)continue e}else{if(!t.multiline||(g+2)*(C+2)+2>o)continue e;w=D}}for(var I="",V=E;V<=w;V++){var U=a[V];if(t.multiline){if(V===w){I+=U[N]+" ",N=(N+1)%U.length;continue}if(V===E){I+=U[U.length-1]+" ";continue}}I+=U[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,p=Xv(I,t,i).width,t.textAlign){case"right":f=u-p-2;break;case"center":f=(u-p)/2;break;case"left":default:f=2}e+=un(f)+" "+un(x)+` Td
`,e+="("+Xf(I)+`) Tj
`,e+=-un(f)+` 0 Td
`,x=-(i+2),p=0,E=q?w:w+1,C++,T=""}break}return r.text=e,r.fontSize=i,r},Xv=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},rle={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ale=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find((function(r){return r.type===n.type&&r.object===n.object}))===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},ile=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,a=t[n];e.internal.newObjectDeferredBegin(a.objId,!0),hr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[r]}},sle=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(wl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(rle)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");s4=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new w9,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",(function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)})),t.internal.events.subscribe("buildDocument",(function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var i=r[a];i.objId=void 0,i.hasAnnotation&&ale(i,n)}})(t)})),t.internal.events.subscribe("putCatalog",(function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)})),t.internal.events.subscribe("postPutPages",(function(n){(function(r,a){var i=!r;for(var o in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var u=r[o],d=[],f=u.Rect;if(u.Rect&&(u.Rect=tle(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Dt.createDefaultAppearanceStream(u),hr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=nle(u);d.push({key:"AP",value:"<</N "+p+">>"}),a.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var g="";for(var y in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(y)){var x=u.appearanceStreamContent[y];if(g+="/"+y+" ",g+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var o in x)if(x.hasOwnProperty(o)){var E=x[o];typeof E=="function"&&(E=E.call(a,u)),g+="/"+o+" "+E+" ",a.internal.acroformPlugin.xForms.indexOf(E)>=0||a.internal.acroformPlugin.xForms.push(E)}}else typeof(E=x)=="function"&&(E=E.call(a,u)),g+="/"+o+" "+E,a.internal.acroformPlugin.xForms.indexOf(E)>=0||a.internal.acroformPlugin.xForms.push(E);g+=">>"}d.push({key:"AP",value:`<<
`+g+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:u.objId}),a.internal.out("endobj")}i&&ile(a.internal.acroformPlugin.xForms,a)})(n,t)})),t.internal.acroformPlugin.isInitialized=!0}},b9=ua.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),hr(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),a+="("+Xf(r(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},EA=function(t,e,n){var r=function(a){return a};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Xf(r(t))+")"},lc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};lc.prototype.toString=function(){return this.objId+" 0 R"},lc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},lc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter((function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"}));for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],a=this[r];a&&(Array.isArray(a)?t.push({key:r,value:b9(a,this.objId,this.scope)}):a instanceof lc?(a.scope=this.scope,t.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:r,value:a}))}return t};var _9=function(){lc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ls(_9,lc);var w9=function(){lc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Xf(n(t))+")"}},set:function(n){t=n}})};Ls(w9,lc);var wl=function t(){lc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');e=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xa(e,3)},set:function(T){T?this.F=ba(e,3):this.F=_a(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');n=T}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(T){r=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(T){r[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(T){r[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(T){r[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(T){r[3]=T}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Iy)return;i="FieldObject"+t.FieldNum++}var T=function(C){return C};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+Xf(T(i))+")"},set:function(T){i=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(T){i=T}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(T){o=T}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(T){u=T}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(T){d=T}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/s4:f},set:function(T){f=T}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(T){p=T}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Iy||this instanceof Cf))return EA(g,this.objId,this.scope)},set:function(T){T=T.toString(),g=T}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof di?y:EA(y,this.objId,this.scope)},set:function(T){T=T.toString(),y=this instanceof di?T:T.substr(0,1)==="("?Bh(T.substr(1,T.length-2)):Bh(T)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof di?Bh(y.substr(1,y.length-1)):y},set:function(T){T=T.toString(),y=this instanceof di?"/"+T:T}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof di?x:EA(x,this.objId,this.scope)},set:function(T){T=T.toString(),x=this instanceof di?T:T.substr(0,1)==="("?Bh(T.substr(1,T.length-2)):Bh(T)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof di?Bh(x.substr(1,x.length-1)):x},set:function(T){T=T.toString(),x=this instanceof di?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(T){T=!!T,w=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(T){E=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,1)},set:function(T){T?this.Ff=ba(this.Ff,1):this.Ff=_a(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,2)},set:function(T){T?this.Ff=ba(this.Ff,2):this.Ff=_a(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,3)},set:function(T){T?this.Ff=ba(this.Ff,3):this.Ff=_a(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');N=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(N){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};Ls(wl,lc);var ap=function(){wl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return b9(e,this.objId,this.scope)},set:function(n){var r,a;a=[],typeof(r=n)=="string"&&(a=(function(i,o,u){u||(u=1);for(var d,f=[];d=o.exec(i);)f.push(d[u]);return f})(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,18)},set:function(n){n?this.Ff=ba(this.Ff,18):this.Ff=_a(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ba(this.Ff,19):this.Ff=_a(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,20)},set:function(n){n?(this.Ff=ba(this.Ff,20),e.sort()):this.Ff=_a(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,22)},set:function(n){n?this.Ff=ba(this.Ff,22):this.Ff=_a(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,23)},set:function(n){n?this.Ff=ba(this.Ff,23):this.Ff=_a(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,27)},set:function(n){n?this.Ff=ba(this.Ff,27):this.Ff=_a(this.Ff,27)}}),this.hasAppearanceStream=!1};Ls(ap,wl);var ip=function(){ap.call(this),this.fontName="helvetica",this.combo=!1};Ls(ip,ap);var sp=function(){ip.call(this),this.combo=!0};Ls(sp,ip);var c1=function(){sp.call(this),this.edit=!0};Ls(c1,sp);var di=function(){wl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,15)},set:function(n){n?this.Ff=ba(this.Ff,15):this.Ff=_a(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,16)},set:function(n){n?this.Ff=ba(this.Ff,16):this.Ff=_a(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,17)},set:function(n){n?this.Ff=ba(this.Ff,17):this.Ff=_a(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,26)},set:function(n){n?this.Ff=ba(this.Ff,26):this.Ff=_a(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+Xf(n(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){hr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ls(di,wl);var u1=function(){di.call(this),this.pushButton=!0};Ls(u1,di);var op=function(){di.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ls(op,di);var Iy=function(){var t,e;wl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),r)o.push("/"+i+" ("+Xf(a(r[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){hr(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ls(Iy,wl),op.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},op.prototype.createOption=function(t){var e=new Iy;return e.Parent=this,e.optionName=t,this.Kids.push(e),ole.call(this.scope,e),e};var d1=function(){di.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Dt.CheckBox.createAppearanceStream()};Ls(d1,di);var Cf=function(){wl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,13)},set:function(e){e?this.Ff=ba(this.Ff,13):this.Ff=_a(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,21)},set:function(e){e?this.Ff=ba(this.Ff,21):this.Ff=_a(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,23)},set:function(e){e?this.Ff=ba(this.Ff,23):this.Ff=_a(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,24)},set:function(e){e?this.Ff=ba(this.Ff,24):this.Ff=_a(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,25)},set:function(e){e?this.Ff=ba(this.Ff,25):this.Ff=_a(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,26)},set:function(e){e?this.Ff=ba(this.Ff,26):this.Ff=_a(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ls(Cf,wl);var f1=function(){Cf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,14)},set:function(t){t?this.Ff=ba(this.Ff,14):this.Ff=_a(this.Ff,14)}}),this.password=!0};Ls(f1,Cf);var Dt={CheckBox:{createAppearanceStream:function(){return{N:{On:Dt.CheckBox.YesNormal},D:{On:Dt.CheckBox.YesPushDown,Off:Dt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=nc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=vS(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+un(Dt.internal.getWidth(t))+" "+un(Dt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+un(i.fontSize)+" Tf "+a),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=nc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),a=[],i=Dt.internal.getHeight(t),o=Dt.internal.getWidth(t),u=vS(t,t.caption);return a.push("1 g"),a.push("0 0 "+un(o)+" "+un(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+un(o-1)+" "+un(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+un(u.fontSize)+" Tf "+r),a.push(u.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=nc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+un(Dt.internal.getWidth(t))+" "+un(Dt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Dt.RadioButton.Circle.YesNormal,e.D[t]=Dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=nc(t);e.scope=t.scope;var n=[],r=Dt.internal.getWidth(t)<=Dt.internal.getHeight(t)?Dt.internal.getWidth(t)/4:Dt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var a=Dt.internal.Bezier_C,i=Number((r*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+od(Dt.internal.getWidth(t)/2)+" "+od(Dt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=nc(t);e.scope=t.scope;var n=[],r=Dt.internal.getWidth(t)<=Dt.internal.getHeight(t)?Dt.internal.getWidth(t)/4:Dt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*Dt.internal.Bezier_C).toFixed(5)),o=Number((r*Dt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+od(Dt.internal.getWidth(t)/2)+" "+od(Dt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+od(Dt.internal.getWidth(t)/2)+" "+od(Dt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=nc(t);e.scope=t.scope;var n=[],r=Dt.internal.getWidth(t)<=Dt.internal.getHeight(t)?Dt.internal.getWidth(t)/4:Dt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*Dt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+od(Dt.internal.getWidth(t)/2)+" "+od(Dt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Dt.RadioButton.Cross.YesNormal,e.D[t]=Dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=nc(t);e.scope=t.scope;var n=[],r=Dt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+un(Dt.internal.getWidth(t)-2)+" "+un(Dt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(un(r.x1.x)+" "+un(r.x1.y)+" m"),n.push(un(r.x2.x)+" "+un(r.x2.y)+" l"),n.push(un(r.x4.x)+" "+un(r.x4.y)+" m"),n.push(un(r.x3.x)+" "+un(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=nc(t);e.scope=t.scope;var n=Dt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+un(Dt.internal.getWidth(t))+" "+un(Dt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+un(Dt.internal.getWidth(t)-2)+" "+un(Dt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(un(n.x1.x)+" "+un(n.x1.y)+" m"),r.push(un(n.x2.x)+" "+un(n.x2.y)+" l"),r.push(un(n.x4.x)+" "+un(n.x4.y)+" m"),r.push(un(n.x3.x)+" "+un(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=nc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+un(Dt.internal.getWidth(t))+" "+un(Dt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Dt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Dt.internal.getWidth(t),n=Dt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Dt.internal.getWidth=function(t){var e=0;return hr(t)==="object"&&(e=qR(t.Rect[2])),e},Dt.internal.getHeight=function(t){var e=0;return hr(t)==="object"&&(e=qR(t.Rect[3])),e};var ole=ua.addField=function(t){if(sle(this,t),!(t instanceof wl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ua.AcroFormChoiceField=ap,ua.AcroFormListBox=ip,ua.AcroFormComboBox=sp,ua.AcroFormEditBox=c1,ua.AcroFormButton=di,ua.AcroFormPushButton=u1,ua.AcroFormRadioButton=op,ua.AcroFormCheckBox=d1,ua.AcroFormTextField=Cf,ua.AcroFormPasswordField=f1,ua.AcroFormAppearance=Dt,ua.AcroForm={ChoiceField:ap,ListBox:ip,ComboBox:sp,EditBox:c1,Button:di,PushButton:u1,RadioButton:op,CheckBox:d1,TextField:Cf,PasswordField:f1,Appearance:Dt},Wt.AcroForm={ChoiceField:ap,ListBox:ip,ComboBox:sp,EditBox:c1,Button:di,PushButton:u1,RadioButton:op,CheckBox:d1,TextField:Cf,PasswordField:f1,Appearance:Dt};Wt.AcroForm;function A9(t){return t.reduce((function(e,n,r){return e[n]=r,e}),{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(M,R){var j,G,re,J,Z,oe=e;if((R=R||e)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(F(M))for(Z in n)for(re=n[Z],j=0;j<re.length;j+=1){for(J=!0,G=0;G<re[j].length;G+=1)if(re[j][G]!==void 0&&re[j][G]!==M[G]){J=!1;break}if(J===!0){oe=Z;break}}else for(Z in n)for(re=n[Z],j=0;j<re.length;j+=1){for(J=!0,G=0;G<re[j].length;G+=1)if(re[j][G]!==void 0&&re[j][G]!==M.charCodeAt(G)){J=!1;break}if(J===!0){oe=Z;break}}return oe===e&&R!==e&&(oe=R),oe},a=function M(R){for(var j=this.internal.write,G=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:R.width}),J.push({key:"Height",value:R.height}),R.colorSpace===N.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===N.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var Z="",oe=0,ye=R.transparency.length;oe<ye;oe++)Z+=R.transparency[oe]+" "+R.transparency[oe]+" ";J.push({key:"Mask",value:"["+Z+"]"})}R.sMask!==void 0&&J.push({key:"SMask",value:R.objectId+1+" 0 R"});var ge=R.filter!==void 0?["/"+R.filter]:void 0;if(G({data:R.data,additionalKeyValues:J,alreadyAppliedFilters:ge,objectId:R.objectId}),j("endobj"),"sMask"in R&&R.sMask!==void 0){var le="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,P={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:le,data:R.sMask};"filter"in R&&(P.filter=R.filter),M.call(this,P)}if(R.colorSpace===N.INDEXED){var H=this.internal.newObject();G({data:I(new Uint8Array(R.palette)),objectId:H}),j("endobj")}},i=function(){var M=this.internal.collections.addImage_images;for(var R in M)a.call(this,M[R])},o=function(){var M,R=this.internal.collections.addImage_images,j=this.internal.write;for(var G in R)j("/I"+(M=R[G]).index,M.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var M=this.internal.collections.addImage_images;return u.call(this),M},f=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(M){return typeof t["process"+M.toUpperCase()]=="function"},g=function(M){return hr(M)==="object"&&M.nodeType===1},y=function(M,R){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var j=""+M.getAttribute("src");if(j.indexOf("data:image/")===0)return v0(unescape(j).split("base64,").pop());var G=t.loadFile(j,!0);if(G!==void 0)return G}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var re;switch(R){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;case"JPEG":case"JPG":default:re="image/jpeg"}return v0(M.toDataURL(re,1).split("base64,").pop())}},x=function(M){var R=this.internal.collections.addImage_images;if(R){for(var j in R)if(M===R[j].alias)return R[j]}},E=function(M,R,j){return M||R||(M=-96,R=-96),M<0&&(M=-1*j.width*72/M/this.internal.scaleFactor),R<0&&(R=-1*j.height*72/R/this.internal.scaleFactor),M===0&&(M=R*j.width/j.height),R===0&&(R=M*j.height/j.width),[M,R]},w=function(M,R,j,G,re,J){var Z=E.call(this,j,G,re),oe=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,ge=d.call(this);if(j=Z[0],G=Z[1],ge[re.index]=re,J){J*=Math.PI/180;var le=Math.cos(J),P=Math.sin(J),H=function(K){return K.toFixed(4)},Q=[H(le),H(P),H(-1*P),H(le),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,oe(M),ye(R+G),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([oe(j),"0","0",oe(G),"0","0","cm"].join(" "))):this.internal.write([oe(j),"0","0",oe(G),oe(M),ye(R+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=t.__addimage__.sHashCode=function(M){var R,j,G=0;if(typeof M=="string")for(j=M.length,R=0;R<j;R++)G=(G<<5)-G+M.charCodeAt(R),G|=0;else if(F(M))for(j=M.byteLength/2,R=0;R<j;R++)G=(G<<5)-G+M[R],G|=0;return G},B=t.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var R=!0;return M.length===0&&(R=!1),M.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(R=!1),R},q=t.__addimage__.extractImageFromDataUrl=function(M){var R=(M=M||"").split("base64,"),j=null;if(R.length===2){var G=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(G)&&(j={mimeType:G[1],charset:G[2],data:R[1]})}return j},D=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(M){return D()&&M instanceof ArrayBuffer};var F=t.__addimage__.isArrayBufferView=function(M){return D()&&typeof Uint32Array<"u"&&(M instanceof Int8Array||M instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array)},k=t.__addimage__.binaryStringToUint8Array=function(M){for(var R=M.length,j=new Uint8Array(R),G=0;G<R;G++)j[G]=M.charCodeAt(G);return j},I=t.__addimage__.arrayBufferToBinaryString=function(M){for(var R="",j=F(M)?M:new Uint8Array(M),G=0;G<j.length;G+=8192)R+=String.fromCharCode.apply(null,j.subarray(G,G+8192));return R};t.addImage=function(){var M,R,j,G,re,J,Z,oe,ye;if(typeof arguments[1]=="number"?(R=e,j=arguments[1],G=arguments[2],re=arguments[3],J=arguments[4],Z=arguments[5],oe=arguments[6],ye=arguments[7]):(R=arguments[1],j=arguments[2],G=arguments[3],re=arguments[4],J=arguments[5],Z=arguments[6],oe=arguments[7],ye=arguments[8]),hr(M=arguments[0])==="object"&&!g(M)&&"imageData"in M){var ge=M;M=ge.imageData,R=ge.format||R||e,j=ge.x||j||0,G=ge.y||G||0,re=ge.w||ge.width||re,J=ge.h||ge.height||J,Z=ge.alias||Z,oe=ge.compression||oe,ye=ge.rotation||ge.angle||ye}var le=this.internal.getFilters();if(oe===void 0&&le.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(j)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var P=V.call(this,M,R,Z,oe);return w.call(this,j,G,re,J,P,ye),this};var V=function(M,R,j,G){var re,J,Z;if(typeof M=="string"&&r(M)===e){M=unescape(M);var oe=U(M,!1);(oe!==""||(oe=t.loadFile(M,!0))!==void 0)&&(M=oe)}if(g(M)&&(M=y(M,R)),R=r(M,R),!p(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((Z=j)==null||Z.length===0)&&(j=(function(ye){return typeof ye=="string"||F(ye)?C(ye):F(ye.data)?C(ye.data):null})(M)),(re=x.call(this,j))||(D()&&(M instanceof Uint8Array||R==="RGBA"||(J=M,M=k(M))),re=this["process"+R.toUpperCase()](M,f.call(this),j,(function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in t.image_compression?ye:T.NONE})(G),J)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},U=t.__addimage__.convertBase64ToBinaryString=function(M,R){var j;R=typeof R!="boolean"||R;var G,re="";if(typeof M=="string"){G=(j=q(M))!==null?j.data:M;try{re=v0(G)}catch(J){if(R)throw B(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return re};t.getImageProperties=function(M){var R,j,G="";if(g(M)&&(M=y(M)),typeof M=="string"&&r(M)===e&&((G=U(M,!1))===""&&(G=t.loadFile(M)||""),M=G),j=r(M),!p(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!D()||M instanceof Uint8Array||(M=k(M)),!(R=this["process"+j.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=j,R}})(Wt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Wt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,a,i,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,p=!1,g=0;g<f.length&&!p;g++)switch((r=f[g]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var y=0;y<f.length;y++){r=f[y];var x=this.internal.pdfEscape,E=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(w.objId),C=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+x(T(r.contents))+")",i+=" /Popup "+N.objId+" 0 R",i+=" /P "+d.objId+" 0 R",i+=" /T ("+x(T(C))+") >>",w.content=i;var B=w.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+B,r.open&&(i+=" /Open true"),i+=" >>",N.content=i,this.internal.write(w.objId,"0 R",N.objId,"0 R");break;case"freetext":a="/Rect ["+o(r.bounds.x)+" "+u(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var q=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+x(E(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+q+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var D=this.annotations._nameMap[r.options.name];r.options.pageNumber=D.page,r.options.top=D.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+x(E(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var F=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+F+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,a,i,o){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(n),y:f(r),w:d(n+a),h:f(r+i)},options:o,type:"link"})},t.textWithLink=function(n,r,a,i){var o,u,d=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){u=i.maxWidth;var p=this.splitTextToSize(n,u).length;o=Math.ceil(f*p)}else u=d,o=f;return this.text(n,r,a,i),a+=.2*f,i.align==="center"&&(r-=d/2),i.align==="right"&&(r-=d),this.link(r,a-f,u,o,i),d},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(Wt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},u=t.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length<=2},d=t.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&a.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(w){var N=0,T=n,C="",B=0;for(N=0;N<w.length;N+=1)T[w.charCodeAt(N)]!==void 0?(B++,typeof(T=T[w.charCodeAt(N)])=="number"&&(C+=String.fromCharCode(T),T=n,B=0),N===w.length-1&&(T=n,C+=w.charAt(N-(B-1)),N-=B-1,B=0)):(T=n,C+=w.charAt(N-B),N-=B,B=0);return C};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&r[w.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(w,N,T){return o(w)?i(w)===!1?-1:!f(w)||!o(N)&&!o(T)||!o(T)&&u(N)||u(w)&&!o(N)||u(w)&&d(N)||u(w)&&u(N)?0:p(w)&&o(N)&&!u(N)&&o(T)&&f(T)?3:u(w)||!o(T)?1:2:-1},x=function(w){var N=0,T=0,C=0,B="",q="",D="",F=(w=w||"").split("\\s+"),k=[];for(N=0;N<F.length;N+=1){for(k.push(""),T=0;T<F[N].length;T+=1)B=F[N][T],q=F[N][T-1],D=F[N][T+1],o(B)?(C=y(B,q,D),k[N]+=C!==-1?String.fromCharCode(e[B.charCodeAt(0)][C]):B):k[N]+=B;k[N]=g(k[N])}return k.join(" ")},E=t.__arabicParser__.processArabic=t.processArabic=function(){var w,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(N)){var C=0;for(T=[],C=0;C<N.length;C+=1)Array.isArray(N[C])?T.push([x(N[C][0]),N[C][1],N[C][2]]):T.push([x(N[C])]);w=T}else w=x(N);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",E])})(Wt.API),Wt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(u){n=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(u){i=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var a;if((n=n||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Wt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(w){y=w}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(w){x=w}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(w){E=w}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(d){return r.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},t.getTextDimensions=function(d,f){r.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),g=f.font||this.getFont(),y=f.scaleFactor||this.internal.scaleFactor,x=0,E=0,w=0,N=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var T=f.maxWidth;T>0?typeof d=="string"?d=this.splitTextToSize(d,T):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce((function(B,q){return B.concat(N.splitTextToSize(q,T))}),[])):d=Array.isArray(d)?d:[d];for(var C=0;C<d.length;C++)x<(w=this.getStringUnitWidth(d[C],{font:g})*p)&&(x=w);return x!==0&&(E=d.length),{w:x/=y,h:Math.max((E*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var d;d=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===d.lineNumber?(d.x=(f.x||0)+(f.width||0),d.y=f.y||0):f.y+f.height+d.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=g.top,x&&y&&(this.printHeaderRow(d.lineNumber,!0),d.y+=y[0].height)):d.y=f.y+f.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,n===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-p,d.y+p,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+p,{align:"center",baseline:"top",maxWidth:d.width-p-p}):this.text(d.text,d.x+p,d.y+p,{align:"left",baseline:"top",maxWidth:d.width-p-p})),this.internal.__cell__.lastCell=d,this};t.table=function(d,f,p,g,y){if(r.call(this),!p)throw new Error("No data for PDF table.");var x,E,w,N,T=[],C=[],B=[],q={},D={},F=[],k=[],I=(y=y||{}).autoSize||!1,V=y.printHeaders!==!1,U=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,M=y.margins||Object.assign({width:this.getPageWidth()},e),R=typeof y.padding=="number"?y.padding:3,j=y.headerBackgroundColor||"#c8c8c8",G=y.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=G,this.setFontSize(U),g==null)C=T=Object.keys(p[0]),B=T.map((function(){return"left"}));else if(Array.isArray(g)&&hr(g[0])==="object")for(T=g.map((function(ge){return ge.name})),C=g.map((function(ge){return ge.prompt||ge.name||""})),B=g.map((function(ge){return ge.align||"left"})),x=0;x<g.length;x+=1)D[g[x].name]=g[x].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(C=T=g,B=T.map((function(){return"left"})));if(I||Array.isArray(g)&&typeof g[0]=="string")for(x=0;x<T.length;x+=1){for(q[N=T[x]]=p.map((function(ge){return ge[N]})),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(C[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=q[N],this.setFont(void 0,"normal"),w=0;w<E.length;w+=1)F.push(this.getTextDimensions(E[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[N]=Math.max.apply(null,F)+R+R,F=[]}if(V){var re={};for(x=0;x<T.length;x+=1)re[T[x]]={},re[T[x]].text=C[x],re[T[x]].align=B[x];var J=u.call(this,re,D);k=T.map((function(ge){return new i(d,f,D[ge],J,re[ge].text,void 0,re[ge].align)})),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var Z=g.reduce((function(ge,le){return ge[le.name]=le.align,ge}),{});for(x=0;x<p.length;x+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:x,data:p[x]},this);var oe=u.call(this,p[x],D);for(w=0;w<T.length;w+=1){var ye=p[x][T[w]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:x,col:w,data:ye},this),o.call(this,new i(d,f,D[T[w]],oe,ye,x+2,Z[T[w]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=f,this};var u=function(d,f){var p=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(d).map((function(x){var E=d[x];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,f[x]-p-p)}),this).map((function(x){return this.getLineHeightFactor()*x.length*g/y+p+p}),this).reduce((function(x,E){return Math.max(x,E)}),0)};t.setTableHeaderRow=function(d){r.call(this),this.internal.__cell__.tableHeaderRow=d},t.printHeaderRow=function(d,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){p=this.internal.__cell__.tableHeaderRow[x].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,y.push(p)),p.lineNumber=d;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,p),this.setTextColor(E)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}})(Wt.API);var N9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},S9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],yS=A9(S9),E9=[100,200,300,400,500,600,700,800,900],lle=A9(E9);function xS(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(i){return N9[i=i||"normal"]?i:"normal"})(t.style),r=(function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}})(t.weight),a=(function(i){return typeof yS[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,n,r].join(" ")}}}function zR(t,e,n,r){var a;for(a=n;a>=0&&a<e.length;a+=r)if(t[e[a]])return t[e[a]];for(a=n;a>=0&&a<e.length;a-=r)if(t[e[a]])return t[e[a]]}var cle={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},VR={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function UR(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ule(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},cle,n.genericFontFamilies||{}),i=null,o=null,u=0;u<e.length;++u)if(a[(i=xS(e[u])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){o=t[i.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+UR(i)+"' and default family '"+r+"'.");if(o=(function(d,f){if(f[d])return f[d];var p=yS[d],g=p<=yS.normal?-1:1,y=zR(f,S9,p,g);if(!y)throw new Error("Could not find a matching font-stretch value for "+d);return y})(i.stretch,o),o=(function(d,f){if(f[d])return f[d];for(var p=N9[d],g=0;g<p.length;++g)if(f[p[g]])return f[p[g]];throw new Error("Could not find a matching font-style for "+d)})(i.style,o),!(o=(function(d,f){if(f[d])return f[d];if(d===400&&f[500])return f[500];if(d===500&&f[400])return f[400];var p=lle[d],g=zR(f,E9,p,d<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+d);return g})(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+UR(i)+"'.");return o}function $R(t){return t.trimLeft()}function dle(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function fle(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Qv,HR,GR,jA=["times"];(function(t){var e,n,r,a,i,o,u,d,f,p=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new d,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new o,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new o,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,f=new p}]);var g=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=P;Object.defineProperty(this,"pdf",{get:function(){return H}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(ce){Q=!!ce}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(ce){K=!!ce}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(ce){isNaN(ce)||(X=ce)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(ce){isNaN(ce)||(me=ce)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(ce){var ae;typeof ce=="number"?ae=[ce,ce,ce,ce]:((ae=new Array(4))[0]=ce[0],ae[1]=ce.length>=2?ce[1]:ae[0],ae[2]=ce.length>=3?ce[2]:ae[0],ae[3]=ce.length>=4?ce[3]:ae[1]),f.margin=ae}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(ce){be=ce}});var ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return ee},set:function(ce){ee=ce}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(ce){_e=ce}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(ce){ce instanceof p&&(f=ce)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(ce){f.path=ce}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(ce){Se=ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ce){var ae;ae=y(ce),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ce){var ae=y(ce);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ce){["butt","round","square"].indexOf(ce)!==-1&&(this.ctx.lineCap=ce,this.pdf.setLineCap(ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ce){isNaN(ce)||(this.ctx.lineWidth=ce,this.pdf.setLineWidth(ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ce){["bevel","round","miter"].indexOf(ce)!==-1&&(this.ctx.lineJoin=ce,this.pdf.setLineJoin(ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ce){isNaN(ce)||(this.ctx.miterLimit=ce,this.pdf.setMiterLimit(ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ce){this.ctx.textBaseline=ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ce){["right","end","center","left","start"].indexOf(ce)!==-1&&(this.ctx.textAlign=ce)}});var Ae=null;function Je(ce,ae){if(Ae===null){var Ye=(function(nt){var He=[];return Object.keys(nt).forEach((function(Ue){nt[Ue].forEach((function(Ke){var et=null;switch(Ke){case"bold":et={family:Ue,weight:"bold"};break;case"italic":et={family:Ue,style:"italic"};break;case"bolditalic":et={family:Ue,weight:"bold",style:"italic"};break;case"":case"normal":et={family:Ue}}et!==null&&(et.ref={name:Ue,style:Ke},He.push(et))}))})),He})(ce.getFontList());Ae=(function(nt){for(var He={},Ue=0;Ue<nt.length;++Ue){var Ke=xS(nt[Ue]),et=Ke.family,tt=Ke.stretch,Ge=Ke.style,yt=Ke.weight;He[et]=He[et]||{},He[et][tt]=He[et][tt]||{},He[et][tt][Ge]=He[et][tt][Ge]||{},He[et][tt][Ge][yt]=Ke}return He})(Ye.concat(ae))}return Ae}var Le=null;Object.defineProperty(this,"fontFaces",{get:function(){return Le},set:function(ce){Ae=null,Le=ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ce){var ae;if(this.ctx.font=ce,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ce))!==null){var Ye=ae[1],nt=(ae[2],ae[3]),He=ae[4],Ue=(ae[5],ae[6]),Ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor(Ke==="px"?parseFloat(He)*this.pdf.internal.scaleFactor:Ke==="em"?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var et=(function(At){var Vt,bt,Zn=[],Jt=At.trim();if(Jt==="")return jA;if(Jt in VR)return[VR[Jt]];for(;Jt!=="";){switch(bt=null,Vt=(Jt=$R(Jt)).charAt(0)){case'"':case"'":bt=dle(Jt.substring(1),Vt);break;default:bt=fle(Jt)}if(bt===null||(Zn.push(bt[0]),(Jt=$R(bt[1]))!==""&&Jt.charAt(0)!==","))return jA;Jt=Jt.replace(/^,/,"")}return Zn})(Ue);if(this.fontFaces){var tt=ule(Je(this.pdf,this.fontFaces),et.map((function(At){return{family:At,stretch:"normal",weight:nt,style:Ye}})));this.pdf.setFont(tt.ref.name,tt.ref.style)}else{var Ge="";(nt==="bold"||parseInt(nt,10)>=700||Ye==="bold")&&(Ge="bold"),Ye==="italic"&&(Ge+="italic"),Ge.length===0&&(Ge="normal");for(var yt="",vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_t=0;_t<et.length;_t++){if(this.pdf.internal.getFont(et[_t],Ge,{noFallback:!0,disableWarning:!0})!==void 0){yt=et[_t];break}if(Ge==="bolditalic"&&this.pdf.internal.getFont(et[_t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yt=et[_t],Ge="bold";else if(this.pdf.internal.getFont(et[_t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yt=et[_t],Ge="normal";break}}if(yt===""){for(var Bt=0;Bt<et.length;Bt++)if(vt[et[Bt]]){yt=vt[et[Bt]];break}}yt=yt===""?"Times":yt,this.pdf.setFont(yt,Ge)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ce){this.ctx.globalCompositeOperation=ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ce){this.ctx.globalAlpha=ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ce){this.ctx.lineDashOffset=ce,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ce){this.ctx.lineDash=ce,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ce){this.ctx.ignoreClearRect=!!ce}})};g.prototype.setLineDash=function(P){this.lineDash=P},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){q.call(this,"fill",!1)},g.prototype.stroke=function(){q.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(P,H){if(isNaN(P)||isNaN(H))throw Nr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(P,H));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(P,H)},g.prototype.closePath=function(){var P=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&hr(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){P=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(P.x,P.y)},g.prototype.lineTo=function(P,H){if(isNaN(P)||isNaN(H))throw Nr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(P,H));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},g.prototype.quadraticCurveTo=function(P,H,Q,K){if(isNaN(Q)||isNaN(K)||isNaN(P)||isNaN(H))throw Nr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new o(Q,K)),me=this.ctx.transform.applyToPoint(new o(P,H));this.path.push({type:"qct",x1:me.x,y1:me.y,x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},g.prototype.bezierCurveTo=function(P,H,Q,K,X,me){if(isNaN(X)||isNaN(me)||isNaN(P)||isNaN(H)||isNaN(Q)||isNaN(K))throw Nr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new o(X,me)),ee=this.ctx.transform.applyToPoint(new o(P,H)),_e=this.ctx.transform.applyToPoint(new o(Q,K));this.path.push({type:"bct",x1:ee.x,y1:ee.y,x2:_e.x,y2:_e.y,x:be.x,y:be.y}),this.ctx.lastPoint=new o(be.x,be.y)},g.prototype.arc=function(P,H,Q,K,X,me){if(isNaN(P)||isNaN(H)||isNaN(Q)||isNaN(K)||isNaN(X))throw Nr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new o(P,H));P=be.x,H=be.y;var ee=this.ctx.transform.applyToPoint(new o(0,Q)),_e=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ee.x-_e.x,2)+Math.pow(ee.y-_e.y,2))}Math.abs(X-K)>=2*Math.PI&&(K=0,X=2*Math.PI),this.path.push({type:"arc",x:P,y:H,radius:Q,startAngle:K,endAngle:X,counterclockwise:me})},g.prototype.arcTo=function(P,H,Q,K,X){throw new Error("arcTo not implemented.")},g.prototype.rect=function(P,H,Q,K){if(isNaN(P)||isNaN(H)||isNaN(Q)||isNaN(K))throw Nr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,H),this.lineTo(P+Q,H),this.lineTo(P+Q,H+K),this.lineTo(P,H+K),this.lineTo(P,H),this.lineTo(P+Q,H),this.lineTo(P,H)},g.prototype.fillRect=function(P,H,Q,K){if(isNaN(P)||isNaN(H)||isNaN(Q)||isNaN(K))throw Nr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,H,Q,K),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},g.prototype.strokeRect=function(P,H,Q,K){if(isNaN(P)||isNaN(H)||isNaN(Q)||isNaN(K))throw Nr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(P,H,Q,K),this.stroke())},g.prototype.clearRect=function(P,H,Q,K){if(isNaN(P)||isNaN(H)||isNaN(Q)||isNaN(K))throw Nr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,H,Q,K))},g.prototype.save=function(P){P=typeof P!="boolean"||P;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},g.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(H),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(P){var H,Q,K,X;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))H=0,Q=0,K=0,X=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(me!==null)H=parseInt(me[1]),Q=parseInt(me[2]),K=parseInt(me[3]),X=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)H=parseInt(me[1]),Q=parseInt(me[2]),K=parseInt(me[3]),X=parseFloat(me[4]);else{if(X=1,typeof P=="string"&&P.charAt(0)!=="#"){var be=new v9(P);P=be.ok?be.toHex():"#000000"}P.length===4?(H=P.substring(1,2),H+=H,Q=P.substring(2,3),Q+=Q,K=P.substring(3,4),K+=K):(H=P.substring(1,3),Q=P.substring(3,5),K=P.substring(5,7)),H=parseInt(H,16),Q=parseInt(Q,16),K=parseInt(K,16)}}return{r:H,g:Q,b:K,a:X,style:P}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(P,H,Q,K){if(isNaN(H)||isNaN(Q)||typeof P!="string")throw Nr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!x.call(this)){var X=oe(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;R.call(this,{text:P,x:H,y:Q,scale:me,angle:X,align:this.textAlign,maxWidth:K})}},g.prototype.strokeText=function(P,H,Q,K){if(isNaN(H)||isNaN(Q)||typeof P!="string")throw Nr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){K=isNaN(K)?void 0:K;var X=oe(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;R.call(this,{text:P,x:H,y:Q,scale:me,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:K})}},g.prototype.measureText=function(P){if(typeof P!="string")throw Nr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,Q=this.pdf.internal.scaleFactor,K=H.internal.getFontSize(),X=H.getStringUnitWidth(P)*K/H.internal.scaleFactor,me=function(be){var ee=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ee}}),this};return new me({width:X*=Math.round(96*Q/72*1e4)/1e4})},g.prototype.scale=function(P,H){if(isNaN(P)||isNaN(H))throw Nr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new d(P,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},g.prototype.rotate=function(P){if(isNaN(P))throw Nr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new d(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},g.prototype.translate=function(P,H){if(isNaN(P)||isNaN(H))throw Nr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new d(1,0,0,1,P,H);this.ctx.transform=this.ctx.transform.multiply(Q)},g.prototype.transform=function(P,H,Q,K,X,me){if(isNaN(P)||isNaN(H)||isNaN(Q)||isNaN(K)||isNaN(X)||isNaN(me))throw Nr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new d(P,H,Q,K,X,me);this.ctx.transform=this.ctx.transform.multiply(be)},g.prototype.setTransform=function(P,H,Q,K,X,me){P=isNaN(P)?1:P,H=isNaN(H)?0:H,Q=isNaN(Q)?0:Q,K=isNaN(K)?1:K,X=isNaN(X)?0:X,me=isNaN(me)?0:me,this.ctx.transform=new d(P,H,Q,K,X,me)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(P,H,Q,K,X,me,be,ee,_e){var Se=this.pdf.getImageProperties(P),Ae=1,Je=1,Le=1,ce=1;K!==void 0&&ee!==void 0&&(Le=ee/K,ce=_e/X,Ae=Se.width/K*ee/K,Je=Se.height/X*_e/X),me===void 0&&(me=H,be=Q,H=0,Q=0),K!==void 0&&ee===void 0&&(ee=K,_e=X),K===void 0&&ee===void 0&&(ee=Se.width,_e=Se.height);for(var ae,Ye=this.ctx.transform.decompose(),nt=oe(Ye.rotate.shx),He=new d,Ue=(He=(He=(He=He.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new u(me-H*Le,be-Q*ce,K*Ae,X*Je)),Ke=N.call(this,Ue),et=[],tt=0;tt<Ke.length;tt+=1)et.indexOf(Ke[tt])===-1&&et.push(Ke[tt]);if(B(et),this.autoPaging)for(var Ge=et[0],yt=et[et.length-1],vt=Ge;vt<yt+1;vt++){this.pdf.setPage(vt);var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=vt===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=vt===1?0:At+(vt-2)*Vt;if(this.ctx.clip_path.length!==0){var Zn=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ae,this.posX+this.margin[3],-bt+Bt+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=Zn}var Jt=JSON.parse(JSON.stringify(Ue));Jt=C([Jt],this.posX+this.margin[3],-bt+Bt+this.ctx.prevPageLastElemOffset)[0];var er=(vt>Ge||vt<yt)&&w.call(this);er&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,Vt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Jt.x,Jt.y,Jt.w,Jt.h,null,null,nt),er&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",Ue.x,Ue.y,Ue.w,Ue.h,null,null,nt)};var N=function(P,H,Q){var K=[];H=H||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":K.push(Math.floor((P.y+X)/Q)+1);break;case"arc":K.push(Math.floor((P.y+X-P.radius)/Q)+1),K.push(Math.floor((P.y+X+P.radius)/Q)+1);break;case"qct":var me=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);K.push(Math.floor((me.y+X)/Q)+1),K.push(Math.floor((me.y+me.h+X)/Q)+1);break;case"bct":var be=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);K.push(Math.floor((be.y+X)/Q)+1),K.push(Math.floor((be.y+be.h+X)/Q)+1);break;case"rect":K.push(Math.floor((P.y+X)/Q)+1),K.push(Math.floor((P.y+P.h+X)/Q)+1)}for(var ee=0;ee<K.length;ee+=1)for(;this.pdf.internal.getNumberOfPages()<K[ee];)T.call(this);return K},T=function(){var P=this.fillStyle,H=this.strokeStyle,Q=this.font,K=this.lineCap,X=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=H,this.font=Q,this.lineCap=K,this.lineWidth=X,this.lineJoin=me},C=function(P,H,Q){for(var K=0;K<P.length;K++)switch(P[K].type){case"bct":P[K].x2+=H,P[K].y2+=Q;case"qct":P[K].x1+=H,P[K].y1+=Q;case"mt":case"lt":case"arc":default:P[K].x+=H,P[K].y+=Q}return P},B=function(P){return P.sort((function(H,Q){return H-Q}))},q=function(P,H){for(var Q,K,X=this.fillStyle,me=this.strokeStyle,be=this.lineCap,ee=this.lineWidth,_e=Math.abs(ee*this.ctx.transform.scaleX),Se=this.lineJoin,Ae=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),Le=[],ce=0;ce<Je.length;ce++)if(Je[ce].x!==void 0)for(var ae=N.call(this,Je[ce]),Ye=0;Ye<ae.length;Ye+=1)Le.indexOf(ae[Ye])===-1&&Le.push(ae[Ye]);for(var nt=0;nt<Le.length;nt++)for(;this.pdf.internal.getNumberOfPages()<Le[nt];)T.call(this);if(B(Le),this.autoPaging)for(var He=Le[0],Ue=Le[Le.length-1],Ke=He;Ke<Ue+1;Ke++){this.pdf.setPage(Ke),this.fillStyle=X,this.strokeStyle=me,this.lineCap=be,this.lineWidth=_e,this.lineJoin=Se;var et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=Ke===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=Ke===1?0:Ge+(Ke-2)*yt;if(this.ctx.clip_path.length!==0){var _t=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Q,this.posX+this.margin[3],-vt+tt+this.ctx.prevPageLastElemOffset),D.call(this,P,!0),this.path=_t}if(K=JSON.parse(JSON.stringify(Ae)),this.path=C(K,this.posX+this.margin[3],-vt+tt+this.ctx.prevPageLastElemOffset),H===!1||Ke===0){var Bt=(Ke>He||Ke<Ue)&&w.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,yt,null).clip().discardPath()),D.call(this,P,H),Bt&&this.pdf.restoreGraphicsState()}this.lineWidth=ee}else this.lineWidth=_e,D.call(this,P,H),this.lineWidth=ee;this.path=Ae},D=function(P,H){if((P!=="stroke"||H||!E.call(this))&&(P==="stroke"||H||!x.call(this))){for(var Q,K,X=[],me=this.path,be=0;be<me.length;be++){var ee=me[be];switch(ee.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:ee,deltas:[],abs:[]});break;case"lt":var _e=X.length;if(me[be-1]&&!isNaN(me[be-1].x)&&(Q=[ee.x-me[be-1].x,ee.y-me[be-1].y],_e>0)){for(;_e>=0;_e--)if(X[_e-1].close!==!0&&X[_e-1].begin!==!0){X[_e-1].deltas.push(Q),X[_e-1].abs.push(ee);break}}break;case"bct":Q=[ee.x1-me[be-1].x,ee.y1-me[be-1].y,ee.x2-me[be-1].x,ee.y2-me[be-1].y,ee.x-me[be-1].x,ee.y-me[be-1].y],X[X.length-1].deltas.push(Q);break;case"qct":var Se=me[be-1].x+2/3*(ee.x1-me[be-1].x),Ae=me[be-1].y+2/3*(ee.y1-me[be-1].y),Je=ee.x+2/3*(ee.x1-ee.x),Le=ee.y+2/3*(ee.y1-ee.y),ce=ee.x,ae=ee.y;Q=[Se-me[be-1].x,Ae-me[be-1].y,Je-me[be-1].x,Le-me[be-1].y,ce-me[be-1].x,ae-me[be-1].y],X[X.length-1].deltas.push(Q);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(ee)}}K=H?null:P==="stroke"?"stroke":"fill";for(var Ye=!1,nt=0;nt<X.length;nt++)if(X[nt].arc)for(var He=X[nt].abs,Ue=0;Ue<He.length;Ue++){var Ke=He[Ue];Ke.type==="arc"?I.call(this,Ke.x,Ke.y,Ke.radius,Ke.startAngle,Ke.endAngle,Ke.counterclockwise,void 0,H,!Ye):j.call(this,Ke.x,Ke.y),Ye=!0}else if(X[nt].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(X[nt].begin!==!0){var et=X[nt].start.x,tt=X[nt].start.y;G.call(this,X[nt].deltas,et,tt),Ye=!0}K&&V.call(this,K),H&&U.call(this)}},F=function(P){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-Q;case"top":return P+H-Q;case"hanging":return P+H-2*Q;case"middle":return P+H/2-Q;case"ideographic":return P;case"alphabetic":default:return P}},k=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(H,Q){this.colorStops.push([H,Q])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(P,H,Q,K,X,me,be,ee,_e){for(var Se=J.call(this,Q,K,X,me),Ae=0;Ae<Se.length;Ae++){var Je=Se[Ae];Ae===0&&(_e?M.call(this,Je.x1+P,Je.y1+H):j.call(this,Je.x1+P,Je.y1+H)),re.call(this,P,H,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}ee?U.call(this):V.call(this,be)},V=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(P,H){this.pdf.internal.out(n(P)+" "+r(H)+" m")},R=function(P){var H;switch(P.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var Q=this.pdf.getTextDimensions(P.text),K=F.call(this,P.y),X=k.call(this,K)-Q.h,me=this.ctx.transform.applyToPoint(new o(P.x,K)),be=this.ctx.transform.decompose(),ee=new d;ee=(ee=(ee=ee.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var _e,Se,Ae,Je=this.ctx.transform.applyToRectangle(new u(P.x,K,Q.w,Q.h)),Le=ee.applyToRectangle(new u(P.x,X,Q.w,Q.h)),ce=N.call(this,Le),ae=[],Ye=0;Ye<ce.length;Ye+=1)ae.indexOf(ce[Ye])===-1&&ae.push(ce[Ye]);if(B(ae),this.autoPaging)for(var nt=ae[0],He=ae[ae.length-1],Ue=nt;Ue<He+1;Ue++){this.pdf.setPage(Ue);var Ke=Ue===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[2],Ge=tt-this.margin[0],yt=this.pdf.internal.pageSize.width-this.margin[1],vt=yt-this.margin[3],_t=Ue===1?0:et+(Ue-2)*Ge;if(this.ctx.clip_path.length!==0){var Bt=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(_e,this.posX+this.margin[3],-1*_t+Ke),D.call(this,"fill",!0),this.path=Bt}var At=C([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-_t+Ke+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*P.scale),Ae=this.lineWidth,this.lineWidth=Ae*P.scale);var Vt=this.autoPaging!=="text";if(Vt||At.y+At.h<=tt){if(Vt||At.y>=Ke&&At.x<=yt){var bt=Vt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||yt-At.x)[0],Zn=C([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-_t+Ke+this.ctx.prevPageLastElemOffset)[0],Jt=Vt&&(Ue>nt||Ue<He)&&w.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,Ge,null).clip().discardPath()),this.pdf.text(bt,Zn.x,Zn.y,{angle:P.angle,align:H,renderingMode:P.renderingMode}),Jt&&this.pdf.restoreGraphicsState()}}else At.y<tt&&(this.ctx.prevPageLastElemOffset+=tt-At.y);P.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Ae)}else P.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*P.scale),Ae=this.lineWidth,this.lineWidth=Ae*P.scale),this.pdf.text(P.text,me.x+this.posX,me.y+this.posY,{angle:P.angle,align:H,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Ae)},j=function(P,H,Q,K){Q=Q||0,K=K||0,this.pdf.internal.out(n(P+Q)+" "+r(H+K)+" l")},G=function(P,H,Q){return this.pdf.lines(P,H,Q,null,null)},re=function(P,H,Q,K,X,me,be,ee){this.pdf.internal.out([e(a(Q+P)),e(i(K+H)),e(a(X+P)),e(i(me+H)),e(a(be+P)),e(i(ee+H)),"c"].join(" "))},J=function(P,H,Q,K){for(var X=2*Math.PI,me=Math.PI/2;H>Q;)H-=X;var be=Math.abs(Q-H);be<X&&K&&(be=X-be);for(var ee=[],_e=K?-1:1,Se=H;be>1e-5;){var Ae=Se+_e*Math.min(be,me);ee.push(Z.call(this,P,Se,Ae)),be-=Math.abs(Ae-Se),Se=Ae}return ee},Z=function(P,H,Q){var K=(Q-H)/2,X=P*Math.cos(K),me=P*Math.sin(K),be=X,ee=-me,_e=be*be+ee*ee,Se=_e+be*X+ee*me,Ae=4/3*(Math.sqrt(2*_e*Se)-Se)/(be*me-ee*X),Je=be-Ae*ee,Le=ee+Ae*be,ce=Je,ae=-Le,Ye=K+H,nt=Math.cos(Ye),He=Math.sin(Ye);return{x1:P*Math.cos(H),y1:P*Math.sin(H),x2:Je*nt-Le*He,y2:Je*He+Le*nt,x3:ce*nt-ae*He,y3:ce*He+ae*nt,x4:P*Math.cos(Q),y4:P*Math.sin(Q)}},oe=function(P){return 180*P/Math.PI},ye=function(P,H,Q,K,X,me){var be=P+.5*(Q-P),ee=H+.5*(K-H),_e=X+.5*(Q-X),Se=me+.5*(K-me),Ae=Math.min(P,X,be,_e),Je=Math.max(P,X,be,_e),Le=Math.min(H,me,ee,Se),ce=Math.max(H,me,ee,Se);return new u(Ae,Le,Je-Ae,ce-Le)},ge=function(P,H,Q,K,X,me,be,ee){var _e,Se,Ae,Je,Le,ce,ae,Ye,nt,He,Ue,Ke,et,tt,Ge=Q-P,yt=K-H,vt=X-Q,_t=me-K,Bt=be-X,At=ee-me;for(Se=0;Se<41;Se++)nt=(ae=(Ae=P+(_e=Se/40)*Ge)+_e*((Le=Q+_e*vt)-Ae))+_e*(Le+_e*(X+_e*Bt-Le)-ae),He=(Ye=(Je=H+_e*yt)+_e*((ce=K+_e*_t)-Je))+_e*(ce+_e*(me+_e*At-ce)-Ye),Se==0?(Ue=nt,Ke=He,et=nt,tt=He):(Ue=Math.min(Ue,nt),Ke=Math.min(Ke,He),et=Math.max(et,nt),tt=Math.max(tt,He));return new u(Math.round(Ue),Math.round(Ke),Math.round(et-Ue),Math.round(tt-Ke))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,H,Q=(P=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:H}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Wt.API),(function(t){var e=function(i){var o,u,d,f,p,g,y,x,E,w;for(u=[],d=0,f=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;f>d;d+=4)(p=(i.charCodeAt(d)<<24)+(i.charCodeAt(d+1)<<16)+(i.charCodeAt(d+2)<<8)+i.charCodeAt(d+3))!==0?(g=(p=((p=((p=((p=(p-(w=p%85))/85)-(E=p%85))/85)-(x=p%85))/85)-(y=p%85))/85)%85,u.push(g+33,y+33,x+33,E+33,w+33)):u.push(122);return(function(N,T){for(var C=T;C>0;C--)N.pop()})(u,o.length),String.fromCharCode.apply(String,u)+"~>"},n=function(i){var o,u,d,f,p,g=String,y="length",x=255,E="charCodeAt",w="slice",N="replace";for(i[w](-2),i=i[w](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),d=[],f=0,p=(i+=o="uuuuu"[w](i[y]%5||5))[y];p>f;f+=5)u=52200625*(i[E](f)-33)+614125*(i[E](f+1)-33)+7225*(i[E](f+2)-33)+85*(i[E](f+3)-33)+(i[E](f+4)-33),d.push(x&u>>24,x&u>>16,x&u>>8,x&u);return(function(T,C){for(var B=C;B>0;B--)T.pop()})(d,o[y]),g.fromCharCode.apply(g,d)},r=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var u="",d=0;d<i.length;d+=2)u+=String.fromCharCode("0x"+(i[d]+i[d+1]));return u},a=function(i){for(var o=new Uint8Array(i.length),u=i.length;u--;)o[u]=i.charCodeAt(u);return i=(o=hS(o)).reduce((function(d,f){return d+String.fromCharCode(f)}),"")};t.processDataByFilters=function(i,o){var u=0,d=i||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":d=n(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=r(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map((function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)})).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}})(Wt.API),(function(t){t.loadFile=function(e,n,r){return(function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=(function(d,f,p){var g=new XMLHttpRequest,y=0,x=function(E){var w=E.length,N=[],T=String.fromCharCode;for(y=0;y<w;y+=1)N.push(T(255&E.charCodeAt(y)));return N.join("")};if(g.open("GET",d,!f),g.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(g.onload=function(){g.status===200?p(x(this.responseText)):p(void 0)}),g.send(null),f&&g.status===200)return x(g.responseText)})(a,i,o)}catch{}return u})(e,n,r)},t.loadImageFile=t.loadFile})(Wt.API),(function(t){function e(){return(en.html2canvas?Promise.resolve(en.html2canvas):lS(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch((function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))})).then((function(o){return o.default?o.default:o}))}function n(){return(en.DOMPurify?Promise.resolve(en.DOMPurify):lS(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(o){return Promise.reject(new Error("Could not load dompurify: "+o))})).then((function(o){return o.default?o.default:o}))}var r=function(o){var u=hr(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(o,u){var d=document.createElement(o);for(var f in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[f]=u.style[f];return d},i=function o(u){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),d);return f=(f=f.setProgress(1,o,1,[o])).set(u)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,u){return o.__proto__=u||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,u){return this.then((function(){switch(u=u||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o)){case"string":return this.then(n).then((function(d){return this.set({src:a("div",{innerHTML:o,dompurify:d})})}));case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}}))},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=(function d(f,p){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),y=f.firstChild;y;y=y.nextSibling)p!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||g.appendChild(d(y,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",(function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft}),!0)),g})(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then((function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)})).then((function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)}))},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then((function(u){var d=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var y=0;y<f.length;++y){var x=f[y],E=x.src.find((function(w){return w.format==="truetype"}));E&&d.addFont(E.url,x.ref.name,x.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,d.context2d.save(!0),u(this.prop.container,g)})).then((function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)}))},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o}))},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},i.prototype.output=function(o,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},i.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(o,u)}))},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}}))},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},i.prototype.set=function(o){if(r(o)!=="object")return this;var u=Object.keys(o||{}).map((function(d){if(d in i.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}}),this);return this.then((function(){return this.thenList(u)}))},i.prototype.get=function(o,u){return this.then((function(){var d=o in i.template.prop?this.prop[o]:this.opt[o];return u?u(d):d}))},i.prototype.setMargin=function(o){return this.then((function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o})).then(this.setPageSize)},i.prototype.setPageSize=function(o){function u(d,f){return Math.floor(d*f/72*96)}return this.then((function(){(o=o||Wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o}))},i.prototype.setProgress=function(o,u,d,f){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,u,d,f){return this.setProgress(o?this.progress.val+o:null,u||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},i.prototype.then=function(o,u){var d=this;return this.thenCore(o,u,(function(f,p){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,(function(g){return d.updateProgress(null,f),g})).then(f,p).then((function(g){return d.updateProgress(1),g}))}))},i.prototype.thenCore=function(o,u,d){d=d||Promise.prototype.then,o&&(o=o.bind(this)),u&&(u=u.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),p=d.call(f,o,u);return i.convert(p,this.__proto__)},i.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},i.prototype.thenList=function(o){var u=this;return o.forEach((function(d){u=u.thenCore(d)})),u},i.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return i.convert(u,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then((function(){throw new Error(o)}))},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Wt.getPageSize=function(o,u,d){if(hr(o)==="object"){var f=o;o=f.orientation,u=f.unit||u,d=f.format||d}u=u||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+d).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+u}var x,E=0,w=0;if(y.hasOwnProperty(g))E=y[g][1]/p,w=y[g][0]/p;else try{E=d[1],w=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",w>E&&(x=w,w=E,E=x);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",E>w&&(x=w,w=E,E=x)}return{width:w,height:E,unit:u,k:p,orientation:o}},t.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(xS):null;var d=new i(u);return u.worker?d:d.from(o).doCallback()}})(Wt.API),Wt.API.addJS=function(t){return GR=t,this.internal.events.subscribe("postPutResources",(function(){Qv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Qv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),HR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+GR+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Qv!==void 0&&HR!==void 0&&this.internal.out("/Names <</JavaScript "+Qv+" 0 R>>")})),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],u=r.exec(o);if(u!=null){var d=u[1];n.internal.newObjectDeferredBegin(d,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(i=0;i<f;i++){var g=n.internal.newObject();p.push(g);var y=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var x=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<p.length;i++)n.internal.write("(page_"+(i+1)+")"+p[i]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+x+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,a,i){var o={title:a,options:i,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var o=r.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var d=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,a){for(var i=0;i<a.children.length;i++)r.count++,this.count_r(r,a.children[i]);return r.count}}])})(Wt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,a,i,o,u){var d,f=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(d=(function(g){for(var y,x=256*g.charCodeAt(4)+g.charCodeAt(5),E=g.length,w={width:0,height:0,numcomponents:1},N=4;N<E;N+=2){if(N+=x,e.indexOf(g.charCodeAt(N+1))!==-1){y=256*g.charCodeAt(N+5)+g.charCodeAt(N+6),w={width:256*g.charCodeAt(N+7)+g.charCodeAt(N+8),height:y,numcomponents:g.charCodeAt(N+9)};break}x=256*g.charCodeAt(N+2)+g.charCodeAt(N+3)}return w})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:n,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:f,index:r,alias:a}}return p}})(Wt.API);var Fh,Jv,WR,KR,YR,hle=(function(){var t,e,n;function r(i){var o,u,d,f,p,g,y,x,E,w,N,T,C,B;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(o=this.readUInt32(),E=(function(){var q,D;for(D=[],q=0;q<4;++q)D.push(String.fromCharCode(this.data[this.pos++]));return D}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),f=this.readUInt16()||100,g.delay=1e3*p/f,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,o-=4),i=(g!=null?g.data:void 0)||this.imgData,T=0;0<=o?T<o:T>o;0<=o?++T:--T)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((w=d-this.transparency.indexed.length)>0)for(C=0;0<=w?C<w:C>w;0<=w?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":y=(N=this.read(o)).indexOf(0),x=String.fromCharCode.apply(String,N.slice(0,y)),this.text[x]=String.fromCharCode.apply(String,N.slice(y+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(B=this.colorType)===4||B===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(i){var o,u;for(u=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)u.push(this.data[this.pos++]);return u},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*o),d=0,f=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function p(g,y,x,E){var w,N,T,C,B,q,D,F,k,I,V,U,M,R,j,G,re,J,Z,oe,ye,ge=Math.ceil((f.width-g)/x),le=Math.ceil((f.height-y)/E),P=f.width==ge&&f.height==le;for(R=o*ge,U=P?u:new Uint8Array(R*le),q=i.length,M=0,N=0;M<le&&d<q;){switch(i[d++]){case 0:for(C=re=0;re<R;C=re+=1)U[N++]=i[d++];break;case 1:for(C=J=0;J<R;C=J+=1)w=i[d++],B=C<o?0:U[N-o],U[N++]=(w+B)%256;break;case 2:for(C=Z=0;Z<R;C=Z+=1)w=i[d++],T=(C-C%o)/o,j=M&&U[(M-1)*R+T*o+C%o],U[N++]=(j+w)%256;break;case 3:for(C=oe=0;oe<R;C=oe+=1)w=i[d++],T=(C-C%o)/o,B=C<o?0:U[N-o],j=M&&U[(M-1)*R+T*o+C%o],U[N++]=(w+Math.floor((B+j)/2))%256;break;case 4:for(C=ye=0;ye<R;C=ye+=1)w=i[d++],T=(C-C%o)/o,B=C<o?0:U[N-o],M===0?j=G=0:(j=U[(M-1)*R+T*o+C%o],G=T&&U[(M-1)*R+(T-1)*o+C%o]),D=B+j-G,F=Math.abs(D-B),I=Math.abs(D-j),V=Math.abs(D-G),k=F<=I&&F<=V?B:I<=V?j:G,U[N++]=(w+k)%256;break;default:throw new Error("Invalid filter algorithm: "+i[d-1])}if(!P){var H=((y+M*E)*f.width+g)*o,Q=M*R;for(C=0;C<ge;C+=1){for(var K=0;K<o;K+=1)u[H++]=U[Q++];H+=(x-1)*o}}M++}}return i=Hoe(i),f.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),u},r.prototype.decodePalette=function(){var i,o,u,d,f,p,g,y,x;for(u=this.palette,p=this.transparency.indexed||[],f=new Uint8Array((p.length||0)+u.length),d=0,i=0,o=g=0,y=u.length;g<y;o=g+=3)f[d++]=u[o],f[d++]=u[o+1],f[d++]=u[o+2],f[d++]=(x=p[i++])!=null?x:255;return f},r.prototype.copyToImageData=function(i,o){var u,d,f,p,g,y,x,E,w,N,T;if(d=this.colors,w=null,u=this.hasAlphaChannel,this.palette.length&&(w=(T=this._decodedPalette)!=null?T:this._decodedPalette=this.decodePalette(),d=4,u=!0),E=(f=i.data||i).length,g=w||o,p=y=0,d===1)for(;p<E;)x=w?4*o[p/4]:y,N=g[x++],f[p++]=N,f[p++]=N,f[p++]=N,f[p++]=u?g[x++]:255,y=x;else for(;p<E;)x=w?4*o[p/4]:y,f[p++]=g[x++],f[p++]=g[x++],f[p++]=g[x++],f[p++]=u?g[x++]:255,y=x},r.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(en)==="[object Window]"){try{e=en.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var o;if(a()===!0)return n.width=i.width,n.height=i.height,n.clearRect(0,0,i.width,i.height),n.putImageData(i,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(i){var o,u,d,f,p,g,y,x;if(this.animation){for(x=[],u=p=0,g=(y=this.animation.frames).length;p<g;u=++p)o=y[u],d=i.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(d,f),o.imageData=d,x.push(o.image=t(d));return x}},r.prototype.renderFrame=function(i,o){var u,d,f;return u=(d=this.animation.frames)[o],f=d[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?i.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&i.putImageData(f.imageData,f.xOffset,f.yOffset),u.blendOp===0&&i.clearRect(u.xOffset,u.yOffset,u.width,u.height),i.drawImage(u.image,u.xOffset,u.yOffset)},r.prototype.animate=function(i){var o,u,d,f,p,g,y=this;return u=0,g=this.animation,f=g.numFrames,d=g.frames,p=g.numPlays,(o=function(){var x,E;if(x=u++%f,E=d[x],y.renderFrame(i,x),f>1&&u/f<p)return y.animation._timeout=setTimeout(o,E.delay)})()},r.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},r.prototype.render=function(i){var o,u;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(u=o.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),o.putImageData(u,0,0))},r})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function ple(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,o=1<<(7&a)+1;t[e++],t[e++];var u=null,d=null;i&&(u=e,d=o,e+=3*o);var f=!0,p=[],g=0,y=null,x=0,E=null;for(this.width=n,this.height=r;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,E=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];g=t[e++]|t[e++]<<8,y=t[e++],(1&w)==0&&(y=null),x=w>>2&7,e++;break;case 254:for(;;){if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var N=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,B=t[e++]|t[e++]<<8,q=t[e++],D=q>>6&1,F=1<<(7&q)+1,k=u,I=d,V=!1;q>>7&&(V=!0,k=e,I=F,e+=3*F);var U=e;for(e++;;){var M;if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}p.push({x:N,y:T,width:C,height:B,has_local_palette:V,palette_offset:k,palette_size:I,data_offset:U,data_length:e-U,transparent_index:y,interlaced:!!D,delay:g,disposal:x});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return E},this.frameInfo=function(R){if(R<0||R>=p.length)throw new Error("Frame index out of range.");return p[R]},this.decodeAndBlitFrameBGRA=function(R,j){var G=this.frameInfo(R),re=G.width*G.height,J=new Uint8Array(re);XR(t,G.data_offset,J,re);var Z=G.palette_offset,oe=G.transparent_index;oe===null&&(oe=256);var ye=G.width,ge=n-ye,le=ye,P=4*(G.y*n+G.x),H=4*((G.y+G.height)*n+G.x),Q=P,K=4*ge;G.interlaced===!0&&(K+=4*n*7);for(var X=8,me=0,be=J.length;me<be;++me){var ee=J[me];if(le===0&&(le=ye,(Q+=K)>=H&&(K=4*ge+4*n*(X-1),Q=P+(ye+ge)*(X<<1),X>>=1)),ee===oe)Q+=4;else{var _e=t[Z+3*ee],Se=t[Z+3*ee+1],Ae=t[Z+3*ee+2];j[Q++]=Ae,j[Q++]=Se,j[Q++]=_e,j[Q++]=255}--le}},this.decodeAndBlitFrameRGBA=function(R,j){var G=this.frameInfo(R),re=G.width*G.height,J=new Uint8Array(re);XR(t,G.data_offset,J,re);var Z=G.palette_offset,oe=G.transparent_index;oe===null&&(oe=256);var ye=G.width,ge=n-ye,le=ye,P=4*(G.y*n+G.x),H=4*((G.y+G.height)*n+G.x),Q=P,K=4*ge;G.interlaced===!0&&(K+=4*n*7);for(var X=8,me=0,be=J.length;me<be;++me){var ee=J[me];if(le===0&&(le=ye,(Q+=K)>=H&&(K=4*ge+4*n*(X-1),Q=P+(ye+ge)*(X<<1),X>>=1)),ee===oe)Q+=4;else{var _e=t[Z+3*ee],Se=t[Z+3*ee+1],Ae=t[Z+3*ee+2];j[Q++]=_e,j[Q++]=Se,j[Q++]=Ae,j[Q++]=255}--le}}}function XR(t,e,n,r){for(var a=t[e++],i=1<<a,o=i+1,u=o+1,d=a+1,f=(1<<d)-1,p=0,g=0,y=0,x=t[e++],E=new Int32Array(4096),w=null;;){for(;p<16&&x!==0;)g|=t[e++]<<p,p+=8,x===1?x=t[e++]:--x;if(p<d)break;var N=g&f;if(g>>=d,p-=d,N!==i){if(N===o)break;for(var T=N<u?N:w,C=0,B=T;B>i;)B=E[B]>>8,++C;var q=B;if(y+C+(T!==N?1:0)>r)return void Nr.log("Warning, gif stream longer than expected.");n[y++]=q;var D=y+=C;for(T!==N&&(n[y++]=q),B=T;C--;)B=E[B],n[--D]=255&B,B>>=8;w!==null&&u<4096&&(E[u++]=w<<8|q,u>=f+1&&d<12&&(++d,f=f<<1|1)),w=N}else u=o+1,f=(1<<(d=a+1))-1,w=null}return y!==r&&Nr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function TA(t){var e,n,r,a,i,o=Math.floor,u=new Array(64),d=new Array(64),f=new Array(64),p=new Array(64),g=new Array(65535),y=new Array(65535),x=new Array(64),E=new Array(64),w=[],N=0,T=7,C=new Array(64),B=new Array(64),q=new Array(64),D=new Array(256),F=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(P,H){for(var Q=0,K=0,X=new Array,me=1;me<=16;me++){for(var be=1;be<=P[me];be++)X[H[K]]=[],X[H[K]][0]=Q,X[H[K]][1]=me,K++,Q++;Q*=2}return X}function Z(P){for(var H=P[0],Q=P[1]-1;Q>=0;)H&1<<Q&&(N|=1<<T),Q--,--T<0&&(N==255?(oe(255),oe(0)):oe(N),T=7,N=0)}function oe(P){w.push(P)}function ye(P){oe(P>>8&255),oe(255&P)}function ge(P,H,Q,K,X){for(var me,be=X[0],ee=X[240],_e=(function(He,Ue){var Ke,et,tt,Ge,yt,vt,_t,Bt,At,Vt,bt=0;for(At=0;At<8;++At){Ke=He[bt],et=He[bt+1],tt=He[bt+2],Ge=He[bt+3],yt=He[bt+4],vt=He[bt+5],_t=He[bt+6];var Zn=Ke+(Bt=He[bt+7]),Jt=Ke-Bt,er=et+_t,pn=et-_t,mn=tt+vt,Ti=tt-vt,fn=Ge+yt,aa=Ge-yt,Bn=Zn+fn,jr=Zn-fn,Lr=er+mn,bn=er-mn;He[bt]=Bn+Lr,He[bt+4]=Bn-Lr;var It=.707106781*(bn+jr);He[bt+2]=jr+It,He[bt+6]=jr-It;var gn=.382683433*((Bn=aa+Ti)-(bn=pn+Jt)),pa=.5411961*Bn+gn,Tr=1.306562965*bn+gn,ia=.707106781*(Lr=Ti+pn),ma=Jt+ia,Ot=Jt-ia;He[bt+5]=Ot+pa,He[bt+3]=Ot-pa,He[bt+1]=ma+Tr,He[bt+7]=ma-Tr,bt+=8}for(bt=0,At=0;At<8;++At){Ke=He[bt],et=He[bt+8],tt=He[bt+16],Ge=He[bt+24],yt=He[bt+32],vt=He[bt+40],_t=He[bt+48];var Aa=Ke+(Bt=He[bt+56]),Or=Ke-Bt,Mr=et+_t,ar=et-_t,ue=tt+vt,We=tt-vt,Gt=Ge+yt,sn=Ge-yt,zt=Aa+Gt,Ft=Aa-Gt,Zt=Mr+ue,Me=Mr-ue;He[bt]=zt+Zt,He[bt+32]=zt-Zt;var Et=.707106781*(Me+Ft);He[bt+16]=Ft+Et,He[bt+48]=Ft-Et;var Mt=.382683433*((zt=sn+We)-(Me=ar+Or)),kr=.5411961*zt+Mt,Cr=1.306562965*Me+Mt,kn=.707106781*(Zt=We+ar),Ir=Or+kn,zn=Or-kn;He[bt+40]=zn+kr,He[bt+24]=zn-kr,He[bt+8]=Ir+Cr,He[bt+56]=Ir-Cr,bt++}for(At=0;At<64;++At)Vt=He[At]*Ue[At],x[At]=Vt>0?Vt+.5|0:Vt-.5|0;return x})(P,H),Se=0;Se<64;++Se)E[k[Se]]=_e[Se];var Ae=E[0]-Q;Q=E[0],Ae==0?Z(K[0]):(Z(K[y[me=32767+Ae]]),Z(g[me]));for(var Je=63;Je>0&&E[Je]==0;)Je--;if(Je==0)return Z(be),Q;for(var Le,ce=1;ce<=Je;){for(var ae=ce;E[ce]==0&&ce<=Je;)++ce;var Ye=ce-ae;if(Ye>=16){Le=Ye>>4;for(var nt=1;nt<=Le;++nt)Z(ee);Ye&=15}me=32767+E[ce],Z(X[(Ye<<4)+y[me]]),Z(g[me]),ce++}return Je!=63&&Z(be),Q}function le(P){P=Math.min(Math.max(P,1),100),i!=P&&((function(H){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var X=o((Q[K]*H+50)/100);X=Math.min(Math.max(X,1),255),u[k[K]]=X}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var ee=o((me[be]*H+50)/100);ee=Math.min(Math.max(ee,1),255),d[k[be]]=ee}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,Ae=0;Ae<8;Ae++)for(var Je=0;Je<8;Je++)f[Se]=1/(u[k[Se]]*_e[Ae]*_e[Je]*8),p[Se]=1/(d[k[Se]]*_e[Ae]*_e[Je]*8),Se++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,H){H&&le(H),w=new Array,N=0,T=7,ye(65496),ye(65504),ye(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),ye(1),ye(1),oe(0),oe(0),(function(){ye(65499),ye(132),oe(0);for(var et=0;et<64;et++)oe(u[et]);oe(1);for(var tt=0;tt<64;tt++)oe(d[tt])})(),(function(et,tt){ye(65472),ye(17),oe(8),ye(tt),ye(et),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)})(P.width,P.height),(function(){ye(65476),ye(418),oe(0);for(var et=0;et<16;et++)oe(I[et+1]);for(var tt=0;tt<=11;tt++)oe(V[tt]);oe(16);for(var Ge=0;Ge<16;Ge++)oe(U[Ge+1]);for(var yt=0;yt<=161;yt++)oe(M[yt]);oe(1);for(var vt=0;vt<16;vt++)oe(R[vt+1]);for(var _t=0;_t<=11;_t++)oe(j[_t]);oe(17);for(var Bt=0;Bt<16;Bt++)oe(G[Bt+1]);for(var At=0;At<=161;At++)oe(re[At])})(),ye(65498),ye(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var Q=0,K=0,X=0;N=0,T=7,this.encode.displayName="_encode_";for(var me,be,ee,_e,Se,Ae,Je,Le,ce,ae=P.data,Ye=P.width,nt=P.height,He=4*Ye,Ue=0;Ue<nt;){for(me=0;me<He;){for(Se=He*Ue+me,Je=-1,Le=0,ce=0;ce<64;ce++)Ae=Se+(Le=ce>>3)*He+(Je=4*(7&ce)),Ue+Le>=nt&&(Ae-=He*(Ue+1+Le-nt)),me+Je>=He&&(Ae-=me+Je-He+4),be=ae[Ae++],ee=ae[Ae++],_e=ae[Ae++],C[ce]=(F[be]+F[ee+256>>0]+F[_e+512>>0]>>16)-128,B[ce]=(F[be+768>>0]+F[ee+1024>>0]+F[_e+1280>>0]>>16)-128,q[ce]=(F[be+1280>>0]+F[ee+1536>>0]+F[_e+1792>>0]>>16)-128;Q=ge(C,f,Q,e,r),K=ge(B,p,K,n,a),X=ge(q,p,X,n,a),me+=32}Ue+=8}if(T>=0){var Ke=[];Ke[1]=T+1,Ke[0]=(1<<T+1)-1,Z(Ke)}return ye(65497),new Uint8Array(w)},t=t||50,(function(){for(var P=String.fromCharCode,H=0;H<256;H++)D[H]=P(H)})(),e=J(I,V),n=J(R,j),r=J(U,M),a=J(G,re),(function(){for(var P=1,H=2,Q=1;Q<=15;Q++){for(var K=P;K<H;K++)y[32767+K]=Q,g[32767+K]=[],g[32767+K][1]=Q,g[32767+K][0]=K;for(var X=-(H-1);X<=-P;X++)y[32767+X]=Q,g[32767+X]=[],g[32767+X][1]=Q,g[32767+X][0]=H-1+X;P<<=1,H<<=1}})(),(function(){for(var P=0;P<256;P++)F[P]=19595*P,F[P+256>>0]=38470*P,F[P+512>>0]=7471*P+32768,F[P+768>>0]=-11059*P,F[P+1024>>0]=-21709*P,F[P+1280>>0]=32768*P+8421375,F[P+1536>>0]=-27439*P,F[P+1792>>0]=-5329*P})(),le(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function fl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function QR(t){function e(I){if(!I)throw Error("assert :P")}function n(I,V,U){for(var M=0;4>M;M++)if(I[V+M]!=U.charCodeAt(M))return!0;return!1}function r(I,V,U,M,R){for(var j=0;j<R;j++)I[V+j]=U[M+j]}function a(I,V,U,M){for(var R=0;R<M;R++)I[V+R]=U}function i(I){return new Int32Array(I)}function o(I,V){for(var U=[],M=0;M<I;M++)U.push(new V);return U}function u(I,V){var U=[];return(function M(R,j,G){for(var re=G[j],J=0;J<re&&(R.push(G.length>j+1?[]:new V),!(G.length<j+1));J++)M(R[J],j+1,G)})(U,0,I),U}var d=function(){var I=this;function V(v,A){for(var L=1<<A-1>>>0;v&L;)L>>>=1;return L?(v&L-1)+L:v}function U(v,A,L,$,ne){e(!($%L));do v[A+($-=L)]=ne;while(0<$)}function M(v,A,L,$,ne){if(e(2328>=ne),512>=ne)var ie=i(512);else if((ie=i(ne))==null)return 0;return(function(se,de,pe,xe,je,Fe){var Be,Pe,ct=de,Qe=1<<pe,Te=i(16),ke=i(16);for(e(je!=0),e(xe!=null),e(se!=null),e(0<pe),Pe=0;Pe<je;++Pe){if(15<xe[Pe])return 0;++Te[xe[Pe]]}if(Te[0]==je)return 0;for(ke[1]=0,Be=1;15>Be;++Be){if(Te[Be]>1<<Be)return 0;ke[Be+1]=ke[Be]+Te[Be]}for(Pe=0;Pe<je;++Pe)Be=xe[Pe],0<xe[Pe]&&(Fe[ke[Be]++]=Pe);if(ke[15]==1)return(xe=new R).g=0,xe.value=Fe[0],U(se,ct,1,Qe,xe),Qe;var st,ft=-1,it=Qe-1,jt=0,wt=1,qt=1,Nt=1<<pe;for(Pe=0,Be=1,je=2;Be<=pe;++Be,je<<=1){if(wt+=qt<<=1,0>(qt-=Te[Be]))return 0;for(;0<Te[Be];--Te[Be])(xe=new R).g=Be,xe.value=Fe[Pe++],U(se,ct+jt,je,Nt,xe),jt=V(jt,Be)}for(Be=pe+1,je=2;15>=Be;++Be,je<<=1){if(wt+=qt<<=1,0>(qt-=Te[Be]))return 0;for(;0<Te[Be];--Te[Be]){if(xe=new R,(jt&it)!=ft){for(ct+=Nt,st=1<<(ft=Be)-pe;15>ft&&!(0>=(st-=Te[ft]));)++ft,st<<=1;Qe+=Nt=1<<(st=ft-pe),se[de+(ft=jt&it)].g=st+pe,se[de+ft].value=ct-de-ft}xe.g=Be-pe,xe.value=Fe[Pe++],U(se,ct+(jt>>pe),je,Nt,xe),jt=V(jt,Be)}}return wt!=2*ke[15]-1?0:Qe})(v,A,L,$,ne,ie)}function R(){this.value=this.g=0}function j(){this.value=this.g=0}function G(){this.G=o(5,R),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ea,j)}function re(v,A,L,$){e(v!=null),e(A!=null),e(2147483648>$),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=A,v.pa=L,v.Jd=A,v.Yc=L+$,v.Zc=4<=$?L+$-4+1:L,me(v)}function J(v,A){for(var L=0;0<A--;)L|=ee(v,128)<<A;return L}function Z(v,A){var L=J(v,A);return be(v)?-L:L}function oe(v,A,L,$){var ne,ie=0;for(e(v!=null),e(A!=null),e(4294967288>$),v.Sb=$,v.Ra=0,v.u=0,v.h=0,4<$&&($=4),ne=0;ne<$;++ne)ie+=A[L+ne]<<8*ne;v.Ra=ie,v.bb=$,v.oa=A,v.pa=L}function ye(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<Ml-8>>>0,++v.bb,v.u-=8;Q(v)&&(v.h=1,v.u=0)}function ge(v,A){if(e(0<=A),!v.h&&A<=Ll){var L=H(v)&Dc[A];return v.u+=A,ye(v),L}return v.h=1,v.u=0}function le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(v){return v.Ra>>>(v.u&Ml-1)>>>0}function Q(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>Ml}function K(v,A){v.u=A,v.h=Q(v)}function X(v){v.u>=ku&&(e(v.u>=ku),ye(v))}function me(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function be(v){return J(v,1)}function ee(v,A){var L=v.Ca;0>v.b&&me(v);var $=v.b,ne=L*A>>>8,ie=(v.I>>>$>ne)+0;for(ie?(L-=ne,v.I-=ne+1<<$>>>0):L=ne+1,$=L,ne=0;256<=$;)ne+=8,$>>=8;return $=7^ne+yi[$],v.b-=$,v.Ca=(L<<$)-1,ie}function _e(v,A,L){v[A+0]=L>>24&255,v[A+1]=L>>16&255,v[A+2]=L>>8&255,v[A+3]=L>>0&255}function Se(v,A){return v[A+0]<<0|v[A+1]<<8}function Ae(v,A){return Se(v,A)|v[A+2]<<16}function Je(v,A){return Se(v,A)|Se(v,A+2)<<16}function Le(v,A){var L=1<<A;return e(v!=null),e(0<A),v.X=i(L),v.X==null?0:(v.Mb=32-A,v.Xa=A,1)}function ce(v,A){e(v!=null),e(A!=null),e(v.Xa==A.Xa),r(A.X,0,v.X,0,1<<A.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function Ye(v,A,L,$){e(L!=null),e($!=null);var ne=L[0],ie=$[0];return ne==0&&(ne=(v*ie+A/2)/A),ie==0&&(ie=(A*ne+v/2)/v),0>=ne||0>=ie?0:(L[0]=ne,$[0]=ie,1)}function nt(v,A){return v+(1<<A)-1>>>A}function He(v,A){return((4278255360&v)+(4278255360&A)>>>0&4278255360)+((16711935&v)+(16711935&A)>>>0&16711935)>>>0}function Ue(v,A){I[A]=function(L,$,ne,ie,se,de,pe){var xe;for(xe=0;xe<se;++xe){var je=I[v](de[pe+xe-1],ne,ie+xe);de[pe+xe]=He(L[$+xe],je)}}}function Ke(){this.ud=this.hd=this.jd=0}function et(v,A){return((4278124286&(v^A))>>>1)+(v&A)>>>0}function tt(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function Ge(v,A){return tt(v+(v-A+.5>>1))}function yt(v,A,L){return Math.abs(A-L)-Math.abs(v-L)}function vt(v,A,L,$,ne,ie,se){for($=ie[se-1],L=0;L<ne;++L)ie[se+L]=$=He(v[A+L],$)}function _t(v,A,L,$,ne){var ie;for(ie=0;ie<L;++ie){var se=v[A+ie],de=se>>8&255,pe=16711935&(pe=(pe=16711935&se)+((de<<16)+de));$[ne+ie]=(4278255360&se)+pe>>>0}}function Bt(v,A){A.jd=v>>0&255,A.hd=v>>8&255,A.ud=v>>16&255}function At(v,A,L,$,ne,ie){var se;for(se=0;se<$;++se){var de=A[L+se],pe=de>>>8,xe=de,je=255&(je=(je=de>>>16)+((v.jd<<24>>24)*(pe<<24>>24)>>>5));xe=255&(xe=(xe=xe+((v.hd<<24>>24)*(pe<<24>>24)>>>5))+((v.ud<<24>>24)*(je<<24>>24)>>>5)),ne[ie+se]=(4278255360&de)+(je<<16)+xe}}function Vt(v,A,L,$,ne){I[A]=function(ie,se,de,pe,xe,je,Fe,Be,Pe){for(pe=Fe;pe<Be;++pe)for(Fe=0;Fe<Pe;++Fe)xe[je++]=ne(de[$(ie[se++])])},I[v]=function(ie,se,de,pe,xe,je,Fe){var Be=8>>ie.b,Pe=ie.Ea,ct=ie.K[0],Qe=ie.w;if(8>Be)for(ie=(1<<ie.b)-1,Qe=(1<<Be)-1;se<de;++se){var Te,ke=0;for(Te=0;Te<Pe;++Te)Te&ie||(ke=$(pe[xe++])),je[Fe++]=ne(ct[ke&Qe]),ke>>=Be}else I["VP8LMapColor"+L](pe,xe,ct,Qe,je,Fe,se,de,Pe)}}function bt(v,A,L,$,ne){for(L=A+L;A<L;){var ie=v[A++];$[ne++]=ie>>16&255,$[ne++]=ie>>8&255,$[ne++]=ie>>0&255}}function Zn(v,A,L,$,ne){for(L=A+L;A<L;){var ie=v[A++];$[ne++]=ie>>16&255,$[ne++]=ie>>8&255,$[ne++]=ie>>0&255,$[ne++]=ie>>24&255}}function Jt(v,A,L,$,ne){for(L=A+L;A<L;){var ie=(se=v[A++])>>16&240|se>>12&15,se=se>>0&240|se>>28&15;$[ne++]=ie,$[ne++]=se}}function er(v,A,L,$,ne){for(L=A+L;A<L;){var ie=(se=v[A++])>>16&248|se>>13&7,se=se>>5&224|se>>3&31;$[ne++]=ie,$[ne++]=se}}function pn(v,A,L,$,ne){for(L=A+L;A<L;){var ie=v[A++];$[ne++]=ie>>0&255,$[ne++]=ie>>8&255,$[ne++]=ie>>16&255}}function mn(v,A,L,$,ne,ie){if(ie==0)for(L=A+L;A<L;)_e($,((ie=v[A++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),ne+=32;else r($,ne,v,A,L)}function Ti(v,A){I[A][0]=I[v+"0"],I[A][1]=I[v+"1"],I[A][2]=I[v+"2"],I[A][3]=I[v+"3"],I[A][4]=I[v+"4"],I[A][5]=I[v+"5"],I[A][6]=I[v+"6"],I[A][7]=I[v+"7"],I[A][8]=I[v+"8"],I[A][9]=I[v+"9"],I[A][10]=I[v+"10"],I[A][11]=I[v+"11"],I[A][12]=I[v+"12"],I[A][13]=I[v+"13"],I[A][14]=I[v+"0"],I[A][15]=I[v+"0"]}function fn(v){return v==sf||v==sh||v==Bu||v==oh}function aa(){this.eb=[],this.size=this.A=this.fb=0}function Bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function jr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new aa,this.f.kb=new Bn,this.sd=null}function Lr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function bn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function It(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function gn(v,A){var L=v.T,$=A.ba.f.RGBA,ne=$.eb,ie=$.fb+v.ka*$.A,se=$a[A.ba.S],de=v.y,pe=v.O,xe=v.f,je=v.N,Fe=v.ea,Be=v.W,Pe=A.cc,ct=A.dc,Qe=A.Mc,Te=A.Nc,ke=v.ka,st=v.ka+v.T,ft=v.U,it=ft+1>>1;for(ke==0?se(de,pe,null,null,xe,je,Fe,Be,xe,je,Fe,Be,ne,ie,null,null,ft):(se(A.ec,A.fc,de,pe,Pe,ct,Qe,Te,xe,je,Fe,Be,ne,ie-$.A,ne,ie,ft),++L);ke+2<st;ke+=2)Pe=xe,ct=je,Qe=Fe,Te=Be,je+=v.Rc,Be+=v.Rc,ie+=2*$.A,se(de,(pe+=2*v.fa)-v.fa,de,pe,Pe,ct,Qe,Te,xe,je,Fe,Be,ne,ie-$.A,ne,ie,ft);return pe+=v.fa,v.j+st<v.o?(r(A.ec,A.fc,de,pe,ft),r(A.cc,A.dc,xe,je,it),r(A.Mc,A.Nc,Fe,Be,it),L--):1&st||se(de,pe,null,null,xe,je,Fe,Be,xe,je,Fe,Be,ne,ie+$.A,null,null,ft),L}function pa(v,A,L){var $=v.F,ne=[v.J];if($!=null){var ie=v.U,se=A.ba.S,de=se==af||se==Bu;A=A.ba.f.RGBA;var pe=[0],xe=v.ka;pe[0]=v.T,v.Kb&&(xe==0?--pe[0]:(--xe,ne[0]-=v.width),v.j+v.ka+v.T==v.o&&(pe[0]=v.o-v.j-xe));var je=A.eb;xe=A.fb+xe*A.A,v=tr($,ne[0],v.width,ie,pe,je,xe+(de?0:3),A.A),e(L==pe),v&&fn(se)&&Mi(je,xe,de,ie,pe,A.A)}return 0}function Tr(v){var A=v.ma,L=A.ba.S,$=11>L,ne=L==si||L==vs||L==af||L==Mu||L==12||fn(L);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!Yo(A.Oa,v,ne?11:12))return 0;if(ne&&fn(L)&&ht(),v.da)alert("todo:use_scaling");else{if($){if(A.Ib=It,v.Kb){if(L=v.U+1>>1,A.memory=i(v.U+2*L),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+v.U,A.Mc=A.cc,A.Nc=A.dc+L,A.Ib=gn,ht()}}else alert("todo:EmitYUV");ne&&(A.Jb=pa,$&&Re())}if($&&!Yl){for(v=0;256>v;++v)Ha[v]=89858*(v-128)+zu>>As,nb[v]=-22014*(v-128)+zu,Kg[v]=-45773*(v-128),fh[v]=113618*(v-128)+zu>>As;for(v=qc;v<Kl;++v)A=76283*(v-16)+zu>>As,rb[v-qc]=Wn(A,255),ab[v-qc]=Wn(A+8>>4,15);Yl=1}return 1}function ia(v){var A=v.ma,L=v.U,$=v.T;return e(!(1&v.ka)),0>=L||0>=$?0:(L=A.Ib(v,A),A.Jb!=null&&A.Jb(v,A,L),A.Dc+=L,1)}function ma(v){v.ma.memory=null}function Ot(v,A,L,$){return ge(v,8)!=47?0:(A[0]=ge(v,14)+1,L[0]=ge(v,14)+1,$[0]=ge(v,1),ge(v,3)!=0?0:!v.h)}function Aa(v,A){if(4>v)return v+1;var L=v-2>>1;return(2+(1&v)<<L)+ge(A,L)+1}function Or(v,A){return 120<A?A-120:1<=(L=((L=xs[A-1])>>4)*v+(8-(15&L)))?L:1;var L}function Mr(v,A,L){var $=H(L),ne=v[A+=255&$].g-8;return 0<ne&&(K(L,L.u+8),$=H(L),A+=v[A].value,A+=$&(1<<ne)-1),K(L,L.u+v[A].g),v[A].value}function ar(v,A,L){return L.g+=v.g,L.value+=v.value<<A>>>0,e(8>=L.g),v.g}function ue(v,A,L){var $=v.xc;return e((A=$==0?0:v.vc[v.md*(L>>$)+(A>>$)])<v.Wb),v.Ya[A]}function We(v,A,L,$){var ne=v.ab,ie=v.c*A,se=v.C;A=se+A;var de=L,pe=$;for($=v.Ta,L=v.Ua;0<ne--;){var xe=v.gc[ne],je=se,Fe=A,Be=de,Pe=pe,ct=(pe=$,de=L,xe.Ea);switch(e(je<Fe),e(Fe<=xe.nc),xe.hc){case 2:nh(Be,Pe,(Fe-je)*ct,pe,de);break;case 0:var Qe=je,Te=Fe,ke=pe,st=de,ft=(Nt=xe).Ea;Qe==0&&(th(Be,Pe,null,null,1,ke,st),vt(Be,Pe+1,0,0,ft-1,ke,st+1),Pe+=ft,st+=ft,++Qe);for(var it=1<<Nt.b,jt=it-1,wt=nt(ft,Nt.b),qt=Nt.K,Nt=Nt.w+(Qe>>Nt.b)*wt;Qe<Te;){var Un=qt,En=Nt,In=1;for(nf(Be,Pe,ke,st-ft,1,ke,st);In<ft;){var on=(In&~jt)+it;on>ft&&(on=ft),(0,gs[Un[En++]>>8&15])(Be,Pe+ +In,ke,st+In-ft,on-In,ke,st+In),In=on}Pe+=ft,st+=ft,++Qe&jt||(Nt+=wt)}Fe!=xe.nc&&r(pe,de-ct,pe,de+(Fe-je-1)*ct,ct);break;case 1:for(ct=Be,Te=Pe,ft=(Be=xe.Ea)-(st=Be&~(ke=(Pe=1<<xe.b)-1)),Qe=nt(Be,xe.b),it=xe.K,xe=xe.w+(je>>xe.b)*Qe;je<Fe;){for(jt=it,wt=xe,qt=new Ke,Nt=Te+st,Un=Te+Be;Te<Nt;)Bt(jt[wt++],qt),Bl(qt,ct,Te,Pe,pe,de),Te+=Pe,de+=Pe;Te<Un&&(Bt(jt[wt++],qt),Bl(qt,ct,Te,ft,pe,de),Te+=ft,de+=ft),++je&ke||(xe+=Qe)}break;case 3:if(Be==pe&&Pe==de&&0<xe.b){for(Te=pe,Be=ct=de+(Fe-je)*ct-(st=(Fe-je)*nt(xe.Ea,xe.b)),Pe=pe,ke=de,Qe=[],st=(ft=st)-1;0<=st;--st)Qe[st]=Pe[ke+st];for(st=ft-1;0<=st;--st)Te[Be+st]=Qe[st];ms(xe,je,Fe,pe,ct,pe,de)}else ms(xe,je,Fe,Be,Pe,pe,de)}de=$,pe=L}pe!=L&&r($,L,de,pe,ie)}function Gt(v,A){var L=v.V,$=v.Ba+v.c*v.C,ne=A-v.C;if(e(A<=v.l.o),e(16>=ne),0<ne){var ie=v.l,se=v.Ta,de=v.Ua,pe=ie.width;if(We(v,ne,L,$),ne=de=[de],e((L=v.C)<($=A)),e(ie.v<ie.va),$>ie.o&&($=ie.o),L<ie.j){var xe=ie.j-L;L=ie.j,ne[0]+=xe*pe}if(L>=$?L=0:(ne[0]+=4*ie.v,ie.ka=L-ie.j,ie.U=ie.va-ie.v,ie.T=$-L,L=1),L){if(de=de[0],11>(L=v.ca).S){var je=L.f.RGBA,Fe=($=L.S,ne=ie.U,ie=ie.T,xe=je.eb,je.A),Be=ie;for(je=je.fb+v.Ma*je.A;0<Be--;){var Pe=se,ct=de,Qe=ne,Te=xe,ke=je;switch($){case ah:xi(Pe,ct,Qe,Te,ke);break;case si:ri(Pe,ct,Qe,Te,ke);break;case sf:ri(Pe,ct,Qe,Te,ke),Mi(Te,ke,0,Qe,1,0);break;case ih:Jo(Pe,ct,Qe,Te,ke);break;case vs:mn(Pe,ct,Qe,Te,ke,1);break;case sh:mn(Pe,ct,Qe,Te,ke,1),Mi(Te,ke,0,Qe,1,0);break;case af:mn(Pe,ct,Qe,Te,ke,0);break;case Bu:mn(Pe,ct,Qe,Te,ke,0),Mi(Te,ke,1,Qe,1,0);break;case Mu:Qo(Pe,ct,Qe,Te,ke);break;case oh:Qo(Pe,ct,Qe,Te,ke),Nn(Te,ke,Qe,1,0);break;case Ul:Ws(Pe,ct,Qe,Te,ke);break;default:e(0)}de+=pe,je+=Fe}v.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=L.height)}}v.C=A,e(v.C<=v.i)}function sn(v){var A;if(0<v.ua)return 0;for(A=0;A<v.Wb;++A){var L=v.Ya[A].G,$=v.Ya[A].H;if(0<L[1][$[1]+0].g||0<L[2][$[2]+0].g||0<L[3][$[3]+0].g)return 0}return 1}function zt(v,A,L,$,ne,ie){if(v.Z!=0){var se=v.qd,de=v.rd;for(e(nl[v.Z]!=null);A<L;++A)nl[v.Z](se,de,$,ne,$,ne,ie),se=$,de=ne,ne+=ie;v.qd=se,v.rd=de}}function Ft(v,A){var L=v.l.ma,$=L.Z==0||L.Z==1?v.l.j:v.C;if($=v.C<$?$:v.C,e(A<=v.l.o),A>$){var ne=v.l.width,ie=L.ca,se=L.tb+ne*$,de=v.V,pe=v.Ba+v.c*$,xe=v.gc;e(v.ab==1),e(xe[0].hc==3),rh(xe[0],$,A,de,pe,ie,se),zt(L,$,A,ie,se,ne)}v.C=v.Ma=A}function Zt(v,A,L,$,ne,ie,se){var de=v.$/$,pe=v.$%$,xe=v.m,je=v.s,Fe=L+v.$,Be=Fe;ne=L+$*ne;var Pe=L+$*ie,ct=280+je.ua,Qe=v.Pb?de:16777216,Te=0<je.ua?je.Wa:null,ke=je.wc,st=Fe<Pe?ue(je,pe,de):null;e(v.C<ie),e(Pe<=ne);var ft=!1;e:for(;;){for(;ft||Fe<Pe;){var it=0;if(de>=Qe){var jt=Fe-L;e((Qe=v).Pb),Qe.wd=Qe.m,Qe.xd=jt,0<Qe.s.ua&&ce(Qe.s.Wa,Qe.s.vb),Qe=de+$l}if(pe&ke||(st=ue(je,pe,de)),e(st!=null),st.Qb&&(A[Fe]=st.qb,ft=!0),!ft)if(X(xe),st.jc){it=xe,jt=A;var wt=Fe,qt=st.pd[H(it)&Ea-1];e(st.jc),256>qt.g?(K(it,it.u+qt.g),jt[wt]=qt.value,it=0):(K(it,it.u+qt.g-256),e(256<=qt.value),it=qt.value),it==0&&(ft=!0)}else it=Mr(st.G[0],st.H[0],xe);if(xe.h)break;if(ft||256>it){if(!ft)if(st.nd)A[Fe]=(st.qb|it<<8)>>>0;else{if(X(xe),ft=Mr(st.G[1],st.H[1],xe),X(xe),jt=Mr(st.G[2],st.H[2],xe),wt=Mr(st.G[3],st.H[3],xe),xe.h)break;A[Fe]=(wt<<24|ft<<16|it<<8|jt)>>>0}if(ft=!1,++Fe,++pe>=$&&(pe=0,++de,se!=null&&de<=ie&&!(de%16)&&se(v,de),Te!=null))for(;Be<Fe;)it=A[Be++],Te.X[(506832829*it&4294967295)>>>Te.Mb]=it}else if(280>it){if(it=Aa(it-256,xe),jt=Mr(st.G[4],st.H[4],xe),X(xe),jt=Or($,jt=Aa(jt,xe)),xe.h)break;if(Fe-L<jt||ne-Fe<it)break e;for(wt=0;wt<it;++wt)A[Fe+wt]=A[Fe+wt-jt];for(Fe+=it,pe+=it;pe>=$;)pe-=$,++de,se!=null&&de<=ie&&!(de%16)&&se(v,de);if(e(Fe<=ne),pe&ke&&(st=ue(je,pe,de)),Te!=null)for(;Be<Fe;)it=A[Be++],Te.X[(506832829*it&4294967295)>>>Te.Mb]=it}else{if(!(it<ct))break e;for(ft=it-280,e(Te!=null);Be<Fe;)it=A[Be++],Te.X[(506832829*it&4294967295)>>>Te.Mb]=it;it=Fe,e(!(ft>>>(jt=Te).Xa)),A[it]=jt.X[ft],ft=!0}ft||e(xe.h==Q(xe))}if(v.Pb&&xe.h&&Fe<ne)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&ce(v.s.vb,v.s.Wa);else{if(xe.h)break e;se!=null&&se(v,de>ie?ie:de),v.a=0,v.$=Fe-L}return 1}return v.a=3,0}function Me(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var A=v.Wa;A!=null&&(A.X=null),v.vb=null,e(v!=null)}function Et(){var v=new Ou;return v==null?null:(v.a=0,v.xb=cm,Ti("Predictor","VP8LPredictors"),Ti("Predictor","VP8LPredictors_C"),Ti("PredictorAdd","VP8LPredictorsAdd"),Ti("PredictorAdd","VP8LPredictorsAdd_C"),nh=_t,Bl=At,xi=bt,ri=Zn,Qo=Jt,Ws=er,Jo=pn,I.VP8LMapColor32b=Cu,I.VP8LMapColor8b=ni,v)}function Mt(v,A,L,$,ne){var ie=1,se=[v],de=[A],pe=$.m,xe=$.s,je=null,Fe=0;e:for(;;){if(L)for(;ie&&ge(pe,1);){var Be=se,Pe=de,ct=$,Qe=1,Te=ct.m,ke=ct.gc[ct.ab],st=ge(Te,2);if(ct.Oc&1<<st)ie=0;else{switch(ct.Oc|=1<<st,ke.hc=st,ke.Ea=Be[0],ke.nc=Pe[0],ke.K=[null],++ct.ab,e(4>=ct.ab),st){case 0:case 1:ke.b=ge(Te,3)+2,Qe=Mt(nt(ke.Ea,ke.b),nt(ke.nc,ke.b),0,ct,ke.K),ke.K=ke.K[0];break;case 3:var ft,it=ge(Te,8)+1,jt=16<it?0:4<it?1:2<it?2:3;if(Be[0]=nt(ke.Ea,jt),ke.b=jt,ft=Qe=Mt(it,1,0,ct,ke.K)){var wt,qt=it,Nt=ke,Un=1<<(8>>Nt.b),En=i(Un);if(En==null)ft=0;else{var In=Nt.K[0],on=Nt.w;for(En[0]=Nt.K[0][0],wt=1;wt<1*qt;++wt)En[wt]=He(In[on+wt],En[wt-1]);for(;wt<4*Un;++wt)En[wt]=0;Nt.K[0]=null,Nt.K[0]=En,ft=1}}Qe=ft;break;case 2:break;default:e(0)}ie=Qe}}if(se=se[0],de=de[0],ie&&ge(pe,1)&&!(ie=1<=(Fe=ge(pe,4))&&11>=Fe)){$.a=3;break e}var nr;if(nr=ie)t:{var Kn,Yt,ur,Ta=$,Kr=se,oi=de,qn=Fe,Ga=L,Bi=Ta.m,ga=Ta.s,Yr=[null],Oa=1,os=0,Ns=bs[qn];n:for(;;){if(Ga&&ge(Bi,1)){var oa=ge(Bi,3)+2,ta=nt(Kr,oa),ka=nt(oi,oa),ls=ta*ka;if(!Mt(ta,ka,0,Ta,Yr))break n;for(Yr=Yr[0],ga.xc=oa,Kn=0;Kn<ls;++Kn){var _o=Yr[Kn]>>8&65535;Yr[Kn]=_o,_o>=Oa&&(Oa=_o+1)}}if(Bi.h)break n;for(Yt=0;5>Yt;++Yt){var qr=Bc[Yt];!Yt&&0<qn&&(qr+=1<<qn),os<qr&&(os=qr)}var wo=o(Oa*Ns,R),Fi=Oa,Xr=o(Fi,G);if(Xr==null)var zc=null;else e(65536>=Fi),zc=Xr;var cs=i(os);if(zc==null||cs==null||wo==null){Ta.a=1;break n}var an=wo;for(Kn=ur=0;Kn<Oa;++Kn){var xn=zc[Kn],wr=xn.G,rl=xn.H,Vc=0,Ao=1,uf=0;for(Yt=0;5>Yt;++Yt){qr=Bc[Yt],wr[Yt]=an,rl[Yt]=ur,!Yt&&0<qn&&(qr+=1<<qn);a:{var Xl,Ql=qr,ph=Ta,mr=cs,dm=an,fm=ur,mh=0,al=ph.m,ib=ge(al,1);if(a(mr,0,0,Ql),ib){var hm=ge(al,1)+1,pm=ge(al,1),gh=ge(al,pm==0?1:8);mr[gh]=1,hm==2&&(mr[gh=ge(al,8)]=1);var Ca=1}else{var Qr=i(19),df=ge(al,4)+4;if(19<df){ph.a=3;var Jl=0;break a}for(Xl=0;Xl<df;++Xl)Qr[of[Xl]]=ge(al,3);var Uu=void 0,Uc=void 0,No=ph,vh=Qr,$u=Ql,yh=mr,xh=0,il=No.m,mm=8,gm=o(128,R);r:for(;M(gm,0,7,vh,19);){if(ge(il,1)){var Yg=2+2*ge(il,3);if((Uu=2+ge(il,Yg))>$u)break r}else Uu=$u;for(Uc=0;Uc<$u&&Uu--;){X(il);var vm=gm[0+(127&H(il))];K(il,il.u+vm.g);var Zl=vm.value;if(16>Zl)yh[Uc++]=Zl,Zl!=0&&(mm=Zl);else{var Xg=Zl==16,Qg=Zl-16,Jg=Fu[Qg],ym=ge(il,ys[Qg])+Jg;if(Uc+ym>$u)break r;for(var Zg=Xg?mm:0;0<ym--;)yh[Uc++]=Zg}}xh=1;break r}xh||(No.a=3),Ca=xh}(Ca=Ca&&!al.h)&&(mh=M(dm,fm,8,mr,Ql)),Ca&&mh!=0?Jl=mh:(ph.a=3,Jl=0)}if(Jl==0)break n;if(Ao&&lh[Yt]==1&&(Ao=an[ur].g==0),Vc+=an[ur].g,ur+=Jl,3>=Yt){var $c,bh=cs[0];for($c=1;$c<qr;++$c)cs[$c]>bh&&(bh=cs[$c]);uf+=bh}}if(xn.nd=Ao,xn.Qb=0,Ao&&(xn.qb=(wr[3][rl[3]+0].value<<24|wr[1][rl[1]+0].value<<16|wr[2][rl[2]+0].value)>>>0,Vc==0&&256>wr[0][rl[0]+0].value&&(xn.Qb=1,xn.qb+=wr[0][rl[0]+0].value<<8)),xn.jc=!xn.Qb&&6>uf,xn.jc){var ff,So=xn;for(ff=0;ff<Ea;++ff){var sl=ff,ol=So.pd[sl],_h=So.G[0][So.H[0]+sl];256<=_h.value?(ol.g=_h.g+256,ol.value=_h.value):(ol.g=0,ol.value=0,sl>>=ar(_h,8,ol),sl>>=ar(So.G[1][So.H[1]+sl],16,ol),sl>>=ar(So.G[2][So.H[2]+sl],0,ol),ar(So.G[3][So.H[3]+sl],24,ol))}}}ga.vc=Yr,ga.Wb=Oa,ga.Ya=zc,ga.yc=wo,nr=1;break t}nr=0}if(!(ie=nr)){$.a=3;break e}if(0<Fe){if(xe.ua=1<<Fe,!Le(xe.Wa,Fe)){$.a=1,ie=0;break e}}else xe.ua=0;var wh=$,Hc=se,ev=de,Hu=wh.s,Gu=Hu.xc;if(wh.c=Hc,wh.i=ev,Hu.md=nt(Hc,Gu),Hu.wc=Gu==0?-1:(1<<Gu)-1,L){$.xb=Hl;break e}if((je=i(se*de))==null){$.a=1,ie=0;break e}ie=(ie=Zt($,je,0,se,de,de,null))&&!pe.h;break e}return ie?(ne!=null?ne[0]=je:(e(je==null),e(L)),$.$=0,L||Me(xe)):Me(xe),ie}function kr(v,A){var L=v.c*v.i,$=L+A+16*A;return e(v.c<=A),v.V=i($),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+L+A,1)}function Cr(v,A){var L=v.C,$=A-L,ne=v.V,ie=v.Ba+v.c*L;for(e(A<=v.l.o);0<$;){var se=16<$?16:$,de=v.l.ma,pe=v.l.width,xe=pe*se,je=de.ca,Fe=de.tb+pe*L,Be=v.Ta,Pe=v.Ua;We(v,se,ne,ie),Vn(Be,Pe,je,Fe,xe),zt(de,L,L+se,je,Fe,pe),$-=se,ne+=se*v.c,L+=se}e(L==A),v.C=v.Ma=A}function kn(){this.ub=this.yd=this.td=this.Rb=0}function Ir(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zn(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Oi(){this.Yb=(function(){var v=[];return(function A(L,$,ne){for(var ie=ne[$],se=0;se<ie&&(L.push(ne.length>$+1?[]:0),!(ne.length<$+1));se++)A(L[se],$+1,ne)})(v,0,[3,11]),v})()}function es(){this.jb=i(3),this.Wc=u([4,8],Oi),this.Xc=u([4,17],Oi)}function Br(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ms(){this.ld=this.La=this.dd=this.tc=0}function Bs(){this.Na=this.la=0}function Fa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ki(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Zd(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ms),this.Y=0,this.ya=Array(new ki),this.aa=0,this.l=new qo}function Nl(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Tc(){this.cb=this.a=0,this.sc="",this.m=new le,this.Od=new kn,this.Kc=new Ir,this.ed=new Br,this.Qa=new zn,this.Ic=this.$c=this.Aa=0,this.D=new Zd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,le),this.ia=0,this.pb=o(4,Fa),this.Pa=new es,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Nl),this.Hd=0,this.rb=Array(new Bs),this.sb=0,this.wa=Array(new Ms),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ki),this.L=this.aa=0,this.gd=u([4,2],Ms),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function uo(){var v=new Tc;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,ss||(ss=Oc)),v}function ir(v,A,L){return v.a==0&&(v.a=A,v.sc=L,v.cb=0),0}function hi(v,A,L){return 3<=L&&v[A+0]==157&&v[A+1]==1&&v[A+2]==42}function Na(v,A){if(v==null)return 0;if(v.a=0,v.sc="OK",A==null)return ir(v,2,"null VP8Io passed to VP8GetHeaders()");var L=A.data,$=A.w,ne=A.ha;if(4>ne)return ir(v,7,"Truncated header.");var ie=L[$+0]|L[$+1]<<8|L[$+2]<<16,se=v.Od;if(se.Rb=!(1&ie),se.td=ie>>1&7,se.yd=ie>>4&1,se.ub=ie>>5,3<se.td)return ir(v,3,"Incorrect keyframe parameters.");if(!se.yd)return ir(v,4,"Frame not displayable.");$+=3,ne-=3;var de=v.Kc;if(se.Rb){if(7>ne)return ir(v,7,"cannot parse picture header");if(!hi(L,$,ne))return ir(v,3,"Bad code word");de.c=16383&(L[$+4]<<8|L[$+3]),de.Td=L[$+4]>>6,de.i=16383&(L[$+6]<<8|L[$+5]),de.Ud=L[$+6]>>6,$+=7,ne-=7,v.za=de.c+15>>4,v.Ub=de.i+15>>4,A.width=de.c,A.height=de.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,a((ie=v.Pa).jb,0,255,ie.jb.length),e((ie=v.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,a(ie.Zb,0,0,ie.Zb.length),a(ie.Lb,0,0,ie.Lb)}if(se.ub>ne)return ir(v,7,"bad partition length");re(ie=v.m,L,$,se.ub),$+=se.ub,ne-=se.ub,se.Rb&&(de.Ld=be(ie),de.Kd=be(ie)),de=v.Qa;var pe,xe=v.Pa;if(e(ie!=null),e(de!=null),de.Cb=be(ie),de.Cb){if(de.Bb=be(ie),be(ie)){for(de.Fb=be(ie),pe=0;4>pe;++pe)de.Zb[pe]=be(ie)?Z(ie,7):0;for(pe=0;4>pe;++pe)de.Lb[pe]=be(ie)?Z(ie,6):0}if(de.Bb)for(pe=0;3>pe;++pe)xe.jb[pe]=be(ie)?J(ie,8):255}else de.Bb=0;if(ie.Ka)return ir(v,3,"cannot parse segment header");if((de=v.ed).zd=be(ie),de.Tb=J(ie,6),de.wb=J(ie,3),de.Pc=be(ie),de.Pc&&be(ie)){for(xe=0;4>xe;++xe)be(ie)&&(de.vd[xe]=Z(ie,6));for(xe=0;4>xe;++xe)be(ie)&&(de.od[xe]=Z(ie,6))}if(v.L=de.Tb==0?0:de.zd?1:2,ie.Ka)return ir(v,3,"cannot parse filter header");var je=ne;if(ne=pe=$,$=pe+je,de=je,v.Xb=(1<<J(v.m,2))-1,je<3*(xe=v.Xb))L=7;else{for(pe+=3*xe,de-=3*xe,je=0;je<xe;++je){var Fe=L[ne+0]|L[ne+1]<<8|L[ne+2]<<16;Fe>de&&(Fe=de),re(v.Jc[+je],L,pe,Fe),pe+=Fe,de-=Fe,ne+=3}re(v.Jc[+xe],L,pe,de),L=pe<$?0:5}if(L!=0)return ir(v,L,"cannot parse partitions");for(L=J(pe=v.m,7),ne=be(pe)?Z(pe,4):0,$=be(pe)?Z(pe,4):0,de=be(pe)?Z(pe,4):0,xe=be(pe)?Z(pe,4):0,pe=be(pe)?Z(pe,4):0,je=v.Qa,Fe=0;4>Fe;++Fe){if(je.Cb){var Be=je.Zb[Fe];je.Fb||(Be+=L)}else{if(0<Fe){v.pb[Fe]=v.pb[0];continue}Be=L}var Pe=v.pb[Fe];Pe.Sc[0]=_s[Wn(Be+ne,127)],Pe.Sc[1]=ws[Wn(Be+0,127)],Pe.Eb[0]=2*_s[Wn(Be+$,127)],Pe.Eb[1]=101581*ws[Wn(Be+de,127)]>>16,8>Pe.Eb[1]&&(Pe.Eb[1]=8),Pe.Qc[0]=_s[Wn(Be+xe,117)],Pe.Qc[1]=ws[Wn(Be+pe,127)],Pe.lc=Be+pe}if(!se.Rb)return ir(v,4,"Not a key frame.");for(be(ie),se=v.Pa,L=0;4>L;++L){for(ne=0;8>ne;++ne)for($=0;3>$;++$)for(de=0;11>de;++de)xe=ee(ie,_r[L][ne][$][de])?J(ie,8):Wg[L][ne][$][de],se.Wc[L][ne].Yb[$][de]=xe;for(ne=0;17>ne;++ne)se.Xc[L][ne]=se.Wc[L][Sn[ne]]}return v.kc=be(ie),v.kc&&(v.Bd=J(ie,8)),v.cb=1}function Oc(v,A,L,$,ne,ie,se){var de=A[ne].Yb[L];for(L=0;16>ne;++ne){if(!ee(v,de[L+0]))return ne;for(;!ee(v,de[L+1]);)if(de=A[++ne].Yb[0],L=0,ne==16)return 16;var pe=A[ne+1].Yb;if(ee(v,de[L+2])){var xe=v,je=0;if(ee(xe,(Be=de)[(Fe=L)+3]))if(ee(xe,Be[Fe+6])){for(de=0,Fe=2*(je=ee(xe,Be[Fe+8]))+(Be=ee(xe,Be[Fe+9+je])),je=0,Be=Gg[Fe];Be[de];++de)je+=je+ee(xe,Be[de]);je+=3+(8<<Fe)}else ee(xe,Be[Fe+7])?(je=7+2*ee(xe,165),je+=ee(xe,145)):je=5+ee(xe,159);else je=ee(xe,Be[Fe+4])?3+ee(xe,Be[Fe+5]):2;de=pe[2]}else je=1,de=pe[1];pe=se+lm[ne],0>(xe=v).b&&me(xe);var Fe,Be=xe.b,Pe=(Fe=xe.Ca>>1)-(xe.I>>Be)>>31;--xe.b,xe.Ca+=Pe,xe.Ca|=1,xe.I-=(Fe+1&Pe)<<Be,ie[pe]=((je^Pe)-Pe)*$[(0<ne)+0]}return 16}function kc(v){var A=v.rb[v.sb-1];A.la=0,A.Na=0,a(v.zc,0,0,v.zc.length),v.ja=0}function Sl(v,A){if(v==null)return 0;if(A==null)return ir(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!Na(v,A))return 0;if(e(v.cb),A.ac==null||A.ac(A)){A.ob&&(v.L=0);var L=Vu[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=A.v-L>>4,v.zb=A.j-L>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=A.o+15+L>>4,v.Hb=A.va+15+L>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var $=v.ed;for(L=0;4>L;++L){var ne;if(v.Qa.Cb){var ie=v.Qa.Lb[L];v.Qa.Fb||(ie+=$.Tb)}else ie=$.Tb;for(ne=0;1>=ne;++ne){var se=v.gd[L][ne],de=ie;if($.Pc&&(de+=$.vd[0],ne&&(de+=$.od[0])),0<(de=0>de?0:63<de?63:de)){var pe=de;0<$.wb&&(pe=4<$.wb?pe>>2:pe>>1)>9-$.wb&&(pe=9-$.wb),1>pe&&(pe=1),se.dd=pe,se.tc=2*de+pe,se.ld=40<=de?2:15<=de?1:0}else se.tc=0;se.La=ne}}}L=0}else ir(v,6,"Frame setup failed"),L=v.a;if(L=L==0){if(L){v.$c=0,0<v.Aa||(v.Ic=cf);e:{L=v.Ic,$=4*(pe=v.za);var xe=32*pe,je=pe+1,Fe=0<v.L?pe*(0<v.Aa?2:1):0,Be=(v.Aa==2?2:1)*pe;if((se=$+832+(ne=3*(16*L+Vu[v.L])/2*xe)+(ie=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=se)L=0;else{if(se>v.Vb){if(v.Vb=0,v.Ec=i(se),v.Fc=0,v.Ec==null){L=ir(v,1,"no memory during frame initialization.");break e}v.Vb=se}se=v.Ec,de=v.Fc,v.Ac=se,v.Bc=de,de+=$,v.Gd=o(xe,Nl),v.Hd=0,v.rb=o(je+1,Bs),v.sb=1,v.wa=Fe?o(Fe,Ms):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=pe),e(!0),v.oc=se,v.pc=de,de+=832,v.ya=o(Be,ki),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=pe),v.R=16*pe,v.B=8*pe,pe=(xe=Vu[v.L])*v.R,xe=xe/2*v.B,v.sa=se,v.ta=de+pe,v.qa=v.sa,v.ra=v.ta+16*L*v.R+xe,v.Ha=v.qa,v.Ia=v.ra+8*L*v.B+xe,v.$c=0,de+=ne,v.mb=ie?se:null,v.nb=ie?de:null,e(de+ie<=v.Fc+v.Vb),kc(v),a(v.Ac,v.Bc,0,$),L=1}}if(L){if(A.ka=0,A.y=v.sa,A.O=v.ta,A.f=v.qa,A.N=v.ra,A.ea=v.Ha,A.Vd=v.Ia,A.fa=v.R,A.Rc=v.B,A.F=null,A.J=0,!Lu){for(L=-255;255>=L;++L)Pr[255+L]=0>L?-L:L;for(L=-1020;1020>=L;++L)Qs[1020+L]=-128>L?-128:127<L?127:L;for(L=-112;112>=L;++L)Vl[112+L]=-16>L?-16:15<L?15:L;for(L=-255;510>=L;++L)el[255+L]=0>L?0:255<L?255:L;Lu=1}Ks=ho,Ys=zo,Lc=Vo,ai=Cn,ja=fo,br=qs,Xs=kl,Iu=$s,Pu=Cl,as=Rc,Fl=go,Zo=Go,ql=Il,Ru=vo,Mc=Vs,zl=vi,Du=Fr,is=Ho,Wr[0]=Ci,Wr[1]=ef,Wr[2]=mi,Wr[3]=Tu,Wr[4]=Ic,Wr[5]=ei,Wr[6]=qa,Wr[7]=$o,Wr[8]=gi,Wr[9]=ps,bi[0]=ns,bi[1]=ju,bi[2]=ts,bi[3]=El,bi[4]=Fn,bi[5]=Tl,bi[6]=Uo,Js[0]=Ri,Js[1]=Cc,Js[2]=Ol,Js[3]=Ii,Js[4]=Hn,Js[5]=po,Js[6]=sa,L=1}else L=0}L&&(L=(function(Pe,ct){for(Pe.M=0;Pe.M<Pe.Va;++Pe.M){var Qe,Te=Pe.Jc[Pe.M&Pe.Xb],ke=Pe.m,st=Pe;for(Qe=0;Qe<st.za;++Qe){var ft=ke,it=st,jt=it.Ac,wt=it.Bc+4*Qe,qt=it.zc,Nt=it.ya[it.aa+Qe];if(it.Qa.Bb?Nt.$b=ee(ft,it.Pa.jb[0])?2+ee(ft,it.Pa.jb[2]):ee(ft,it.Pa.jb[1]):Nt.$b=0,it.kc&&(Nt.Ad=ee(ft,it.Bd)),Nt.Za=!ee(ft,145)+0,Nt.Za){var Un=Nt.Ob,En=0;for(it=0;4>it;++it){var In,on=qt[0+it];for(In=0;4>In;++In){on=Ua[jt[wt+In]][on];for(var nr=ch[ee(ft,on[0])];0<nr;)nr=ch[2*nr+ee(ft,on[nr])];on=-nr,jt[wt+In]=on}r(Un,En,jt,wt,4),En+=4,qt[0+it]=on}}else on=ee(ft,156)?ee(ft,128)?1:3:ee(ft,163)?2:0,Nt.Ob[0]=on,a(jt,wt,on,4),a(qt,0,on,4);Nt.Dd=ee(ft,142)?ee(ft,114)?ee(ft,183)?1:3:2:0}if(st.m.Ka)return ir(Pe,7,"Premature end-of-partition0 encountered.");for(;Pe.ja<Pe.za;++Pe.ja){if(st=Te,ft=(ke=Pe).rb[ke.sb-1],jt=ke.rb[ke.sb+ke.ja],Qe=ke.ya[ke.aa+ke.ja],wt=ke.kc?Qe.Ad:0)ft.la=jt.la=0,Qe.Za||(ft.Na=jt.Na=0),Qe.Hc=0,Qe.Gc=0,Qe.ia=0;else{var Kn,Yt;if(ft=jt,jt=st,wt=ke.Pa.Xc,qt=ke.ya[ke.aa+ke.ja],Nt=ke.pb[qt.$b],it=qt.ad,Un=0,En=ke.rb[ke.sb-1],on=In=0,a(it,Un,0,384),qt.Za)var ur=0,Ta=wt[3];else{nr=i(16);var Kr=ft.Na+En.Na;if(Kr=ss(jt,wt[1],Kr,Nt.Eb,0,nr,0),ft.Na=En.Na=(0<Kr)+0,1<Kr)Ks(nr,0,it,Un);else{var oi=nr[0]+3>>3;for(nr=0;256>nr;nr+=16)it[Un+nr]=oi}ur=1,Ta=wt[0]}var qn=15&ft.la,Ga=15&En.la;for(nr=0;4>nr;++nr){var Bi=1&Ga;for(oi=Yt=0;4>oi;++oi)qn=qn>>1|(Bi=(Kr=ss(jt,Ta,Kr=Bi+(1&qn),Nt.Sc,ur,it,Un))>ur)<<7,Yt=Yt<<2|(3<Kr?3:1<Kr?2:it[Un+0]!=0),Un+=16;qn>>=4,Ga=Ga>>1|Bi<<7,In=(In<<8|Yt)>>>0}for(Ta=qn,ur=Ga>>4,Kn=0;4>Kn;Kn+=2){for(Yt=0,qn=ft.la>>4+Kn,Ga=En.la>>4+Kn,nr=0;2>nr;++nr){for(Bi=1&Ga,oi=0;2>oi;++oi)Kr=Bi+(1&qn),qn=qn>>1|(Bi=0<(Kr=ss(jt,wt[2],Kr,Nt.Qc,0,it,Un)))<<3,Yt=Yt<<2|(3<Kr?3:1<Kr?2:it[Un+0]!=0),Un+=16;qn>>=2,Ga=Ga>>1|Bi<<5}on|=Yt<<4*Kn,Ta|=qn<<4<<Kn,ur|=(240&Ga)<<Kn}ft.la=Ta,En.la=ur,qt.Hc=In,qt.Gc=on,qt.ia=43690&on?0:Nt.ia,wt=!(In|on)}if(0<ke.L&&(ke.wa[ke.Y+ke.ja]=ke.gd[Qe.$b][Qe.Za],ke.wa[ke.Y+ke.ja].La|=!wt),st.Ka)return ir(Pe,7,"Premature end-of-file encountered.")}if(kc(Pe),ke=ct,st=1,Qe=(Te=Pe).D,ft=0<Te.L&&Te.M>=Te.zb&&Te.M<=Te.Va,Te.Aa==0)e:{if(Qe.M=Te.M,Qe.uc=ft,Gs(Te,Qe),st=1,Qe=(Yt=Te.D).Nb,ft=(on=Vu[Te.L])*Te.R,jt=on/2*Te.B,nr=16*Qe*Te.R,oi=8*Qe*Te.B,wt=Te.sa,qt=Te.ta-ft+nr,Nt=Te.qa,it=Te.ra-jt+oi,Un=Te.Ha,En=Te.Ia-jt+oi,Ga=(qn=Yt.M)==0,In=qn>=Te.Va-1,Te.Aa==2&&Gs(Te,Yt),Yt.uc)for(Bi=(Kr=Te).D.M,e(Kr.D.uc),Yt=Kr.yb;Yt<Kr.Hb;++Yt){ur=Yt,Ta=Bi;var ga=(Yr=(qr=Kr).D).Nb;Kn=qr.R;var Yr=Yr.wa[Yr.Y+ur],Oa=qr.sa,os=qr.ta+16*ga*Kn+16*ur,Ns=Yr.dd,oa=Yr.tc;if(oa!=0)if(e(3<=oa),qr.L==1)0<ur&&zl(Oa,os,Kn,oa+4),Yr.La&&is(Oa,os,Kn,oa),0<Ta&&Mc(Oa,os,Kn,oa+4),Yr.La&&Du(Oa,os,Kn,oa);else{var ta=qr.B,ka=qr.qa,ls=qr.ra+8*ga*ta+8*ur,_o=qr.Ha,qr=qr.Ia+8*ga*ta+8*ur;ga=Yr.ld,0<ur&&(Iu(Oa,os,Kn,oa+4,Ns,ga),as(ka,ls,_o,qr,ta,oa+4,Ns,ga)),Yr.La&&(Zo(Oa,os,Kn,oa,Ns,ga),Ru(ka,ls,_o,qr,ta,oa,Ns,ga)),0<Ta&&(Xs(Oa,os,Kn,oa+4,Ns,ga),Pu(ka,ls,_o,qr,ta,oa+4,Ns,ga)),Yr.La&&(Fl(Oa,os,Kn,oa,Ns,ga),ql(ka,ls,_o,qr,ta,oa,Ns,ga))}}if(Te.ia&&alert("todo:DitherRow"),ke.put!=null){if(Yt=16*qn,qn=16*(qn+1),Ga?(ke.y=Te.sa,ke.O=Te.ta+nr,ke.f=Te.qa,ke.N=Te.ra+oi,ke.ea=Te.Ha,ke.W=Te.Ia+oi):(Yt-=on,ke.y=wt,ke.O=qt,ke.f=Nt,ke.N=it,ke.ea=Un,ke.W=En),In||(qn-=on),qn>ke.o&&(qn=ke.o),ke.F=null,ke.J=null,Te.Fa!=null&&0<Te.Fa.length&&Yt<qn&&(ke.J=Ko(Te,ke,Yt,qn-Yt),ke.F=Te.mb,ke.F==null&&ke.F.length==0)){st=ir(Te,3,"Could not decode alpha data.");break e}Yt<ke.j&&(on=ke.j-Yt,Yt=ke.j,e(!(1&on)),ke.O+=Te.R*on,ke.N+=Te.B*(on>>1),ke.W+=Te.B*(on>>1),ke.F!=null&&(ke.J+=ke.width*on)),Yt<qn&&(ke.O+=ke.v,ke.N+=ke.v>>1,ke.W+=ke.v>>1,ke.F!=null&&(ke.J+=ke.v),ke.ka=Yt-ke.j,ke.U=ke.va-ke.v,ke.T=qn-Yt,st=ke.put(ke))}Qe+1!=Te.Ic||In||(r(Te.sa,Te.ta-ft,wt,qt+16*Te.R,ft),r(Te.qa,Te.ra-jt,Nt,it+8*Te.B,jt),r(Te.Ha,Te.Ia-jt,Un,En+8*Te.B,jt))}if(!st)return ir(Pe,6,"Output aborted.")}return 1})(v,A)),A.bc!=null&&A.bc(A),L&=1}return L?(v.cb=0,L):0}function pi(v,A,L,$,ne){ne=v[A+L+32*$]+(ne>>3),v[A+L+32*$]=-256&ne?0>ne?0:255:ne}function Fs(v,A,L,$,ne,ie){pi(v,A,0,L,$+ne),pi(v,A,1,L,$+ie),pi(v,A,2,L,$-ie),pi(v,A,3,L,$-ne)}function Gr(v){return(20091*v>>16)+v}function pr(v,A,L,$){var ne,ie=0,se=i(16);for(ne=0;4>ne;++ne){var de=v[A+0]+v[A+8],pe=v[A+0]-v[A+8],xe=(35468*v[A+4]>>16)-Gr(v[A+12]),je=Gr(v[A+4])+(35468*v[A+12]>>16);se[ie+0]=de+je,se[ie+1]=pe+xe,se[ie+2]=pe-xe,se[ie+3]=de-je,ie+=4,A++}for(ne=ie=0;4>ne;++ne)de=(v=se[ie+0]+4)+se[ie+8],pe=v-se[ie+8],xe=(35468*se[ie+4]>>16)-Gr(se[ie+12]),pi(L,$,0,0,de+(je=Gr(se[ie+4])+(35468*se[ie+12]>>16))),pi(L,$,1,0,pe+xe),pi(L,$,2,0,pe-xe),pi(L,$,3,0,de-je),ie++,$+=32}function qs(v,A,L,$){var ne=v[A+0]+4,ie=35468*v[A+4]>>16,se=Gr(v[A+4]),de=35468*v[A+1]>>16;Fs(L,$,0,ne+se,v=Gr(v[A+1]),de),Fs(L,$,1,ne+ie,v,de),Fs(L,$,2,ne-ie,v,de),Fs(L,$,3,ne-se,v,de)}function zo(v,A,L,$,ne){pr(v,A,L,$),ne&&pr(v,A+16,L,$+4)}function Vo(v,A,L,$){Ys(v,A+0,L,$,1),Ys(v,A+32,L,$+128,1)}function Cn(v,A,L,$){var ne;for(v=v[A+0]+4,ne=0;4>ne;++ne)for(A=0;4>A;++A)pi(L,$,A,ne,v)}function fo(v,A,L,$){v[A+0]&&ai(v,A+0,L,$),v[A+16]&&ai(v,A+16,L,$+4),v[A+32]&&ai(v,A+32,L,$+128),v[A+48]&&ai(v,A+48,L,$+128+4)}function ho(v,A,L,$){var ne,ie=i(16);for(ne=0;4>ne;++ne){var se=v[A+0+ne]+v[A+12+ne],de=v[A+4+ne]+v[A+8+ne],pe=v[A+4+ne]-v[A+8+ne],xe=v[A+0+ne]-v[A+12+ne];ie[0+ne]=se+de,ie[8+ne]=se-de,ie[4+ne]=xe+pe,ie[12+ne]=xe-pe}for(ne=0;4>ne;++ne)se=(v=ie[0+4*ne]+3)+ie[3+4*ne],de=ie[1+4*ne]+ie[2+4*ne],pe=ie[1+4*ne]-ie[2+4*ne],xe=v-ie[3+4*ne],L[$+0]=se+de>>3,L[$+16]=xe+pe>>3,L[$+32]=se-de>>3,L[$+48]=xe-pe>>3,$+=64}function Za(v,A,L){var $,ne=A-32,ie=ii,se=255-v[ne-1];for($=0;$<L;++$){var de,pe=ie,xe=se+v[A-1];for(de=0;de<L;++de)v[A+de]=pe[xe+v[ne+de]];A+=32}}function ef(v,A){Za(v,A,4)}function Cc(v,A){Za(v,A,8)}function ju(v,A){Za(v,A,16)}function ts(v,A){var L;for(L=0;16>L;++L)r(v,A+32*L,v,A-32,16)}function El(v,A){var L;for(L=16;0<L;--L)a(v,A,v[A-1],16),A+=32}function jl(v,A,L){var $;for($=0;16>$;++$)a(A,L+32*$,v,16)}function ns(v,A){var L,$=16;for(L=0;16>L;++L)$+=v[A-1+32*L]+v[A+L-32];jl($>>5,v,A)}function Fn(v,A){var L,$=8;for(L=0;16>L;++L)$+=v[A-1+32*L];jl($>>4,v,A)}function Tl(v,A){var L,$=8;for(L=0;16>L;++L)$+=v[A+L-32];jl($>>4,v,A)}function Uo(v,A){jl(128,v,A)}function Ut(v,A,L){return v+2*A+L+2>>2}function mi(v,A){var L,$=A-32;for($=new Uint8Array([Ut(v[$-1],v[$+0],v[$+1]),Ut(v[$+0],v[$+1],v[$+2]),Ut(v[$+1],v[$+2],v[$+3]),Ut(v[$+2],v[$+3],v[$+4])]),L=0;4>L;++L)r(v,A+32*L,$,0,$.length)}function Tu(v,A){var L=v[A-1],$=v[A-1+32],ne=v[A-1+64],ie=v[A-1+96];_e(v,A+0,16843009*Ut(v[A-1-32],L,$)),_e(v,A+32,16843009*Ut(L,$,ne)),_e(v,A+64,16843009*Ut($,ne,ie)),_e(v,A+96,16843009*Ut(ne,ie,ie))}function Ci(v,A){var L,$=4;for(L=0;4>L;++L)$+=v[A+L-32]+v[A-1+32*L];for($>>=3,L=0;4>L;++L)a(v,A+32*L,$,4)}function Ic(v,A){var L=v[A-1+0],$=v[A-1+32],ne=v[A-1+64],ie=v[A-1-32],se=v[A+0-32],de=v[A+1-32],pe=v[A+2-32],xe=v[A+3-32];v[A+0+96]=Ut($,ne,v[A-1+96]),v[A+1+96]=v[A+0+64]=Ut(L,$,ne),v[A+2+96]=v[A+1+64]=v[A+0+32]=Ut(ie,L,$),v[A+3+96]=v[A+2+64]=v[A+1+32]=v[A+0+0]=Ut(se,ie,L),v[A+3+64]=v[A+2+32]=v[A+1+0]=Ut(de,se,ie),v[A+3+32]=v[A+2+0]=Ut(pe,de,se),v[A+3+0]=Ut(xe,pe,de)}function qa(v,A){var L=v[A+1-32],$=v[A+2-32],ne=v[A+3-32],ie=v[A+4-32],se=v[A+5-32],de=v[A+6-32],pe=v[A+7-32];v[A+0+0]=Ut(v[A+0-32],L,$),v[A+1+0]=v[A+0+32]=Ut(L,$,ne),v[A+2+0]=v[A+1+32]=v[A+0+64]=Ut($,ne,ie),v[A+3+0]=v[A+2+32]=v[A+1+64]=v[A+0+96]=Ut(ne,ie,se),v[A+3+32]=v[A+2+64]=v[A+1+96]=Ut(ie,se,de),v[A+3+64]=v[A+2+96]=Ut(se,de,pe),v[A+3+96]=Ut(de,pe,pe)}function ei(v,A){var L=v[A-1+0],$=v[A-1+32],ne=v[A-1+64],ie=v[A-1-32],se=v[A+0-32],de=v[A+1-32],pe=v[A+2-32],xe=v[A+3-32];v[A+0+0]=v[A+1+64]=ie+se+1>>1,v[A+1+0]=v[A+2+64]=se+de+1>>1,v[A+2+0]=v[A+3+64]=de+pe+1>>1,v[A+3+0]=pe+xe+1>>1,v[A+0+96]=Ut(ne,$,L),v[A+0+64]=Ut($,L,ie),v[A+0+32]=v[A+1+96]=Ut(L,ie,se),v[A+1+32]=v[A+2+96]=Ut(ie,se,de),v[A+2+32]=v[A+3+96]=Ut(se,de,pe),v[A+3+32]=Ut(de,pe,xe)}function $o(v,A){var L=v[A+0-32],$=v[A+1-32],ne=v[A+2-32],ie=v[A+3-32],se=v[A+4-32],de=v[A+5-32],pe=v[A+6-32],xe=v[A+7-32];v[A+0+0]=L+$+1>>1,v[A+1+0]=v[A+0+64]=$+ne+1>>1,v[A+2+0]=v[A+1+64]=ne+ie+1>>1,v[A+3+0]=v[A+2+64]=ie+se+1>>1,v[A+0+32]=Ut(L,$,ne),v[A+1+32]=v[A+0+96]=Ut($,ne,ie),v[A+2+32]=v[A+1+96]=Ut(ne,ie,se),v[A+3+32]=v[A+2+96]=Ut(ie,se,de),v[A+3+64]=Ut(se,de,pe),v[A+3+96]=Ut(de,pe,xe)}function ps(v,A){var L=v[A-1+0],$=v[A-1+32],ne=v[A-1+64],ie=v[A-1+96];v[A+0+0]=L+$+1>>1,v[A+2+0]=v[A+0+32]=$+ne+1>>1,v[A+2+32]=v[A+0+64]=ne+ie+1>>1,v[A+1+0]=Ut(L,$,ne),v[A+3+0]=v[A+1+32]=Ut($,ne,ie),v[A+3+32]=v[A+1+64]=Ut(ne,ie,ie),v[A+3+64]=v[A+2+64]=v[A+0+96]=v[A+1+96]=v[A+2+96]=v[A+3+96]=ie}function gi(v,A){var L=v[A-1+0],$=v[A-1+32],ne=v[A-1+64],ie=v[A-1+96],se=v[A-1-32],de=v[A+0-32],pe=v[A+1-32],xe=v[A+2-32];v[A+0+0]=v[A+2+32]=L+se+1>>1,v[A+0+32]=v[A+2+64]=$+L+1>>1,v[A+0+64]=v[A+2+96]=ne+$+1>>1,v[A+0+96]=ie+ne+1>>1,v[A+3+0]=Ut(de,pe,xe),v[A+2+0]=Ut(se,de,pe),v[A+1+0]=v[A+3+32]=Ut(L,se,de),v[A+1+32]=v[A+3+64]=Ut($,L,se),v[A+1+64]=v[A+3+96]=Ut(ne,$,L),v[A+1+96]=Ut(ie,ne,$)}function Ol(v,A){var L;for(L=0;8>L;++L)r(v,A+32*L,v,A-32,8)}function Ii(v,A){var L;for(L=0;8>L;++L)a(v,A,v[A-1],8),A+=32}function Pi(v,A,L){var $;for($=0;8>$;++$)a(A,L+32*$,v,8)}function Ri(v,A){var L,$=8;for(L=0;8>L;++L)$+=v[A+L-32]+v[A-1+32*L];Pi($>>4,v,A)}function po(v,A){var L,$=4;for(L=0;8>L;++L)$+=v[A+L-32];Pi($>>3,v,A)}function Hn(v,A){var L,$=4;for(L=0;8>L;++L)$+=v[A-1+32*L];Pi($>>3,v,A)}function sa(v,A){Pi(128,v,A)}function Di(v,A,L){var $=v[A-L],ne=v[A+0],ie=3*(ne-$)+tl[1020+v[A-2*L]-v[A+L]],se=rf[112+(ie+4>>3)];v[A-L]=ii[255+$+rf[112+(ie+3>>3)]],v[A+0]=ii[255+ne-se]}function mo(v,A,L,$){var ne=v[A+0],ie=v[A+L];return Va[255+v[A-2*L]-v[A-L]]>$||Va[255+ie-ne]>$}function zs(v,A,L,$){return 4*Va[255+v[A-L]-v[A+0]]+Va[255+v[A-2*L]-v[A+L]]<=$}function Pc(v,A,L,$,ne){var ie=v[A-3*L],se=v[A-2*L],de=v[A-L],pe=v[A+0],xe=v[A+L],je=v[A+2*L],Fe=v[A+3*L];return 4*Va[255+de-pe]+Va[255+se-xe]>$?0:Va[255+v[A-4*L]-ie]<=ne&&Va[255+ie-se]<=ne&&Va[255+se-de]<=ne&&Va[255+Fe-je]<=ne&&Va[255+je-xe]<=ne&&Va[255+xe-pe]<=ne}function Vs(v,A,L,$){var ne=2*$+1;for($=0;16>$;++$)zs(v,A+$,L,ne)&&Di(v,A+$,L)}function vi(v,A,L,$){var ne=2*$+1;for($=0;16>$;++$)zs(v,A+$*L,1,ne)&&Di(v,A+$*L,1)}function Fr(v,A,L,$){var ne;for(ne=3;0<ne;--ne)Vs(v,A+=4*L,L,$)}function Ho(v,A,L,$){var ne;for(ne=3;0<ne;--ne)vi(v,A+=4,L,$)}function Us(v,A,L,$,ne,ie,se,de){for(ie=2*ie+1;0<ne--;){if(Pc(v,A,L,ie,se))if(mo(v,A,L,de))Di(v,A,L);else{var pe=v,xe=A,je=L,Fe=pe[xe-2*je],Be=pe[xe-je],Pe=pe[xe+0],ct=pe[xe+je],Qe=pe[xe+2*je],Te=27*(st=tl[1020+3*(Pe-Be)+tl[1020+Fe-ct]])+63>>7,ke=18*st+63>>7,st=9*st+63>>7;pe[xe-3*je]=ii[255+pe[xe-3*je]+st],pe[xe-2*je]=ii[255+Fe+ke],pe[xe-je]=ii[255+Be+Te],pe[xe+0]=ii[255+Pe-Te],pe[xe+je]=ii[255+ct-ke],pe[xe+2*je]=ii[255+Qe-st]}A+=$}}function za(v,A,L,$,ne,ie,se,de){for(ie=2*ie+1;0<ne--;){if(Pc(v,A,L,ie,se))if(mo(v,A,L,de))Di(v,A,L);else{var pe=v,xe=A,je=L,Fe=pe[xe-je],Be=pe[xe+0],Pe=pe[xe+je],ct=rf[112+((Qe=3*(Be-Fe))+4>>3)],Qe=rf[112+(Qe+3>>3)],Te=ct+1>>1;pe[xe-2*je]=ii[255+pe[xe-2*je]+Te],pe[xe-je]=ii[255+Fe+Qe],pe[xe+0]=ii[255+Be-ct],pe[xe+je]=ii[255+Pe-Te]}A+=$}}function kl(v,A,L,$,ne,ie){Us(v,A,L,1,16,$,ne,ie)}function $s(v,A,L,$,ne,ie){Us(v,A,1,L,16,$,ne,ie)}function go(v,A,L,$,ne,ie){var se;for(se=3;0<se;--se)za(v,A+=4*L,L,1,16,$,ne,ie)}function Go(v,A,L,$,ne,ie){var se;for(se=3;0<se;--se)za(v,A+=4,1,L,16,$,ne,ie)}function Cl(v,A,L,$,ne,ie,se,de){Us(v,A,ne,1,8,ie,se,de),Us(L,$,ne,1,8,ie,se,de)}function Rc(v,A,L,$,ne,ie,se,de){Us(v,A,1,ne,8,ie,se,de),Us(L,$,1,ne,8,ie,se,de)}function Il(v,A,L,$,ne,ie,se,de){za(v,A+4*ne,ne,1,8,ie,se,de),za(L,$+4*ne,ne,1,8,ie,se,de)}function vo(v,A,L,$,ne,ie,se,de){za(v,A+4,1,ne,8,ie,se,de),za(L,$+4,1,ne,8,ie,se,de)}function yo(){this.ba=new jr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new bn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Pl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Wo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Rl(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new R}function Ou(){this.xb=this.a=0,this.l=new qo,this.ca=new jr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Rl,this.ab=0,this.gc=o(4,Wo),this.Oc=0}function rs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xo(v,A,L,$,ne,ie,se){for(v=v==null?0:v[A+0],A=0;A<se;++A)ne[ie+A]=v+L[$+A]&255,v=ne[ie+A]}function Dl(v,A,L,$,ne,ie,se){var de;if(v==null)xo(null,null,L,$,ne,ie,se);else for(de=0;de<se;++de)ne[ie+de]=v[A+de]+L[$+de]&255}function ti(v,A,L,$,ne,ie,se){if(v==null)xo(null,null,L,$,ne,ie,se);else{var de,pe=v[A+0],xe=pe,je=pe;for(de=0;de<se;++de)xe=je+(pe=v[A+de])-xe,je=L[$+de]+(-256&xe?0>xe?0:255:xe)&255,xe=pe,ne[ie+de]=je}}function Ko(v,A,L,$){var ne=A.width,ie=A.o;if(e(v!=null&&A!=null),0>L||0>=$||L+$>ie)return null;if(!v.Cc){if(v.ga==null){var se;if(v.ga=new rs,(se=v.ga==null)||(se=A.width*A.o,e(v.Gb.length==0),v.Gb=i(se),v.Uc=0,v.Gb==null?se=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,se=1),se=!se),!se){se=v.ga;var de=v.Fa,pe=v.P,xe=v.qc,je=v.mb,Fe=v.nb,Be=pe+1,Pe=xe-1,ct=se.l;if(e(de!=null&&je!=null&&A!=null),nl[0]=null,nl[1]=xo,nl[2]=Dl,nl[3]=ti,se.ca=je,se.tb=Fe,se.c=A.width,se.i=A.height,e(0<se.c&&0<se.i),1>=xe)A=0;else if(se.$a=de[pe+0]>>0&3,se.Z=de[pe+0]>>2&3,se.Lc=de[pe+0]>>4&3,pe=de[pe+0]>>6&3,0>se.$a||1<se.$a||4<=se.Z||1<se.Lc||pe)A=0;else if(ct.put=ia,ct.ac=Tr,ct.bc=ma,ct.ma=se,ct.width=A.width,ct.height=A.height,ct.Da=A.Da,ct.v=A.v,ct.va=A.va,ct.j=A.j,ct.o=A.o,se.$a)e:{e(se.$a==1),A=Et();t:for(;;){if(A==null){A=0;break e}if(e(se!=null),se.mc=A,A.c=se.c,A.i=se.i,A.l=se.l,A.l.ma=se,A.l.width=se.c,A.l.height=se.i,A.a=0,oe(A.m,de,Be,Pe),!Mt(se.c,se.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&sn(A.s)?(se.ic=1,de=A.c*A.i,A.Ta=null,A.Ua=0,A.V=i(de),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(se.ic=0,A=kr(A,se.c)),!A))break t;A=1;break e}se.mc=null,A=0}else A=Pe>=se.c*se.i;se=!A}if(se)return null;v.ga.Lc!=1?v.Ga=0:$=ie-L}e(v.ga!=null),e(L+$<=ie);e:{if(A=(de=v.ga).c,ie=de.l.o,de.$a==0){if(Be=v.rc,Pe=v.Vc,ct=v.Fa,pe=v.P+1+L*A,xe=v.mb,je=v.nb+L*A,e(pe<=v.P+v.qc),de.Z!=0)for(e(nl[de.Z]!=null),se=0;se<$;++se)nl[de.Z](Be,Pe,ct,pe,xe,je,A),Be=xe,Pe=je,je+=A,pe+=A;else for(se=0;se<$;++se)r(xe,je,ct,pe,A),Be=xe,Pe=je,je+=A,pe+=A;v.rc=Be,v.Vc=Pe}else{if(e(de.mc!=null),A=L+$,e((se=de.mc)!=null),e(A<=se.i),se.C>=A)A=1;else if(de.ic||Re(),de.ic){de=se.V,Be=se.Ba,Pe=se.c;var Qe=se.i,Te=(ct=1,pe=se.$/Pe,xe=se.$%Pe,je=se.m,Fe=se.s,se.$),ke=Pe*Qe,st=Pe*A,ft=Fe.wc,it=Te<st?ue(Fe,xe,pe):null;e(Te<=ke),e(A<=Qe),e(sn(Fe));t:for(;;){for(;!je.h&&Te<st;){if(xe&ft||(it=ue(Fe,xe,pe)),e(it!=null),X(je),256>(Qe=Mr(it.G[0],it.H[0],je)))de[Be+Te]=Qe,++Te,++xe>=Pe&&(xe=0,++pe<=A&&!(pe%16)&&Ft(se,pe));else{if(!(280>Qe)){ct=0;break t}Qe=Aa(Qe-256,je);var jt,wt=Mr(it.G[4],it.H[4],je);if(X(je),!(Te>=(wt=Or(Pe,wt=Aa(wt,je)))&&ke-Te>=Qe)){ct=0;break t}for(jt=0;jt<Qe;++jt)de[Be+Te+jt]=de[Be+Te+jt-wt];for(Te+=Qe,xe+=Qe;xe>=Pe;)xe-=Pe,++pe<=A&&!(pe%16)&&Ft(se,pe);Te<st&&xe&ft&&(it=ue(Fe,xe,pe))}e(je.h==Q(je))}Ft(se,pe>A?A:pe);break t}!ct||je.h&&Te<ke?(ct=0,se.a=je.h?5:3):se.$=Te,A=ct}else A=Zt(se,se.V,se.Ba,se.c,se.i,A,Cr);if(!A){$=0;break e}}L+$>=ie&&(v.Cc=1),$=1}if(!$)return null;if(v.Cc&&(($=v.ga)!=null&&($.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+L*ne}function O(v,A,L,$,ne,ie){for(;0<ne--;){var se,de=v,pe=A+(L?1:0),xe=v,je=A+(L?0:3);for(se=0;se<$;++se){var Fe=xe[je+4*se];Fe!=255&&(Fe*=32897,de[pe+4*se+0]=de[pe+4*se+0]*Fe>>23,de[pe+4*se+1]=de[pe+4*se+1]*Fe>>23,de[pe+4*se+2]=de[pe+4*se+2]*Fe>>23)}A+=ie}}function te(v,A,L,$,ne){for(;0<$--;){var ie;for(ie=0;ie<L;++ie){var se=v[A+2*ie+0],de=15&(xe=v[A+2*ie+1]),pe=4369*de,xe=(240&xe|xe>>4)*pe>>16;v[A+2*ie+0]=(240&se|se>>4)*pe>>16&240|(15&se|se<<4)*pe>>16>>4&15,v[A+2*ie+1]=240&xe|de}A+=ne}}function we(v,A,L,$,ne,ie,se,de){var pe,xe,je=255;for(xe=0;xe<ne;++xe){for(pe=0;pe<$;++pe){var Fe=v[A+pe];ie[se+4*pe]=Fe,je&=Fe}A+=L,se+=de}return je!=255}function Ee(v,A,L,$,ne){var ie;for(ie=0;ie<ne;++ie)L[$+ie]=v[A+ie]>>8}function Re(){Mi=O,Nn=te,tr=we,Vn=Ee}function Ze(v,A,L){I[v]=function($,ne,ie,se,de,pe,xe,je,Fe,Be,Pe,ct,Qe,Te,ke,st,ft){var it,jt=ft-1>>1,wt=de[pe+0]|xe[je+0]<<16,qt=Fe[Be+0]|Pe[ct+0]<<16;e($!=null);var Nt=3*wt+qt+131074>>2;for(A($[ne+0],255&Nt,Nt>>16,Qe,Te),ie!=null&&(Nt=3*qt+wt+131074>>2,A(ie[se+0],255&Nt,Nt>>16,ke,st)),it=1;it<=jt;++it){var Un=de[pe+it]|xe[je+it]<<16,En=Fe[Be+it]|Pe[ct+it]<<16,In=wt+Un+qt+En+524296,on=In+2*(Un+qt)>>3;Nt=on+wt>>1,wt=(In=In+2*(wt+En)>>3)+Un>>1,A($[ne+2*it-1],255&Nt,Nt>>16,Qe,Te+(2*it-1)*L),A($[ne+2*it-0],255&wt,wt>>16,Qe,Te+(2*it-0)*L),ie!=null&&(Nt=In+qt>>1,wt=on+En>>1,A(ie[se+2*it-1],255&Nt,Nt>>16,ke,st+(2*it-1)*L),A(ie[se+2*it+0],255&wt,wt>>16,ke,st+(2*it+0)*L)),wt=Un,qt=En}1&ft||(Nt=3*wt+qt+131074>>2,A($[ne+ft-1],255&Nt,Nt>>16,Qe,Te+(ft-1)*L),ie!=null&&(Nt=3*qt+wt+131074>>2,A(ie[se+ft-1],255&Nt,Nt>>16,ke,st+(ft-1)*L)))}}function ht(){$a[ah]=Fc,$a[si]=qu,$a[ih]=um,$a[vs]=uh,$a[af]=Gl,$a[Mu]=bo,$a[Ul]=Wl,$a[sf]=qu,$a[sh]=uh,$a[Bu]=Gl,$a[oh]=bo}function St(v){return v&-16384?0>v?0:255:v>>dh}function b(v,A){return St((19077*v>>8)+(26149*A>>8)-14234)}function z(v,A,L){return St((19077*v>>8)-(6419*A>>8)-(13320*L>>8)+8708)}function W(v,A){return St((19077*v>>8)+(33050*A>>8)-17685)}function fe(v,A,L,$,ne){$[ne+0]=b(v,L),$[ne+1]=z(v,A,L),$[ne+2]=W(v,A)}function Ie(v,A,L,$,ne){$[ne+0]=W(v,A),$[ne+1]=z(v,A,L),$[ne+2]=b(v,L)}function qe(v,A,L,$,ne){var ie=z(v,A,L);A=ie<<3&224|W(v,A)>>3,$[ne+0]=248&b(v,L)|ie>>5,$[ne+1]=A}function pt(v,A,L,$,ne){var ie=240&W(v,A)|15;$[ne+0]=240&b(v,L)|z(v,A,L)>>4,$[ne+1]=ie}function rn(v,A,L,$,ne){$[ne+0]=255,fe(v,A,L,$,ne+1)}function _n(v,A,L,$,ne){Ie(v,A,L,$,ne),$[ne+3]=255}function Kt(v,A,L,$,ne){fe(v,A,L,$,ne),$[ne+3]=255}function Wn(v,A){return 0>v?0:v>A?A:v}function cr(v,A,L){I[v]=function($,ne,ie,se,de,pe,xe,je,Fe){for(var Be=je+(-2&Fe)*L;je!=Be;)A($[ne+0],ie[se+0],de[pe+0],xe,je),A($[ne+1],ie[se+0],de[pe+0],xe,je+L),ne+=2,++se,++pe,je+=2*L;1&Fe&&A($[ne+0],ie[se+0],de[pe+0],xe,je)}}function Hs(v,A,L){return L==0?v==0?A==0?6:5:A==0?4:0:L}function Sa(v,A,L,$,ne){switch(v>>>30){case 3:Ys(A,L,$,ne,0);break;case 2:br(A,L,$,ne);break;case 1:ai(A,L,$,ne)}}function Gs(v,A){var L,$,ne=A.M,ie=A.Nb,se=v.oc,de=v.pc+40,pe=v.oc,xe=v.pc+584,je=v.oc,Fe=v.pc+600;for(L=0;16>L;++L)se[de+32*L-1]=129;for(L=0;8>L;++L)pe[xe+32*L-1]=129,je[Fe+32*L-1]=129;for(0<ne?se[de-1-32]=pe[xe-1-32]=je[Fe-1-32]=129:(a(se,de-32-1,127,21),a(pe,xe-32-1,127,9),a(je,Fe-32-1,127,9)),$=0;$<v.za;++$){var Be=A.ya[A.aa+$];if(0<$){for(L=-1;16>L;++L)r(se,de+32*L-4,se,de+32*L+12,4);for(L=-1;8>L;++L)r(pe,xe+32*L-4,pe,xe+32*L+4,4),r(je,Fe+32*L-4,je,Fe+32*L+4,4)}var Pe=v.Gd,ct=v.Hd+$,Qe=Be.ad,Te=Be.Hc;if(0<ne&&(r(se,de-32,Pe[ct].y,0,16),r(pe,xe-32,Pe[ct].f,0,8),r(je,Fe-32,Pe[ct].ea,0,8)),Be.Za){var ke=se,st=de-32+16;for(0<ne&&($>=v.za-1?a(ke,st,Pe[ct].y[15],4):r(ke,st,Pe[ct+1].y,0,4)),L=0;4>L;L++)ke[st+128+L]=ke[st+256+L]=ke[st+384+L]=ke[st+0+L];for(L=0;16>L;++L,Te<<=2)ke=se,st=de+ea[L],Wr[Be.Ob[L]](ke,st),Sa(Te,Qe,16*+L,ke,st)}else if(ke=Hs($,ne,Be.Ob[0]),bi[ke](se,de),Te!=0)for(L=0;16>L;++L,Te<<=2)Sa(Te,Qe,16*+L,se,de+ea[L]);for(L=Be.Gc,ke=Hs($,ne,Be.Dd),Js[ke](pe,xe),Js[ke](je,Fe),Te=Qe,ke=pe,st=xe,255&(Be=L>>0)&&(170&Be?Lc(Te,256,ke,st):ja(Te,256,ke,st)),Be=je,Te=Fe,255&(L>>=8)&&(170&L?Lc(Qe,320,Be,Te):ja(Qe,320,Be,Te)),ne<v.Ub-1&&(r(Pe[ct].y,0,se,de+480,16),r(Pe[ct].f,0,pe,xe+224,8),r(Pe[ct].ea,0,je,Fe+224,8)),L=8*ie*v.B,Pe=v.sa,ct=v.ta+16*$+16*ie*v.R,Qe=v.qa,Be=v.ra+8*$+L,Te=v.Ha,ke=v.Ia+8*$+L,L=0;16>L;++L)r(Pe,ct+L*v.R,se,de+32*L,16);for(L=0;8>L;++L)r(Qe,Be+L*v.B,pe,xe+32*L,8),r(Te,ke+L*v.B,je,Fe+32*L,8)}}function Li(v,A,L,$,ne,ie,se,de,pe){var xe=[0],je=[0],Fe=0,Be=pe!=null?pe.kd:0,Pe=pe??new Pl;if(v==null||12>L)return 7;Pe.data=v,Pe.w=A,Pe.ha=L,A=[A],L=[L],Pe.gb=[Pe.gb];e:{var ct=A,Qe=L,Te=Pe.gb;if(e(v!=null),e(Qe!=null),e(Te!=null),Te[0]=0,12<=Qe[0]&&!n(v,ct[0],"RIFF")){if(n(v,ct[0]+8,"WEBP")){Te=3;break e}var ke=Je(v,ct[0]+4);if(12>ke||4294967286<ke){Te=3;break e}if(Be&&ke>Qe[0]-8){Te=7;break e}Te[0]=ke,ct[0]+=12,Qe[0]-=12}Te=0}if(Te!=0)return Te;for(ke=0<Pe.gb[0],L=L[0];;){e:{var st=v;Qe=A,Te=L;var ft=xe,it=je,jt=ct=[0];if((Nt=Fe=[Fe])[0]=0,8>Te[0])Te=7;else{if(!n(st,Qe[0],"VP8X")){if(Je(st,Qe[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var wt=Je(st,Qe[0]+8),qt=1+Ae(st,Qe[0]+12);if(2147483648<=qt*(st=1+Ae(st,Qe[0]+15))){Te=3;break e}jt!=null&&(jt[0]=wt),ft!=null&&(ft[0]=qt),it!=null&&(it[0]=st),Qe[0]+=18,Te[0]-=18,Nt[0]=1}Te=0}}if(Fe=Fe[0],ct=ct[0],Te!=0)return Te;if(Qe=!!(2&ct),!ke&&Fe)return 3;if(ie!=null&&(ie[0]=!!(16&ct)),se!=null&&(se[0]=Qe),de!=null&&(de[0]=0),se=xe[0],ct=je[0],Fe&&Qe&&pe==null){Te=0;break}if(4>L){Te=7;break}if(ke&&Fe||!ke&&!Fe&&!n(v,A[0],"ALPH")){L=[L],Pe.na=[Pe.na],Pe.P=[Pe.P],Pe.Sa=[Pe.Sa];e:{wt=v,Te=A,ke=L;var Nt=Pe.gb;ft=Pe.na,it=Pe.P,jt=Pe.Sa,qt=22,e(wt!=null),e(ke!=null),st=Te[0];var Un=ke[0];for(e(ft!=null),e(jt!=null),ft[0]=null,it[0]=null,jt[0]=0;;){if(Te[0]=st,ke[0]=Un,8>Un){Te=7;break e}var En=Je(wt,st+4);if(4294967286<En){Te=3;break e}var In=8+En+1&-2;if(qt+=In,0<Nt&&qt>Nt){Te=3;break e}if(!n(wt,st,"VP8 ")||!n(wt,st,"VP8L")){Te=0;break e}if(Un[0]<In){Te=7;break e}n(wt,st,"ALPH")||(ft[0]=wt,it[0]=st+8,jt[0]=En),st+=In,Un-=In}}if(L=L[0],Pe.na=Pe.na[0],Pe.P=Pe.P[0],Pe.Sa=Pe.Sa[0],Te!=0)break}L=[L],Pe.Ja=[Pe.Ja],Pe.xa=[Pe.xa];e:if(Nt=v,Te=A,ke=L,ft=Pe.gb[0],it=Pe.Ja,jt=Pe.xa,wt=Te[0],st=!n(Nt,wt,"VP8 "),qt=!n(Nt,wt,"VP8L"),e(Nt!=null),e(ke!=null),e(it!=null),e(jt!=null),8>ke[0])Te=7;else{if(st||qt){if(Nt=Je(Nt,wt+4),12<=ft&&Nt>ft-12){Te=3;break e}if(Be&&Nt>ke[0]-8){Te=7;break e}it[0]=Nt,Te[0]+=8,ke[0]-=8,jt[0]=qt}else jt[0]=5<=ke[0]&&Nt[wt+0]==47&&!(Nt[wt+4]>>5),it[0]=ke[0];Te=0}if(L=L[0],Pe.Ja=Pe.Ja[0],Pe.xa=Pe.xa[0],A=A[0],Te!=0)break;if(4294967286<Pe.Ja)return 3;if(de==null||Qe||(de[0]=Pe.xa?2:1),se=[se],ct=[ct],Pe.xa){if(5>L){Te=7;break}de=se,Be=ct,Qe=ie,v==null||5>L?v=0:5<=L&&v[A+0]==47&&!(v[A+4]>>5)?(ke=[0],Nt=[0],ft=[0],oe(it=new P,v,A,L),Ot(it,ke,Nt,ft)?(de!=null&&(de[0]=ke[0]),Be!=null&&(Be[0]=Nt[0]),Qe!=null&&(Qe[0]=ft[0]),v=1):v=0):v=0}else{if(10>L){Te=7;break}de=ct,v==null||10>L||!hi(v,A+3,L-3)?v=0:(Be=v[A+0]|v[A+1]<<8|v[A+2]<<16,Qe=16383&(v[A+7]<<8|v[A+6]),v=16383&(v[A+9]<<8|v[A+8]),1&Be||3<(Be>>1&7)||!(Be>>4&1)||Be>>5>=Pe.Ja||!Qe||!v?v=0:(se&&(se[0]=Qe),de&&(de[0]=v),v=1))}if(!v||(se=se[0],ct=ct[0],Fe&&(xe[0]!=se||je[0]!=ct)))return 3;pe!=null&&(pe[0]=Pe,pe.offset=A-pe.w,e(4294967286>A-pe.w),e(pe.offset==pe.ha-L));break}return Te==0||Te==7&&Fe&&pe==null?(ie!=null&&(ie[0]|=Pe.na!=null&&0<Pe.na.length),$!=null&&($[0]=se),ne!=null&&(ne[0]=ct),0):Te}function Yo(v,A,L){var $=A.width,ne=A.height,ie=0,se=0,de=$,pe=ne;if(A.Da=v!=null&&0<v.Da,A.Da&&(de=v.cd,pe=v.bd,ie=v.v,se=v.j,11>L||(ie&=-2,se&=-2),0>ie||0>se||0>=de||0>=pe||ie+de>$||se+pe>ne))return 0;if(A.v=ie,A.j=se,A.va=ie+de,A.o=se+pe,A.U=de,A.T=pe,A.da=v!=null&&0<v.da,A.da){if(!Ye(de,pe,L=[v.ib],ie=[v.hb]))return 0;A.ib=L[0],A.hb=ie[0]}return A.ob=v!=null&&v.ob,A.Kb=v==null||!v.Sd,A.da&&(A.ob=A.ib<3*$/4&&A.hb<3*ne/4,A.Kb=0),1}function tf(v){if(v==null)return 2;if(11>v.S){var A=v.f.RGBA;A.fb+=(v.height-1)*A.A,A.A=-A.A}else A=v.f.kb,v=v.height,A.O+=(v-1)*A.fa,A.fa=-A.fa,A.N+=(v-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(v-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(v-1)*A.lb,A.lb=-A.lb);return 0}function Xo(v,A,L,$){if($==null||0>=v||0>=A)return 2;if(L!=null){if(L.Da){var ne=L.cd,ie=L.bd,se=-2&L.v,de=-2&L.j;if(0>se||0>de||0>=ne||0>=ie||se+ne>v||de+ie>A)return 2;v=ne,A=ie}if(L.da){if(!Ye(v,A,ne=[L.ib],ie=[L.hb]))return 2;v=ne[0],A=ie[0]}}$.width=v,$.height=A;e:{var pe=$.width,xe=$.height;if(v=$.S,0>=pe||0>=xe||!(v>=ah&&13>v))v=2;else{if(0>=$.Rd&&$.sd==null){se=ie=ne=A=0;var je=(de=pe*hh[v])*xe;if(11>v||(ie=(xe+1)/2*(A=(pe+1)/2),v==12&&(se=(ne=pe)*xe)),(xe=i(je+2*ie+se))==null){v=1;break e}$.sd=xe,11>v?((pe=$.f.RGBA).eb=xe,pe.fb=0,pe.A=de,pe.size=je):((pe=$.f.kb).y=xe,pe.O=0,pe.fa=de,pe.Fd=je,pe.f=xe,pe.N=0+je,pe.Ab=A,pe.Cd=ie,pe.ea=xe,pe.W=0+je+ie,pe.Db=A,pe.Ed=ie,v==12&&(pe.F=xe,pe.J=0+je+2*ie),pe.Tc=se,pe.lb=ne)}if(A=1,ne=$.S,ie=$.width,se=$.height,ne>=ah&&13>ne)if(11>ne)v=$.f.RGBA,A&=(de=Math.abs(v.A))*(se-1)+ie<=v.size,A&=de>=ie*hh[ne],A&=v.eb!=null;else{v=$.f.kb,de=(ie+1)/2,je=(se+1)/2,pe=Math.abs(v.fa),xe=Math.abs(v.Ab);var Fe=Math.abs(v.Db),Be=Math.abs(v.lb),Pe=Be*(se-1)+ie;A&=pe*(se-1)+ie<=v.Fd,A&=xe*(je-1)+de<=v.Cd,A=(A&=Fe*(je-1)+de<=v.Ed)&pe>=ie&xe>=de&Fe>=de,A&=v.y!=null,A&=v.f!=null,A&=v.ea!=null,ne==12&&(A&=Be>=ie,A&=Pe<=v.Tc,A&=v.F!=null)}else A=0;v=A?0:2}}return v!=0||L!=null&&L.fd&&(v=tf($)),v}var Ea=64,Dc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ll=24,Ml=32,ku=8,yi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(v){return v},I.Predictor2=function(v,A,L){return A[L+0]},I.Predictor3=function(v,A,L){return A[L+1]},I.Predictor4=function(v,A,L){return A[L-1]},I.Predictor5=function(v,A,L){return et(et(v,A[L+1]),A[L+0])},I.Predictor6=function(v,A,L){return et(v,A[L-1])},I.Predictor7=function(v,A,L){return et(v,A[L+0])},I.Predictor8=function(v,A,L){return et(A[L-1],A[L+0])},I.Predictor9=function(v,A,L){return et(A[L+0],A[L+1])},I.Predictor10=function(v,A,L){return et(et(v,A[L-1]),et(A[L+0],A[L+1]))},I.Predictor11=function(v,A,L){var $=A[L+0];return 0>=yt($>>24&255,v>>24&255,(A=A[L-1])>>24&255)+yt($>>16&255,v>>16&255,A>>16&255)+yt($>>8&255,v>>8&255,A>>8&255)+yt(255&$,255&v,255&A)?$:v},I.Predictor12=function(v,A,L){var $=A[L+0];return(tt((v>>24&255)+($>>24&255)-((A=A[L-1])>>24&255))<<24|tt((v>>16&255)+($>>16&255)-(A>>16&255))<<16|tt((v>>8&255)+($>>8&255)-(A>>8&255))<<8|tt((255&v)+(255&$)-(255&A)))>>>0},I.Predictor13=function(v,A,L){var $=A[L-1];return(Ge((v=et(v,A[L+0]))>>24&255,$>>24&255)<<24|Ge(v>>16&255,$>>16&255)<<16|Ge(v>>8&255,$>>8&255)<<8|Ge(v>>0&255,$>>0&255))>>>0};var th=I.PredictorAdd0;I.PredictorAdd1=vt,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var nf=I.PredictorAdd2;Vt("ColorIndexInverseTransform","MapARGB","32b",(function(v){return v>>8&255}),(function(v){return v})),Vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(v){return v}),(function(v){return v>>8&255}));var nh,ms=I.ColorIndexInverseTransform,Cu=I.MapARGB,rh=I.VP8LColorIndexInverseTransformAlpha,ni=I.MapAlpha,gs=I.VP8LPredictorsAdd=[];gs.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Bl,xi,ri,Qo,Ws,Jo,Ks,Ys,br,Lc,ai,ja,Xs,Iu,Pu,as,Fl,Zo,ql,Ru,Mc,zl,Du,is,Mi,Nn,tr,Vn,Pr=i(511),Qs=i(2041),Vl=i(225),el=i(767),Lu=0,tl=Qs,rf=Vl,ii=el,Va=Pr,ah=0,si=1,ih=2,vs=3,af=4,Mu=5,Ul=6,sf=7,sh=8,Bu=9,oh=10,ys=[2,3,7],Fu=[3,3,11],Bc=[280,256,256,256,40],lh=[0,1,1,1,0],of=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],xs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$l=8,_s=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ws=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ss=null,Gg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],lm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ch=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Wg=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ua=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_r=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Sn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],bi=[],Wr=[],Js=[],Hl=1,cm=2,nl=[],$a=[];Ze("UpsampleRgbLinePair",fe,3),Ze("UpsampleBgrLinePair",Ie,3),Ze("UpsampleRgbaLinePair",Kt,4),Ze("UpsampleBgraLinePair",_n,4),Ze("UpsampleArgbLinePair",rn,4),Ze("UpsampleRgba4444LinePair",pt,2),Ze("UpsampleRgb565LinePair",qe,2);var Fc=I.UpsampleRgbLinePair,um=I.UpsampleBgrLinePair,qu=I.UpsampleRgbaLinePair,uh=I.UpsampleBgraLinePair,Gl=I.UpsampleArgbLinePair,bo=I.UpsampleRgba4444LinePair,Wl=I.UpsampleRgb565LinePair,As=16,zu=1<<As-1,qc=-227,Kl=482,dh=6,Yl=0,Ha=i(256),fh=i(256),Kg=i(256),nb=i(256),rb=i(Kl-qc),ab=i(Kl-qc);cr("YuvToRgbRow",fe,3),cr("YuvToBgrRow",Ie,3),cr("YuvToRgbaRow",Kt,4),cr("YuvToBgraRow",_n,4),cr("YuvToArgbRow",rn,4),cr("YuvToRgba4444Row",pt,2),cr("YuvToRgb565Row",qe,2);var ea=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vu=[0,2,8],lf=[8,7,6,4,4,2,2,2,1,1,1,1],cf=1;this.WebPDecodeRGBA=function(v,A,L,$,ne){var ie=si,se=new yo,de=new jr;se.ba=de,de.S=ie,de.width=[de.width],de.height=[de.height];var pe=de.width,xe=de.height,je=new Lr;if(je==null||v==null)var Fe=2;else e(je!=null),Fe=Li(v,A,L,je.width,je.height,je.Pd,je.Qd,je.format,null);if(Fe!=0?pe=0:(pe!=null&&(pe[0]=je.width[0]),xe!=null&&(xe[0]=je.height[0]),pe=1),pe){de.width=de.width[0],de.height=de.height[0],$!=null&&($[0]=de.width),ne!=null&&(ne[0]=de.height);e:{if($=new qo,(ne=new Pl).data=v,ne.w=A,ne.ha=L,ne.kd=1,A=[0],e(ne!=null),((v=Li(ne.data,ne.w,ne.ha,null,null,null,A,null,ne))==0||v==7)&&A[0]&&(v=4),(A=v)==0){if(e(se!=null),$.data=ne.data,$.w=ne.w+ne.offset,$.ha=ne.ha-ne.offset,$.put=ia,$.ac=Tr,$.bc=ma,$.ma=se,ne.xa){if((v=Et())==null){se=1;break e}if((function(Be,Pe){var ct=[0],Qe=[0],Te=[0];t:for(;;){if(Be==null)return 0;if(Pe==null)return Be.a=2,0;if(Be.l=Pe,Be.a=0,oe(Be.m,Pe.data,Pe.w,Pe.ha),!Ot(Be.m,ct,Qe,Te)){Be.a=3;break t}if(Be.xb=cm,Pe.width=ct[0],Pe.height=Qe[0],!Mt(ct[0],Qe[0],1,Be,null))break t;return 1}return e(Be.a!=0),0})(v,$)){if($=(A=Xo($.width,$.height,se.Oa,se.ba))==0){t:{$=v;n:for(;;){if($==null){$=0;break t}if(e($.s.yc!=null),e($.s.Ya!=null),e(0<$.s.Wb),e((L=$.l)!=null),e((ne=L.ma)!=null),$.xb!=0){if($.ca=ne.ba,$.tb=ne.tb,e($.ca!=null),!Yo(ne.Oa,L,vs)){$.a=2;break n}if(!kr($,L.width)||L.da)break n;if((L.da||fn($.ca.S))&&Re(),11>$.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$.ca.f.kb.F!=null&&Re()),$.Pb&&0<$.s.ua&&$.s.vb.X==null&&!Le($.s.vb,$.s.Wa.Xa)){$.a=1;break n}$.xb=0}if(!Zt($,$.V,$.Ba,$.c,$.i,L.o,Gt))break n;ne.Dc=$.Ma,$=1;break t}e($.a!=0),$=0}$=!$}$&&(A=v.a)}else A=v.a}else{if((v=new uo)==null){se=1;break e}if(v.Fa=ne.na,v.P=ne.P,v.qc=ne.Sa,Na(v,$)){if((A=Xo($.width,$.height,se.Oa,se.ba))==0){if(v.Aa=0,L=se.Oa,e((ne=v)!=null),L!=null){if(0<(pe=0>(pe=L.Md)?0:100<pe?255:255*pe/100)){for(xe=je=0;4>xe;++xe)12>(Fe=ne.pb[xe]).lc&&(Fe.ia=pe*lf[0>Fe.lc?0:Fe.lc]>>3),je|=Fe.ia;je&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=L.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}Sl(v,$)||(A=v.a)}}else A=v.a}A==0&&se.Oa!=null&&se.Oa.fd&&(A=tf(se.ba))}se=A}ie=se!=0?null:11>ie?de.f.RGBA.eb:de.f.kb.y}else ie=null;return ie};var hh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(I,V){for(var U="",M=0;M<4;M++)U+=String.fromCharCode(I[V++]);return U}function p(I,V){return(I[V+0]<<0|I[V+1]<<8|I[V+2]<<16)>>>0}function g(I,V){return(I[V+0]<<0|I[V+1]<<8|I[V+2]<<16|I[V+3]<<24)>>>0}new d;var y=[0],x=[0],E=[],w=new d,N=t,T=(function(I,V){var U={},M=0,R=!1,j=0,G=0;if(U.frames=[],!(function(H,Q,K,X){for(var me=0;me<X;me++)if(H[Q+me]!=K.charCodeAt(me))return!0;return!1})(I,V,"RIFF",4)){var re,J;for(g(I,V+=4),V+=8;V<I.length;){var Z=f(I,V),oe=g(I,V+=4);V+=4;var ye=oe+(1&oe);switch(Z){case"VP8 ":case"VP8L":U.frames[M]===void 0&&(U.frames[M]={}),(P=U.frames[M]).src_off=R?G:V-8,P.src_size=j+oe+8,M++,R&&(R=!1,j=0,G=0);break;case"VP8X":(P=U.header={}).feature_flags=I[V];var ge=V+4;P.canvas_width=1+p(I,ge),ge+=3,P.canvas_height=1+p(I,ge),ge+=3;break;case"ALPH":R=!0,j=ye+8,G=V-8;break;case"ANIM":(P=U.header).bgcolor=g(I,V),ge=V+4,P.loop_count=(re=I)[(J=ge)+0]<<0|re[J+1]<<8,ge+=2;break;case"ANMF":var le,P;(P=U.frames[M]={}).offset_x=2*p(I,V),V+=3,P.offset_y=2*p(I,V),V+=3,P.width=1+p(I,V),V+=3,P.height=1+p(I,V),V+=3,P.duration=p(I,V),V+=3,le=I[V++],P.dispose=1&le,P.blend=le>>1&1}Z!="ANMF"&&(V+=ye)}return U}})(N,0);T.response=N,T.rgbaoutput=!0,T.dataurl=!1;var C=T.header?T.header:null,B=T.frames?T.frames:null;if(C){C.loop_counter=C.loop_count,y=[C.canvas_height],x=[C.canvas_width];for(var q=0;q<B.length&&B[q].blend!=0;q++);}var D=B[0],F=w.WebPDecodeRGBA(N,D.src_off,D.src_size,x,y);D.rgba=F,D.imgwidth=x[0],D.imgheight=y[0];for(var k=0;k<x[0]*y[0]*4;k++)E[k]=F[k];return this.width=x,this.height=y,this.data=E,this}(function(t){var e=function(){return typeof hS=="function"},n=function(y,x,E,w){var N=4,T=o;switch(w){case t.image_compression.FAST:N=1,T=i;break;case t.image_compression.MEDIUM:N=6,T=u;break;case t.image_compression.SLOW:N=9,T=d}y=r(y,x,E,T);var C=hS(y,{level:N});return t.__addimage__.arrayBufferToBinaryString(C)},r=function(y,x,E,w){for(var N,T,C,B=y.length/x,q=new Uint8Array(y.length+B),D=p(),F=0;F<B;F+=1){if(C=F*x,N=y.subarray(C,C+x),w)q.set(w(N,E,T),C+F);else{for(var k,I=D.length,V=[];k<I;k+=1)V[k]=D[k](N,E,T);var U=g(V.concat());q.set(V[U],C+F)}T=N}return q},a=function(y){var x=Array.apply([],y);return x.unshift(0),x},i=function(y,x){var E,w=[],N=y.length;w[0]=1;for(var T=0;T<N;T+=1)E=y[T-x]||0,w[T+1]=y[T]-E+256&255;return w},o=function(y,x,E){var w,N=[],T=y.length;N[0]=2;for(var C=0;C<T;C+=1)w=E&&E[C]||0,N[C+1]=y[C]-w+256&255;return N},u=function(y,x,E){var w,N,T=[],C=y.length;T[0]=3;for(var B=0;B<C;B+=1)w=y[B-x]||0,N=E&&E[B]||0,T[B+1]=y[B]+256-(w+N>>>1)&255;return T},d=function(y,x,E){var w,N,T,C,B=[],q=y.length;B[0]=4;for(var D=0;D<q;D+=1)w=y[D-x]||0,N=E&&E[D]||0,T=E&&E[D-x]||0,C=f(w,N,T),B[D+1]=y[D]-C+256&255;return B},f=function(y,x,E){if(y===x&&x===E)return y;var w=Math.abs(x-E),N=Math.abs(y-E),T=Math.abs(y+x-E-E);return w<=N&&w<=T?y:N<=T?x:E},p=function(){return[a,i,o,u,d]},g=function(y){var x=y.map((function(E){return E.reduce((function(w,N){return w+Math.abs(N)}),0)}));return x.indexOf(Math.min.apply(null,x))};t.processPNG=function(y,x,E,w){var N,T,C,B,q,D,F,k,I,V,U,M,R,j,G,re=this.decode.FLATE_DECODE,J="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(C=new hle(y)).imgData,T=C.bits,N=C.colorSpace,q=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){I=(k=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,U=new Uint8Array(I*C.colors),V=new Uint8Array(I);var Z,oe=C.pixelBitlength-C.bits;for(j=0,G=0;j<I;j++){for(R=k[j],Z=0;Z<oe;)U[G++]=R>>>Z&255,Z+=C.bits;V[j]=R>>>Z&255}}if(C.bits===16){I=(k=new Uint32Array(C.decodePixels().buffer)).length,U=new Uint8Array(I*(32/C.pixelBitlength)*C.colors),V=new Uint8Array(I*(32/C.pixelBitlength)),M=C.colors>1,j=0,G=0;for(var ye=0;j<I;)R=k[j++],U[G++]=R>>>0&255,M&&(U[G++]=R>>>16&255,R=k[j++],U[G++]=R>>>0&255),V[ye++]=R>>>16&255;T=8}w!==t.image_compression.NONE&&e()?(y=n(U,C.width*C.colors,C.colors,w),F=n(V,C.width,1,w)):(y=U,F=V,re=void 0)}if(C.colorType===3&&(N=this.color_spaces.INDEXED,D=C.palette,C.transparency.indexed)){var ge=C.transparency.indexed,le=0;for(j=0,I=ge.length;j<I;++j)le+=ge[j];if((le/=255)===I-1&&ge.indexOf(0)!==-1)B=[ge.indexOf(0)];else if(le!==I){for(k=C.decodePixels(),V=new Uint8Array(k.length),j=0,I=k.length;j<I;j++)V[j]=ge[k[j]];F=n(V,C.width,1)}}var P=(function(H){var Q;switch(H){case t.image_compression.FAST:Q=11;break;case t.image_compression.MEDIUM:Q=13;break;case t.image_compression.SLOW:Q=14;break;default:Q=12}return Q})(w);return re===this.decode.FLATE_DECODE&&(J="/Predictor "+P+" "),J+="/Colors "+q+" /BitsPerComponent "+T+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(F&&this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),{alias:E,data:y,index:x,filter:re,decodeParameters:J,transparency:B,palette:D,sMask:F,predictor:P,width:C.width,height:C.height,bitsPerComponent:T,colorSpace:N}}}})(Wt.API),(function(t){t.processGIF89A=function(e,n,r,a){var i=new ple(e),o=i.width,u=i.height,d=[];i.decodeAndBlitFrameRGBA(0,d);var f={data:d,width:o,height:u},p=new TA(100).encode(f,100);return t.processJPEG.call(this,p,n,r,a)},t.processGIF87A=t.processGIF89A})(Wt.API),fl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Nr.log("bit decode error:"+n)}},fl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var d=this.palette[i>>7-u&1];this.data[o+4*u]=d.blue,this.data[o+4*u+1]=d.green,this.data[o+4*u+2]=d.red,this.data[o+4*u+3]=255}n!==0&&(this.pos+=4-n)}},fl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*a*4,u=i>>4,d=15&i,f=this.palette[u];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*a+1>=this.width)break;f=this.palette[d],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},fl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},fl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,u=(i>>5&e)/e*255|0,d=(i>>10&e)/e*255|0,f=i>>15?255:0,p=r*this.width*4+4*a;this.data[p]=d,this.data[p+1]=u,this.data[p+2]=o,this.data[p+3]=f}this.pos+=t}},fl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,d=(o>>5&n)/n*255|0,f=(o>>11)/e*255|0,p=a*this.width*4+4*i;this.data[p]=f,this.data[p+1]=d,this.data[p+2]=u,this.data[p+3]=255}this.pos+=t}},fl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},fl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*n;this.data[u]=i,this.data[u+1]=a,this.data[u+2]=r,this.data[u+3]=o}},fl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,a){var i=new fl(e,!1),o=i.width,u=i.height,d={data:i.getData(),width:o,height:u},f=new TA(100).encode(d,100);return t.processJPEG.call(this,f,n,r,a)}})(Wt.API),QR.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,a){var i=new QR(e),o=i.width,u=i.height,d={data:i.getData(),width:o,height:u},f=new TA(100).encode(d,100);return t.processJPEG.call(this,f,n,r,a)}})(Wt.API),Wt.API.processRGBA=function(t,e,n){for(var r=t.data,a=r.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),u=0,d=0,f=0;f<a;f+=4){var p=r[f],g=r[f+1],y=r[f+2],x=r[f+3];i[u++]=p,i[u++]=g,i[u++]=y,o[d++]=x}var E=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:E,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Wt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Fh=Wt.API,Jv=Fh.getCharWidthsArray=function(t,e){var n,r,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:a.metadata.Unicode.widths,d=u.fof?u.fof:1,f=e.kerning?e.kerning:a.metadata.Unicode.kerning,p=f.fof?f.fof:1,g=e.doKerning!==!1,y=0,x=t.length,E=0,w=u[0]||d,N=[];for(n=0;n<x;n++)r=t.charCodeAt(n),typeof a.metadata.widthOfString=="function"?N.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+o*(1e3/i)||0)/1e3):(y=g&&hr(f[r])==="object"&&!isNaN(parseInt(f[r][E],10))?f[r][E]/p:0,N.push((u[r]||w)/d+y)),E=r;return N},WR=Fh.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Fh.processArabic&&(t=Fh.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,a)/n:Jv.apply(this,arguments).reduce((function(i,o){return i+o}),0)},KR=function(t,e,n,r){for(var a=[],i=0,o=t.length,u=0;i!==o&&u+e[i]<n;)u+=e[i],i++;a.push(t.slice(0,i));var d=i;for(u=0;i!==o;)u+e[i]>r&&(a.push(t.slice(d,i)),u=0,d=i),u+=e[i],i++;return d!==i&&a.push(t.slice(d,i)),a},YR=function(t,e,n){n||(n={});var r,a,i,o,u,d,f,p=[],g=[p],y=n.textIndent||0,x=0,E=0,w=t.split(" "),N=Jv.apply(this,[" ",n])[0];if(d=n.lineIndent===-1?w[0].length+2:n.lineIndent||0){var T=Array(d).join(" "),C=[];w.map((function(q){(q=q.split(/\s*\n/)).length>1?C=C.concat(q.map((function(D,F){return(F&&D.length?`
`:"")+D}))):C.push(q[0])})),w=C,d=WR.apply(this,[T,n])}for(i=0,o=w.length;i<o;i++){var B=0;if(r=w[i],d&&r[0]==`
`&&(r=r.substr(1),B=1),y+x+(E=(a=Jv.apply(this,[r,n])).reduce((function(q,D){return q+D}),0))>e||B){if(E>e){for(u=KR.apply(this,[r,a,e-(y+x),e]),p.push(u.shift()),p=[u.pop()];u.length;)g.push([u.shift()]);E=a.slice(r.length-(p[0]?p[0].length:0)).reduce((function(q,D){return q+D}),0)}else p=[r];g.push(p),y=E+d,x=N}else p.push(r),y+=x+E,x=N}return f=d?function(q,D){return(D?T:"")+q.join(" ")}:function(q){return q.join(" ")},g.map(f)},Fh.splitTextToSize=function(t,e,n){var r,a=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var g=this.internal.getFont(p.fontName,p.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=n.lineIndent;var u,d,f=[];for(u=0,d=r.length;u<d;u++)f=f.concat(YR.apply(this,[r[u],o,i]));return f},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},a=0;a<e.length;a++)n[e[a]]="0123456789abcdef"[a],r["0123456789abcdef"[a]]=e[a];var i=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var y,x,E,w,N=["{"];for(var T in g){if(y=g[T],isNaN(parseInt(T,10))?x="'"+T+"'":(T=parseInt(T,10),x=(x=i(T).slice(2)).slice(0,-1)+r[x.slice(-1)]),typeof y=="number")y<0?(E=i(y).slice(3),w="-"):(E=i(y).slice(2),w=""),E=w+E.slice(0,-1)+r[E.slice(-1)];else{if(hr(y)!=="object")throw new Error("Don't know what to do with value type "+hr(y)+".");E=o(y)}N.push(x+E)}return N.push("}"),N.join("")},u=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,x,E,w,N={},T=1,C=N,B=[],q="",D="",F=g.length-1,k=1;k<F;k+=1)(w=g[k])=="'"?y?(E=y.join(""),y=void 0):y=[]:y?y.push(w):w=="{"?(B.push([C,E]),C={},E=void 0):w=="}"?((x=B.pop())[0][x[1]]=C,E=void 0,C=x[0]):w=="-"?T=-1:E===void 0?n.hasOwnProperty(w)?(q+=n[w],E=parseInt(q,16)*T,T=1,q=""):q+=w:n.hasOwnProperty(w)?(D+=n[w],C[E]=parseInt(D,16)*T,T=1,E=void 0,D=""):D+=w;return N},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},p={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var y=g.font,x=p.Unicode[y.postScriptName];x&&(y.metadata.Unicode={},y.metadata.Unicode.widths=x.widths,y.metadata.Unicode.kerning=x.kerning);var E=f.Unicode[y.postScriptName];E&&(y.metadata.Unicode.encoding=E,y.encoding=E.codePages[0])}])})(Wt.API),(function(t){var e=function(n){for(var r=n.length,a=new Uint8Array(r),i=0;i<r;i++)a[i]=n.charCodeAt(i);return a};t.API.events.push(["addFont",function(n){var r=void 0,a=n.font,i=n.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(v0(u)),o.metadata=t.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,r)}}])})(Wt),(function(t){function e(){return(en.canvg?Promise.resolve(en.canvg):lS(()=>import("./index.es-lw1GvtMB.js"),[])).catch((function(n){return Promise.reject(new Error("Could not load canvg: "+n))})).then((function(n){return n.default?n.default:n}))}Wt.API.addSvgAsImage=function(n,r,a,i,o,u,d,f){if(isNaN(r)||isNaN(a))throw Nr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Nr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=i,p.height=o;var g=p.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,p.width,p.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return e().then((function(E){return E.fromString(g,n,y)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(E){return E.render(y)})).then((function(){x.addImage(p.toDataURL("image/jpeg",1),r,a,i,o,d,f)}))}})(),Wt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,n);return this},Wt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),d=[],f=0,p=0,g=0;function y(E,w){var N,T=!1;for(N=0;N<E.length;N+=1)E[N]===w&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var x=u.length;for(g=0;g<x;g+=1)n[u[g]].value=n[u[g]].defaultValue,n[u[g]].explicitSet=!1}if(hr(t)==="object"){for(a in t)if(i=t[a],y(u,a)&&i!==void 0){if(n[a].type==="boolean"&&typeof i=="boolean")n[a].value=i;else if(n[a].type==="name"&&y(n[a].valueSet,i))n[a].value=i;else if(n[a].type==="integer"&&Number.isInteger(i))n[a].value=i;else if(n[a].type==="array"){for(f=0;f<i.length;f+=1)if(r=!0,i[f].length===1&&typeof i[f][0]=="number")d.push(String(i[f]-1));else if(i[f].length>1){for(p=0;p<i[f].length;p+=1)typeof i[f][p]!="number"&&(r=!1);r===!0&&d.push([i[f][0]-1,i[f][1]-1].join(" "))}n[a].value="["+d.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var E,w=[];for(E in n)n[E].explicitSet===!0&&(n[E].type==="name"?w.push("/"+E+" /"+n[E].value):w.push("/"+E+" "+n[E].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),f=i.length+o.length+u.length+a.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+u+d),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(Wt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(i,o){for(var u,d=o.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],g=0,y=i.length;g<y;++g){if(u=o.metadata.characterToGlyph(i.charCodeAt(g)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=i.charCodeAt(g),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(f[4-u.length],u)}return p.join("")},r=function(i){var o,u,d,f,p,g,y;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],g=0,y=(u=Object.keys(i).sort((function(x,E){return x-E}))).length;g<y;g++)o=u[g],d.length>=100&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(f=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),d.push("<"+o+"><"+f+">"));return d.length&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var u=o.font,d=o.out,f=o.newObject,p=o.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="Identity-H"){for(var g=u.metadata.Unicode.widths,y=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),x="",E=0;E<y.length;E++)x+=String.fromCharCode(y[E]);var w=f();p({data:x,addLength1:!0,objectId:w}),d("endobj");var N=f();p({data:r(u.metadata.toUnicode),addLength1:!0,objectId:N}),d("endobj");var T=f();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Vh(u.fontName)),d("/FontFile2 "+w+" 0 R"),d("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var C=f();d("<<"),d("/Type /Font"),d("/BaseFont /"+Vh(u.fontName)),d("/FontDescriptor "+T+" 0 R"),d("/W "+t.API.PDFObject.convert(g)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=f(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+N+" 0 R"),d("/BaseFont /"+Vh(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+C+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var u=o.font,d=o.out,f=o.newObject,p=o.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var g=u.metadata.rawData,y="",x=0;x<g.length;x++)y+=String.fromCharCode(g[x]);var E=f();p({data:y,addLength1:!0,objectId:E}),d("endobj");var w=f();p({data:r(u.metadata.toUnicode),addLength1:!0,objectId:w}),d("endobj");var N=f();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+E+" 0 R"),d("/Flags 96"),d("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+Vh(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=f();for(var T=0;T<u.metadata.hmtx.widths.length;T++)u.metadata.hmtx.widths[T]=parseInt(u.metadata.hmtx.widths[T]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Vh(u.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,u=i.text||"",d=i.x,f=i.y,p=i.options||{},g=i.mutex||{},y=g.pdfEscape,x=g.activeFontKey,E=g.fonts,w=x,N="",T=0,C="",B=E[w].encoding;if(E[w].encoding!=="Identity-H")return{text:u,x:d,y:f,options:p,mutex:g};for(C=u,w=x,Array.isArray(u)&&(C=u[0]),T=0;T<C.length;T+=1)E[w].metadata.hasOwnProperty("cmap")&&(o=E[w].metadata.cmap.unicode.codeMap[C[T].charCodeAt(0)]),o||C[T].charCodeAt(0)<256&&E[w].metadata.hasOwnProperty("Unicode")?N+=C[T]:N+="";var q="";return parseInt(w.slice(1))<14||B==="WinAnsiEncoding"?q=y(N,w).split("").map((function(D){return D.charCodeAt(0).toString(16)})).join(""):B==="Identity-H"&&(q=n(N,E[w])),g.isHex=!0,{text:q,x:d,y:f,options:p,mutex:g}};e.events.push(["postProcessText",function(i){var o=i.text||"",u=[],d={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?u.push([a(Object.assign({},d,{text:o[f][0]})).text,o[f][1],o[f][2]]):u.push(a(Object.assign({},d,{text:o[f]})).text);i.text=u}else i.text=a(Object.assign({},d,{text:o})).text}])})(Wt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Wt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var a,i,o,u,d,f,p,g=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,B=0;this.__bidiEngine__={};var q=function(M){var R=M.charCodeAt(),j=R>>8,G=w[j];return G!==void 0?g[256*G+(255&R)]:j===252||j===253?"AL":T.test(j)?"L":j===8?"R":"N"},D=function(M){for(var R,j=0;j<M.length;j++){if((R=q(M.charAt(j)))==="L")return!1;if(R==="R")return!0}return!1},F=function(M,R,j,G){var re,J,Z,oe,ye=R[G];switch(ye){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(ye="AN");break;case"AL":C=!0,ye="R";break;case"WS":ye="N";break;case"CS":G<1||G+1>=R.length||(re=j[G-1])!=="EN"&&re!=="AN"||(J=R[G+1])!=="EN"&&J!=="AN"?ye="N":C&&(J="AN"),ye=J===re?J:"N";break;case"ES":ye=(re=G>0?j[G-1]:"B")==="EN"&&G+1<R.length&&R[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&j[G-1]==="EN"){ye="EN";break}if(C){ye="N";break}for(Z=G+1,oe=R.length;Z<oe&&R[Z]==="ET";)Z++;ye=Z<oe&&R[Z]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(oe=R.length,Z=G+1;Z<oe&&R[Z]==="NSM";)Z++;if(Z<oe){var ge=M[G],le=ge>=1425&&ge<=2303||ge===64286;if(re=R[Z],le&&(re==="R"||re==="AL")){ye="R";break}}}ye=G<1||(re=R[G-1])==="B"?"N":j[G-1];break;case"B":C=!1,a=!0,ye=B;break;case"S":i=!0,ye="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":ye="N"}return ye},k=function(M,R,j){var G=M.split("");return j&&I(G,j,{hiLevel:B}),G.reverse(),R&&R.reverse(),G.join("")},I=function(M,R,j){var G,re,J,Z,oe,ye=-1,ge=M.length,le=0,P=[],H=B?x:y,Q=[];for(C=!1,a=!1,i=!1,re=0;re<ge;re++)Q[re]=q(M[re]);for(J=0;J<ge;J++){if(oe=le,P[J]=F(M,Q,P,J),G=240&(le=H[oe][E[P[J]]]),le&=15,R[J]=Z=H[le][5],G>0)if(G===16){for(re=ye;re<J;re++)R[re]=1;ye=-1}else ye=-1;if(H[le][6])ye===-1&&(ye=J);else if(ye>-1){for(re=ye;re<J;re++)R[re]=Z;ye=-1}Q[J]==="B"&&(R[J]=0),j.hiLevel|=Z}i&&(function(K,X,me){for(var be=0;be<me;be++)if(K[be]==="S"){X[be]=B;for(var ee=be-1;ee>=0&&K[ee]==="WS";ee--)X[ee]=B}})(Q,R,ge)},V=function(M,R,j,G,re){if(!(re.hiLevel<M)){if(M===1&&B===1&&!a)return R.reverse(),void(j&&j.reverse());for(var J,Z,oe,ye,ge=R.length,le=0;le<ge;){if(G[le]>=M){for(oe=le+1;oe<ge&&G[oe]>=M;)oe++;for(ye=le,Z=oe-1;ye<Z;ye++,Z--)J=R[ye],R[ye]=R[Z],R[Z]=J,j&&(J=j[ye],j[ye]=j[Z],j[Z]=J);le=oe}le++}}},U=function(M,R,j){var G=M.split(""),re={hiLevel:B};return j||(j=[]),I(G,j,re),(function(J,Z,oe){if(oe.hiLevel!==0&&p)for(var ye,ge=0;ge<J.length;ge++)Z[ge]===1&&(ye=N.indexOf(J[ge]))>=0&&(J[ge]=N[ye+1])})(G,j,re),V(2,G,R,j,re),V(1,G,R,j,re),G.join("")};return this.__bidiEngine__.doBidiReorder=function(M,R,j){if((function(re,J){if(J)for(var Z=0;Z<re.length;Z++)J[Z]=Z;u===void 0&&(u=D(re)),f===void 0&&(f=D(re))})(M,R),o||!d||f)if(o&&d&&u^f)B=u?1:0,M=k(M,R,j);else if(!o&&d&&f)B=u?1:0,M=U(M,R,j),M=k(M,R);else if(!o||u||d||f){if(o&&!d&&u^f)M=k(M,R),u?(B=0,M=U(M,R,j)):(B=1,M=U(M,R,j),M=k(M,R));else if(o&&u&&!d&&f)B=1,M=U(M,R,j),M=k(M,R);else if(!o&&!d&&u^f){var G=p;u?(B=1,M=U(M,R,j),B=0,p=!1,M=U(M,R,j),p=G):(B=0,M=U(M,R,j),M=k(M,R),B=1,p=!1,M=U(M,R,j),p=G,M=k(M,R))}}else B=0,M=U(M,R,j);else B=u?1:0,M=U(M,R,j);return M},this.__bidiEngine__.setOptions=function(M){M&&(o=M.isInputVisual,d=M.isOutputVisual,u=M.isInputRtl,f=M.isOutputRtl,p=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var a=r.text,i=(r.x,r.y,r.options||{}),o=(r.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(o=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?o.push([n.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):o.push([n.doBidiReorder(a[u])]);r.text=o}else r.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])})(Wt),Wt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Rd(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Ole(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new mle(this.contents),this.head=new vle(this),this.name=new wle(this),this.cmap=new j9(this),this.toUnicode={},this.hhea=new yle(this),this.maxp=new Ale(this),this.hmtx=new Nle(this),this.post=new ble(this),this.os2=new xle(this),this.loca=new Tle(this),this.glyf=new Sle(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,d,f;for(f=[],o=0,u=(d=this.bbox).length;o<u;o++)e=d[o],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),(32768&(n=a>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var a,i,o,u;for(o=0,i=0,u=(e=""+e).length;0<=u?i<u:i>u;i=0<=u?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var Al,Rd=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,a;for(a=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)a.push(this.writeByte(e.charCodeAt(n)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,a,i,o,u,d;return e=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),u=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^u)+(255^d)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*a+16777216*i+65536*o+256*u+d},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,a,i;for(i=[],r=0,a=e.length;r<a;r++)n=e[r],i.push(this.writeByte(n));return i},t})(),mle=(function(){var t;function e(n){var r,a,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,a,i,o,u,d,f,p,g,y,x,E,w;for(w in x=Object.keys(n).length,d=Math.log(2),g=16*Math.floor(Math.log(x)/d),o=Math.floor(g/d),p=16*x-g,(a=new Rd).writeInt(this.scalarType),a.writeShort(x),a.writeShort(g),a.writeShort(o),a.writeShort(p),i=16*x,f=a.pos+i,u=null,E=[],n)for(y=n[w],a.writeString(w),a.writeInt(t(y)),a.writeInt(f),a.writeInt(y.length),E=E.concat(y),w==="head"&&(u=f),f+=y.length;f%4;)E.push(0),f++;return a.write(E),r=2981146554-t(a.data),a.pos=u+8,a.writeUInt32(r),a.data},t=function(n){var r,a,i,o;for(n=T9.call(n);n.length%4;)n.push(0);for(i=new Rd(n),a=0,r=0,o=n.length;r<o;r=r+=4)a+=i.readUInt32();return 4294967295&a},e})(),gle={}.hasOwnProperty,Ec=function(t,e){for(var n in e)gle.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Al=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var vle=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Al),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Rd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e})(),JR=(function(){function t(e,n){var r,a,i,o,u,d,f,p,g,y,x,E,w,N,T,C,B;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(x=e.readUInt16(),y=x/2,e.pos+=6,i=(function(){var q,D;for(D=[],d=q=0;0<=y?q<y:q>y;d=0<=y?++q:--q)D.push(e.readUInt16());return D})(),e.pos+=2,w=(function(){var q,D;for(D=[],d=q=0;0<=y?q<y:q>y;d=0<=y?++q:--q)D.push(e.readUInt16());return D})(),f=(function(){var q,D;for(D=[],d=q=0;0<=y?q<y:q>y;d=0<=y?++q:--q)D.push(e.readUInt16());return D})(),p=(function(){var q,D;for(D=[],d=q=0;0<=y?q<y:q>y;d=0<=y?++q:--q)D.push(e.readUInt16());return D})(),a=(this.length-e.pos+this.offset)/2,u=(function(){var q,D;for(D=[],d=q=0;0<=a?q<a:q>a;d=0<=a?++q:--q)D.push(e.readUInt16());return D})(),d=T=0,B=i.length;T<B;d=++T)for(N=i[d],r=C=E=w[d];E<=N?C<=N:C>=N;r=E<=N?++C:--C)p[d]===0?o=r+f[d]:(o=u[p[d]/2+(r-E)-(y-d)]||0)!==0&&(o+=f[d]),this.codeMap[r]=65535&o}e.pos=g}return t.encode=function(e,n){var r,a,i,o,u,d,f,p,g,y,x,E,w,N,T,C,B,q,D,F,k,I,V,U,M,R,j,G,re,J,Z,oe,ye,ge,le,P,H,Q,K,X,me,be,ee,_e,Se,Ae;switch(G=new Rd,o=Object.keys(e).sort((function(Je,Le){return Je-Le})),n){case"macroman":for(w=0,N=(function(){var Je=[];for(E=0;E<256;++E)Je.push(0);return Je})(),C={0:0},i={},re=0,ye=o.length;re<ye;re++)C[ee=e[a=o[re]]]==null&&(C[ee]=++w),i[a]={old:e[a],new:C[e[a]]},N[a]=C[e[a]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(N),{charMap:i,subtable:G.data,maxGlyphID:w+1};case"unicode":for(R=[],g=[],B=0,C={},r={},T=f=null,J=0,ge=o.length;J<ge;J++)C[D=e[a=o[J]]]==null&&(C[D]=++B),r[a]={old:D,new:C[D]},u=C[D]-a,T!=null&&u===f||(T&&g.push(T),R.push(a),f=u),T=a;for(T&&g.push(T),g.push(65535),R.push(65535),U=2*(V=R.length),I=2*Math.pow(Math.log(V)/Math.LN2,2),y=Math.log(I/2)/Math.LN2,k=2*V-I,d=[],F=[],x=[],E=Z=0,le=R.length;Z<le;E=++Z){if(M=R[E],p=g[E],M===65535){d.push(0),F.push(0);break}if(M-(j=r[M].new)>=32768)for(d.push(0),F.push(2*(x.length+V-E)),a=oe=M;M<=p?oe<=p:oe>=p;a=M<=p?++oe:--oe)x.push(r[a].new);else d.push(j-M),F.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*V+2*x.length),G.writeUInt16(0),G.writeUInt16(U),G.writeUInt16(I),G.writeUInt16(y),G.writeUInt16(k),me=0,P=g.length;me<P;me++)a=g[me],G.writeUInt16(a);for(G.writeUInt16(0),be=0,H=R.length;be<H;be++)a=R[be],G.writeUInt16(a);for(_e=0,Q=d.length;_e<Q;_e++)u=d[_e],G.writeUInt16(u);for(Se=0,K=F.length;Se<K;Se++)q=F[Se],G.writeUInt16(q);for(Ae=0,X=x.length;Ae<X;Ae++)w=x[Ae],G.writeUInt16(w);return{charMap:r,subtable:G.data,maxGlyphID:B+1}}},t})(),j9=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Al),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,a,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)r=new JR(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var a,i;return r==null&&(r="macroman"),a=JR.encode(n,r),(i=new Rd).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e})(),yle=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Al),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e})(),xle=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Al),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=(function(){var r,a;for(a=[],r=0;r<10;++r)a.push(n.readByte());return a})(),this.charRange=(function(){var r,a;for(a=[],r=0;r<4;++r)a.push(n.readInt());return a})(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=(function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(n.readInt());return a})(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e})(),ble=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Al),e.prototype.tag="post",e.prototype.parse=function(n){var r,a,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(a=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)r=n.readByte(),i.push(this.names.push(n.readString(r)));return i;case 151552:return a=n.readUInt16(),this.offsets=n.read(a);case 196608:break;case 262144:return this.map=(function(){var u,d,f;for(f=[],o=u=0,d=this.file.maxp.numGlyphs;0<=d?u<d:u>d;o=0<=d?++u:--u)f.push(n.readUInt32());return f}).call(this)}},e})(),_le=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},wle=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Al),e.prototype.tag="name",e.prototype.parse=function(n){var r,a,i,o,u,d,f,p,g,y,x;for(n.pos=this.offset,n.readShort(),r=n.readShort(),d=n.readShort(),a=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)a.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+d+n.readShort()});for(f={},o=g=0,y=a.length;g<y;o=++g)i=a[o],n.pos=i.offset,p=n.readString(i.length),u=new _le(p,i),f[x=i.nameID]==null&&(f[x]=[]),f[i.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e})(),Ale=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Al),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e})(),Nle=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Al),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,a,i,o,u,d,f;for(n.pos=this.offset,this.metrics=[],r=0,d=this.file.hhea.numberOfMetrics;0<=d?r<d:r>d;r=0<=d?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,g;for(g=[],r=p=0;0<=i?p<i:p>i;r=0<=i?++p:--p)g.push(n.readInt16());return g})(),this.widths=(function(){var p,g,y,x;for(x=[],p=0,g=(y=this.metrics).length;p<g;p++)o=y[p],x.push(o.advance);return x}).call(this),a=this.widths[this.widths.length-1],f=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)f.push(this.widths.push(a));return f},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e})(),T9=[].slice,Sle=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Al),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,a,i,o,u,d,f,p,g,y;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,a=o.indexOf(n),(i=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+a,u=(d=new Rd(r.read(i))).readShort(),p=d.readShort(),y=d.readShort(),f=d.readShort(),g=d.readShort(),this.cache[n]=u===-1?new jle(d,p,y,f,g):new Ele(d,u,p,y,f,g),this.cache[n]))},e.prototype.encode=function(n,r,a){var i,o,u,d,f;for(u=[],o=[],d=0,f=r.length;d<f;d++)i=n[r[d]],o.push(u.length),i&&(u=u.concat(i.encode(a)));return o.push(u.length),{table:u,offsets:o}},e})(),Ele=(function(){function t(e,n,r,a,i,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),jle=(function(){function t(e,n,r,a,i){var o,u;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Rd(T9.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),Tle=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Al),e.prototype.tag="loca",e.prototype.parse=function(n){var r,a;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,u=0;u<a.length;++u)if(a[u]=i,o<r.length&&r[o]==u){++o,a[u]=i;var d=this.offsets[u],f=this.offsets[u+1]-d;f>0&&(i+=f)}for(var p=new Array(4*a.length),g=0;g<a.length;++g)p[4*g+3]=255&a[g],p[4*g+2]=(65280&a[g])>>8,p[4*g+1]=(16711680&a[g])>>16,p[4*g]=(4278190080&a[g])>>24;return p},e})(),Ole=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,a,i;for(n in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[n],e[n]=a[r];return e},t.prototype.glyphsFor=function(e){var n,r,a,i,o,u,d;for(a={},o=0,u=e.length;o<u;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in n=[],a)(r=a[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in d=this.glyphsFor(n))r=d[i],a[i]=r;return a},t.prototype.encode=function(e,n){var r,a,i,o,u,d,f,p,g,y,x,E,w,N,T;for(a in r=j9.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),x={0:0},T=r.charMap)x[(d=T[a]).old]=d.new;for(E in y=r.maxGlyphID,o)E in x||(x[E]=y++);return p=(function(C){var B,q;for(B in q={},C)q[C[B]]=B;return q})(x),g=Object.keys(p).sort((function(C,B){return C-B})),w=(function(){var C,B,q;for(q=[],C=0,B=g.length;C<B;C++)u=g[C],q.push(p[u]);return q})(),i=this.font.glyf.encode(o,w,x),f=this.font.loca.encode(i.offsets,w),N={cmap:this.font.cmap.raw(),glyf:i.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},t})();Wt.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,a,i,o;if(Array.isArray(n))return"["+(function(){var u,d,f;for(f=[],u=0,d=n.length;u<d;u++)r=n[u],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in i=["<<"],n)o=n[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+n},e})();const kle=({stock:t,clients:e,batches:n,onConfirmSale:r,onBack:a,salesHistory:i})=>{const o=P=>{if(!n)return"";const H=n.find(Q=>Q.id_lote===P);return H?H.fornecedor:""},[u,d]=ve.useState(null),[f,p]=ve.useState([]),[g,y]=ve.useState(""),[x,E]=ve.useState(!1),[w,N]=ve.useState(!1),T=ve.useMemo(()=>{if(!n||n.length===0)return[];const P=new Set(n.filter(H=>H.status==="FECHADO").map(H=>H.id_lote));return t.filter(H=>H.status==="DISPONIVEL"&&P.has(H.id_lote))},[t,n]),[C,B]=ve.useState(new Set),q=P=>{B(H=>{const Q=new Set(H);return Q.has(P)?Q.delete(P):Q.add(P),Q})},D=ve.useMemo(()=>{const P=T.filter(Q=>Q.id_completo.toLowerCase().includes(g.toLowerCase())||Q.id_lote.toLowerCase().includes(g.toLowerCase())),H=new Map;return P.forEach(Q=>{const K=Q.id_lote;H.has(K)||H.set(K,[]),H.get(K).push(Q)}),Array.from(H.entries()).map(([Q,K])=>{const X=new Map;return K.forEach(me=>{X.has(me.sequencia)||X.set(me.sequencia,[]),X.get(me.sequencia).push(me)}),{key:Q,items:K,lote:Q,carcasses:Array.from(X.entries()).map(([me,be])=>({sequencia:me,parts:be.sort((ee,_e)=>ee.tipo-_e.tipo),totalCarcassWeight:be.reduce((ee,_e)=>ee+_e.peso_entrada,0)})).sort((me,be)=>be.sequencia-me.sequencia),totalWeight:K.reduce((me,be)=>me+be.peso_entrada,0),supplier:o(Q)}}).sort((Q,K)=>K.lote.localeCompare(Q.lote))},[T,g,n]),[F,k]=ve.useState({}),V=f.reduce((P,H)=>{const Q=F[H.id_completo];return P+(Q!==void 0?Q:H.peso_entrada)},0),[U,M]=ve.useState(0),[R,j]=ve.useState(0),G=V*U,re=(P,H)=>{k(Q=>({...Q,[P]:H}))},J=P=>{f.find(H=>H.id_completo===P.id_completo)?(p(H=>H.filter(Q=>Q.id_completo!==P.id_completo)),k(H=>{const Q={...H};return delete Q[P.id_completo],Q})):(p(H=>[...H,P]),k(H=>({...H,[P.id_completo]:P.peso_entrada})))},Z=P=>{if(P.every(Q=>f.some(K=>K.id_completo===Q.id_completo)))p(Q=>Q.filter(K=>!P.some(X=>X.id_completo===K.id_completo)));else{const Q=P.filter(K=>!f.some(X=>X.id_completo===K.id_completo));p(K=>[...K,...Q]),Q.forEach(K=>{k(X=>({...X,[K.id_completo]:K.peso_entrada}))})}},oe=(P,H)=>{const Q=P.reduce((me,be)=>me+be.peso_entrada,0),K={};let X=0;P.forEach((me,be)=>{if(be===P.length-1)K[me.id_completo]=parseFloat((H-X).toFixed(2));else{const ee=Q>0?me.peso_entrada/Q:0,_e=parseFloat((H*ee).toFixed(2));K[me.id_completo]=_e,X+=_e}}),k(me=>({...me,...K}))},ye=ve.useMemo(()=>{const P=new Map;return f.forEach(H=>{const Q=`${H.id_lote}-${H.sequencia}`;P.has(Q)||P.set(Q,[]),P.get(Q).push(H)}),Array.from(P.values())},[f]),ge=()=>{if(!u||f.length===0){alert("Selecione um cliente e itens para gerar o recibo.");return}const P=Wt?new Wt:null;if(!P)return;const H=P.internal.pageSize.width;P.setFillColor(15,23,42),P.rect(20,15,45,15,"F"),P.setFont("courier","bold"),P.setFontSize(14),P.setTextColor(255,255,255),P.text("THIAGO",25,23),P.setFontSize(16),P.setTextColor(59,130,246),P.text("704",47,26),P.setTextColor(100,116,139),P.setFont("helvetica","bold"),P.setFontSize(8),P.text("EXCELNCIA EM CARNA OPERACIONAL",20,35),P.setTextColor(15,23,42),P.setFontSize(18),P.text("COMPROVANTE DE ENTREGA",H-20,25,{align:"right"}),P.setFontSize(8),P.setFont("helvetica","bold"),P.text(`FRIGOGEST PRO X // ID: ${Date.now()}`,H-20,32,{align:"right"}),P.setDrawColor(226,232,240),P.line(20,40,H-20,40),P.setFont("helvetica","bold"),P.setFontSize(10),P.text("DADOS DO DESTINATRIO",20,50),P.setFont("helvetica","normal"),P.text(`CLIENTE: ${u.nome_social}`,20,58),P.text(`DOCUMENTO: ${u.cpf_cnpj||"N/A"}`,20,64),P.text(`ENDEREO: ${u.endereco||"RETIRADA LOCAL"}`,20,70),P.line(20,80,H-20,80),P.setFont("helvetica","bold"),P.text("DETALHAMENTO DOS ITENS",20,90);let Q=100;P.setFillColor(242,245,248),P.rect(20,Q-6,H-40,9,"F"),P.setFontSize(8),P.setFont("helvetica","bold"),P.text("IDENTIFICAO / DESCRIO",22,Q),P.text("TIPO",80,Q),P.text("LOTE",110,Q),P.text("PESO (KG)",155,Q,{align:"right"}),P.text("VALOR (R$)",190,Q,{align:"right"}),Q+=10,P.setFontSize(9),P.setFont("helvetica","normal");const K=new Map;f.forEach(X=>{const me=`${X.id_lote}-${X.sequencia}`;K.has(me)||K.set(me,[]),K.get(me).push(X)}),K.forEach((X,me)=>{const be=X.length>1||X[0].tipo===1,ee=X.reduce((Se,Ae)=>Se+(F[Ae.id_completo]||Ae.peso_entrada),0),_e=ee*U;P.setTextColor(15,23,42),be&&X.length>1?(P.setFont("helvetica","bold"),P.setFontSize(9),P.text(`CARCASSA INTEIRA #${X[0].sequencia}`,22,Q),P.setFontSize(8),P.setFont("helvetica","normal"),P.text(X[0].id_lote,110,Q),P.text(ee.toFixed(2),155,Q,{align:"right"}),P.text(_e.toFixed(2),190,Q,{align:"right"}),Q+=7,P.setFontSize(7),P.setTextColor(100,116,139),X.forEach(Se=>{const Ae=F[Se.id_completo]||Se.peso_entrada;P.text(`   ${Se.tipo===2?"BANDA A":"BANDA B"}`,22,Q),P.text(Ae.toFixed(2)+" kg",155,Q,{align:"right"}),Q+=5}),Q+=3,P.setFontSize(9),P.setTextColor(15,23,42)):be&&X[0].tipo===1?(P.setFont("helvetica","bold"),P.text(`CARCASSA INTEIRA #${X[0].sequencia}`,22,Q),P.setFont("helvetica","normal"),P.text("-",80,Q),P.text(X[0].id_lote,110,Q),P.text(ee.toFixed(2),155,Q,{align:"right"}),P.text(_e.toFixed(2),190,Q,{align:"right"}),Q+=8):X.forEach(Se=>{const Ae=F[Se.id_completo]||Se.peso_entrada,Je=Ae*U;P.text(Se.id_completo,22,Q),P.text(Se.tipo===1?"INTEIRO":Se.tipo===2?"BANDA A":"BANDA B",80,Q),P.text(Se.id_lote,110,Q),P.text(Ae.toFixed(2),155,Q,{align:"right"}),P.text(Je.toFixed(2),190,Q,{align:"right"}),Q+=8}),Q>250&&(P.addPage(),Q=30)}),P.setDrawColor(226,232,240),P.line(20,Q,H-20,Q),Q+=10,P.setFontSize(12),P.setFont("helvetica","bold"),P.setTextColor(59,130,246),P.text("TOTAL DA CARGA:",20,Q),P.setTextColor(15,23,42),P.text(`${V.toFixed(2)} KG`,155,Q,{align:"right"}),P.text(kt(G+R),190,Q,{align:"right"}),Q+=40,Q>260&&(P.addPage(),Q=50),P.setDrawColor(15,23,42),P.line(25,Q,95,Q),P.setFontSize(7),P.setFont("helvetica","bold"),P.text("RECEBIDO POR (CLIENTE)",60,Q+5,{align:"center"}),P.setFont("helvetica","normal"),P.text(u.nome_social,60,Q+9,{align:"center"}),P.line(H-95,Q,H-25,Q),P.setFont("helvetica","bold"),P.text("ENTREGUE POR (THIAGO 704)",H-60,Q+5,{align:"center"}),P.setFont("helvetica","normal"),P.text("LOGSTICA OPERACIONAL FG",H-60,Q+9,{align:"center"}),P.save(`RECIBO_THIAGO704_${u.id_ferro}.pdf`)},le=()=>{if(!u||f.length===0||U<=0){alert(" Preencha todos os dados da venda!");return}confirm("Deseja gerar o Manifesto de Carga (PDF)?")&&ge();const P=f.map(H=>({...H,peso_saida:F[H.id_completo]!==void 0?F[H.id_completo]:H.peso_entrada}));r({client:u,items:P,pricePerKg:U,extrasCost:R}),d(null),p([]),M(0),j(0),E(!0)};return x?c.jsx("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] animate-reveal pb-20 font-sans",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col gap-10",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("button",{onClick:()=>E(!1),className:"group flex items-center gap-2 px-5 py-2 bg-white border border-slate-200 rounded-full text-xs font-black text-slate-500 hover:text-blue-600 hover:border-blue-100 hover:bg-blue-50 transition-all shadow-sm",children:[c.jsx(Ji,{size:16})," Voltar  Expedio"]}),c.jsxs("button",{onClick:()=>E(!1),className:"group flex items-center gap-3 px-8 py-3 bg-blue-600 rounded-2xl text-xs font-black text-white hover:bg-slate-900 transition-all shadow-xl shadow-blue-100 uppercase tracking-widest",children:[c.jsx(uc,{size:18})," Realizar Outra Venda"]})]}),c.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[c.jsx("div",{className:"bg-slate-900 p-4 rounded-3xl text-white shadow-2xl shadow-slate-200",children:c.jsx(du,{size:32})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-4xl font-black tracking-tight text-slate-900 italic",children:["LOG de ",c.jsx("span",{className:"text-blue-600",children:"Expedio"})]}),c.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mt-2",children:"Histrico Operacional Cronolgico"})]})]})]}),c.jsx("div",{className:"premium-card overflow-hidden bg-white shadow-xl shadow-slate-100",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"technical-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Data Valor"}),c.jsx("th",{children:"Entidade Receptora"}),c.jsx("th",{children:"ID Unitrio"}),c.jsx("th",{className:"text-right",children:"Peso Sada"}),c.jsx("th",{className:"text-right",children:"Montante Final"})]})}),c.jsx("tbody",{children:i.slice(0,100).map((P,H)=>c.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[c.jsx("td",{className:"text-[10px] font-bold text-slate-400 group-hover:text-slate-900",children:new Date(P.data_venda).toLocaleDateString()}),c.jsx("td",{children:c.jsxs("p",{className:"font-extrabold text-slate-900 uppercase text-xs italic",children:['"',P.nome_cliente||"Mercado Interno",'"']})}),c.jsx("td",{children:c.jsx("span",{className:"text-[10px] text-slate-400 font-mono bg-slate-50 px-2 py-0.5 rounded border border-slate-100",children:P.id_completo})}),c.jsx("td",{className:"text-right font-black text-slate-900 text-sm",children:Sr(P.peso_real_saida)}),c.jsx("td",{className:"text-right",children:c.jsx("span",{className:"font-black text-blue-600 text-sm",children:kt(P.peso_real_saida*P.preco_venda_kg)})})]},H))})]})})})]})}):c.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] overflow-hidden animate-reveal font-sans",children:[c.jsxs("div",{className:"h-24 bg-white border-b border-slate-100 flex items-center justify-between px-10 shrink-0 z-50 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-10",children:[c.jsxs("button",{onClick:a,className:"group flex items-center gap-2.5 px-5 py-2.5 bg-slate-50 border border-slate-100 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-blue-600 hover:bg-white hover:border-blue-200 transition-all shadow-sm",children:[c.jsx(Ji,{size:16})," Home"]}),c.jsx("div",{className:"h-10 w-px bg-slate-100"}),c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-xl shadow-blue-100",children:c.jsx(uc,{size:24})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-black text-slate-900 tracking-tight italic leading-none",children:["Terminal de ",c.jsx("span",{className:"text-blue-600",children:"Vendas"})]}),c.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.4em] mt-1.5 opacity-60",children:"Expedio Controlada / ID-X-PROC"})]})]})]}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-3 px-6 py-3.5 rounded-2xl bg-slate-100 text-slate-600 text-[10px] font-black uppercase tracking-widest hover:bg-slate-900 hover:text-white transition-all",children:[c.jsx(du,{size:16})," Archive Log"]})})]}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white/50 backdrop-blur-sm relative",children:[c.jsxs("div",{className:"p-8 pb-4 flex flex-col xl:flex-row gap-6 shrink-0 relative z-10",children:[c.jsxs("div",{className:"flex-1 group",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-3 block px-1 group-focus-within:text-blue-600 transition-colors",children:"Entidade Receptora"}),c.jsxs("div",{className:"relative",children:[c.jsx(I1,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-500 transition-colors",size:18}),c.jsxs("select",{className:"modern-input h-16 pl-12 bg-white font-extrabold text-xs uppercase tracking-widest shadow-sm hover:border-blue-300 transition-all cursor-pointer",value:u?JSON.stringify(u):"",onChange:P=>{P.target.value?d(JSON.parse(P.target.value)):d(null)},children:[c.jsx("option",{value:"",children:"-- SELECIONE O CLIENTE --"}),e.sort((P,H)=>P.nome_social.localeCompare(H.nome_social)).map(P=>c.jsxs("option",{value:JSON.stringify(P),children:[P.id_ferro," // ",P.nome_social]},P.id_ferro))]})]})]}),c.jsxs("div",{className:"w-full xl:w-96 group",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-3 block px-1 group-focus-within:text-blue-600 transition-colors",children:"Filtro de Logstica"}),c.jsxs("div",{className:"relative",children:[c.jsx(Hp,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-500 transition-colors",size:18}),c.jsx("input",{type:"text",placeholder:"BUSCAR ID OU LOTE...",className:"modern-input h-16 pl-12 bg-white font-black text-xs uppercase tracking-widest shadow-sm hover:border-blue-300 transition-all",value:g,onChange:P=>y(P.target.value)})]})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-8 pt-4 space-y-6 custom-scrollbar",children:D.length===0?c.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-10 grayscale",children:[c.jsx(S1,{size:100,className:"mb-6"}),c.jsx("p",{className:"text-xs font-black uppercase tracking-[0.4em]",children:"Estoque Indisponvel"})]}):c.jsx("div",{className:"grid grid-cols-1 gap-6",children:D.map(P=>{const H=P.items.every(X=>f.some(me=>me.id_completo===X.id_completo)),Q=P.items.some(X=>f.some(me=>me.id_completo===X.id_completo)),K=C.has(P.lote);return c.jsxs("div",{className:"bg-white rounded-[24px] overflow-hidden border border-slate-100 shadow-sm hover:shadow-md transition-shadow group/batch",children:[c.jsxs("div",{onClick:()=>q(P.lote),className:`p-4 flex items-center justify-between cursor-pointer transition-colors ${K?"bg-slate-50/80 border-b border-slate-100":"bg-white hover:bg-slate-50/50"}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all ${K?"bg-blue-600 text-white rotate-90":"bg-slate-100 text-slate-400"}`,children:c.jsx(_c,{size:20})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-0.5",children:["LOTE: ",P.lote]}),c.jsxs("p",{className:"text-xs font-extrabold text-slate-900 uppercase tracking-tighter italic",children:['"',P.supplier||"CARGA PADRO",'"']})]})]}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"text-right hidden sm:block",children:[c.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"Payload Total"}),c.jsx("p",{className:"text-[12px] font-black text-slate-900",children:Sr(P.totalWeight)})]}),c.jsx("div",{className:"h-8 w-px bg-slate-100 hidden sm:block"}),c.jsx("button",{onClick:X=>{X.stopPropagation(),Z(P.items)},className:`px-5 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${H?"bg-blue-600 text-white shadow-lg shadow-blue-100":"bg-slate-100 text-slate-400 hover:text-blue-600 hover:bg-blue-50"}`,children:H?"LIBERAR":Q?"COMPLETAR":"RESERVAR"})]})]}),K&&c.jsx("div",{className:"overflow-x-auto bg-white animate-reveal",children:c.jsxs("table",{className:"w-full text-left border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-slate-50/20",children:[c.jsx("th",{className:"px-6 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest w-12 text-center",children:"Sel"}),c.jsx("th",{className:"px-4 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Procedncia"}),c.jsx("th",{className:"px-4 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Tipo"}),c.jsx("th",{className:"px-6 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Peso (KG)"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-50",children:P.carcasses.map(X=>{const me=X.parts.every(be=>f.some(ee=>ee.id_completo===be.id_completo));return c.jsxs(Ce.Fragment,{children:[c.jsxs("tr",{className:"bg-slate-50/10 border-t border-slate-100/50",children:[c.jsx("td",{className:"px-6 py-1 text-center bg-slate-50/20",children:c.jsxs("div",{className:"w-4 h-4 rounded bg-slate-200 flex items-center justify-center text-[7px] font-black text-slate-500",children:["#",X.sequencia]})}),c.jsx("td",{className:"px-4 py-1",colSpan:2,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-[9px] font-black text-slate-900 uppercase",children:["Carcassa #",X.sequencia]}),c.jsx("button",{onClick:be=>{be.stopPropagation(),Z(X.parts)},className:`px-2 py-0.5 rounded text-[7px] font-black uppercase transition-all ${me?"bg-blue-600 text-white shadow-sm":"bg-white border border-slate-200 text-slate-400 hover:text-blue-600 hover:border-blue-200"}`,children:me?"INTEIRA SELECIONADA":"VENDER INTEIRA"})]})}),c.jsx("td",{className:"px-6 py-1 text-right",children:c.jsx("span",{className:"text-[9px] font-black text-slate-400",children:Sr(X.totalCarcassWeight)})})]}),X.parts.map(be=>{const ee=f.some(_e=>_e.id_completo===be.id_completo);return c.jsxs("tr",{onClick:()=>J(be),className:`group/row cursor-pointer transition-all ${ee?"bg-blue-50/30":"hover:bg-slate-50/50"}`,children:[c.jsx("td",{className:"px-6 py-1.5 text-center",children:c.jsx("div",{className:`w-4 h-4 rounded-md border-2 flex items-center justify-center mx-auto transition-all ${ee?"bg-blue-600 border-blue-600 text-white":"border-slate-200 bg-white"}`,children:ee&&c.jsx(ic,{size:8,fill:"currentColor",className:"text-white"})})}),c.jsx("td",{className:"px-4 py-1.5",children:c.jsx("span",{className:`text-[10px] font-mono font-bold ${ee?"text-blue-700":"text-slate-400"}`,children:be.id_completo})}),c.jsx("td",{className:"px-4 py-1.5 text-center",children:c.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase tracking-tighter ${ee?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-500"}`,children:be.tipo===1?"INT":be.tipo===2?"B-A":"B-B"})}),c.jsx("td",{className:"px-6 py-1.5 text-right",children:c.jsx("span",{className:`text-xs font-black tracking-tight ${ee?"text-blue-900":"text-slate-900"}`,children:Sr(be.peso_entrada)})})]},be.id_completo)})]},X.sequencia)})})]})})]},P.key)})})})]}),c.jsxs("div",{className:"w-full md:w-[420px] bg-white border-l border-slate-100 flex flex-col shadow-2xl z-40 relative",children:[c.jsxs("div",{className:"p-6 pb-2 shrink-0 border-b border-slate-50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-slate-900 p-2.5 rounded-xl text-white shadow-lg",children:c.jsx(U3,{size:18})}),c.jsxs("div",{children:[c.jsxs("h2",{className:"text-base font-black text-slate-900 tracking-tight italic",children:["Manifesto de ",c.jsx("span",{className:"text-blue-600",children:"Sada"})]}),c.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Aguardando Confirmao"})]})]}),f.length>0&&c.jsx("button",{onClick:()=>p([]),className:"text-[10px] font-black text-rose-500 hover:bg-rose-50 px-3 py-1.5 rounded-lg transition-all uppercase tracking-tighter",children:"Limpar Tudo"})]}),c.jsxs("div",{className:`px-4 py-3 rounded-2xl transition-all flex items-center gap-3 ${u?"bg-blue-600 text-white shadow-lg shadow-blue-100":"bg-slate-50 border border-slate-100 text-slate-300"}`,children:[c.jsx(I1,{size:18,className:u?"text-white":"text-slate-300"}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("p",{className:"text-[10px] font-black uppercase truncate italic",children:u?u.nome_social:"Selecionar Cliente Ativo"})}),f.length>0&&c.jsxs("div",{className:"bg-white/20 px-2 py-0.5 rounded-md text-[9px] font-black",children:[f.length," ITENS"]})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar-thin bg-slate-50/30",children:f.length===0?c.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-20",children:[c.jsx(fu,{size:40,className:"text-slate-300 mb-4"}),c.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Carrinho Vazio"})]}):ye.map((P,H)=>{const Q=P.length>1,K=P.reduce((X,me)=>X+(F[me.id_completo]||me.peso_entrada),0);return c.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"bg-slate-50/50 px-4 py-2 flex justify-between items-center border-b border-slate-100",children:[c.jsxs("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:["Animal #",P[0].sequencia," // Lote ",P[0].id_lote]}),!Q&&c.jsx("button",{onClick:()=>J(P[0]),className:"p-1 text-slate-300 hover:text-rose-500 transition-colors",children:c.jsx(hu,{size:12})}),Q&&c.jsx("button",{onClick:()=>{P.forEach(X=>J(X))},className:"text-[8px] font-black text-rose-500 hover:bg-rose-100 px-2 py-1 rounded transition-all uppercase tracking-tighter",children:"Remover Carcaa"})]}),c.jsx("div",{className:"p-3",children:Q?c.jsxs("div",{className:"flex items-center justify-between bg-blue-50/30 p-3 rounded-xl border border-blue-100/50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-blue-600 p-2 rounded-lg text-white shadow-sm",children:c.jsx(wc,{size:14})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-blue-900 uppercase leading-none mb-1",children:"Carcassa Inteira"}),c.jsxs("p",{className:"text-[8px] font-bold text-blue-400 uppercase tracking-widest",children:[P.length," Cortes Vinculados"]})]})]}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:"text-[9px] font-black text-blue-600 uppercase tracking-wide mb-1",children:"PESO SADA"}),c.jsxs("div",{className:"flex items-center gap-2 bg-blue-100 border-2 border-blue-400 rounded-xl px-4 py-3",children:[c.jsx(Zh,{size:20,className:"text-blue-600"}),c.jsx(Io,{className:"w-32 bg-transparent text-right font-black text-xl text-blue-700 outline-none",placeholder:"Peso",value:Number(K.toFixed(2))||0,onValueChange:X=>oe(P,X)}),c.jsx("span",{className:"text-sm font-black text-blue-500",children:"KG"})]})]})]}):P.map((X,me)=>{const be=F[X.id_completo]||X.peso_entrada;return c.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-slate-50 rounded-lg transition-colors group/item",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-[8px] font-bold text-slate-500 font-mono",children:X.id_completo.split("-").pop()}),c.jsx("span",{className:"text-[9px] font-black text-slate-900 uppercase",children:X.tipo===1?"INT":X.tipo===2?"B-A":"B-B"})]}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:"text-[9px] font-black text-blue-500 uppercase mb-1",children:"PESO SADA"}),c.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 border-2 border-blue-300 rounded-xl px-3 py-2",children:[c.jsx(Io,{className:"w-28 bg-transparent text-right font-black text-lg text-blue-700 outline-none",placeholder:"Peso",value:be||0,onValueChange:ee=>re(X.id_completo,ee)}),c.jsx("span",{className:"text-xs font-black text-blue-400",children:"KG"})]})]})]},me)})})]},H)})}),c.jsxs("div",{className:"shrink-0 bg-slate-900 text-white p-4 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 opacity-5 pointer-events-none",children:c.jsx(U3,{size:200,className:"rotate-12 translate-x-20 translate-y-20"})}),c.jsxs("div",{className:"relative z-10 space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest px-1",children:"R$ Preo / KG"}),c.jsx("div",{className:"flex items-center bg-white/10 border border-white/10 rounded-xl px-4 h-12 focus-within:bg-white/20 transition-all",children:c.jsx(Io,{className:"w-full bg-transparent text-white font-black text-xl outline-none",value:U||0,onValueChange:P=>M(P),placeholder:"Preo/kg"})})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest px-1",children:"Custos Extras"}),c.jsx("div",{className:"flex items-center bg-white/10 border border-white/10 rounded-xl px-4 h-12 focus-within:bg-white/20 transition-all",children:c.jsx(Io,{className:"w-full bg-transparent text-white font-black text-lg outline-none",value:R||0,onValueChange:P=>j(P),placeholder:"Extras"})})]})]}),c.jsxs("div",{className:"pt-4 border-t border-white/10",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Subtotal Acumulado"}),c.jsx("h2",{className:"text-3xl font-black text-blue-400 tracking-tighter italic leading-none",children:kt(G+R)})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Carga ( KG)"}),c.jsx("p",{className:"text-xl font-black text-white italic tracking-tighter leading-none",children:Sr(V)})]})]}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("button",{onClick:le,disabled:f.length===0||!u||U<=0,className:"w-full py-4 bg-blue-600 rounded-xl text-white font-black text-xs uppercase tracking-widest flex items-center justify-center gap-3 hover:bg-white hover:text-slate-900 transition-all disabled:opacity-20 active:scale-95 shadow-xl shadow-blue-500/20",children:[c.jsx(wc,{size:20})," Confirmar Entrega [THIAGO 704]"]}),c.jsxs("button",{onClick:ge,disabled:f.length===0||!u||U<=0,className:"w-full py-2.5 bg-white/5 border border-white/10 rounded-lg text-white font-black text-[8px] uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-white/10 transition-all disabled:opacity-10",children:[c.jsx(O1,{size:14})," Imprimir Comprovante"]})]})]})]})]})]})]}),w&&c.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/80 backdrop-blur-xl animate-reveal p-10 flex items-center justify-center",children:c.jsxs("div",{className:"bg-white rounded-[48px] shadow-3xl w-full max-w-6xl h-[85vh] flex flex-col overflow-hidden border border-white",children:[c.jsxs("div",{className:"bg-slate-900 p-10 flex justify-between items-center text-white shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsx("div",{className:"w-14 h-14 bg-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:c.jsx(eU,{size:28})}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight italic",children:["Expedio ",c.jsx("span",{className:"text-blue-500",children:"Tetris"})]}),c.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mt-1",children:"Simulador de Carregamento Industrial"})]})]}),c.jsx("button",{onClick:()=>N(!1),className:"w-14 h-14 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center hover:bg-rose-600 hover:border-rose-500 transition-all group",children:c.jsx(hu,{size:24,className:"group-hover:rotate-90 transition-transform"})})]}),c.jsxs("div",{className:"flex-1 p-10 flex flex-col lg:flex-row gap-10 overflow-hidden",children:[c.jsxs("div",{className:"flex-1 bg-slate-50 rounded-[40px] border border-slate-100 p-8 flex flex-col relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:c.jsx(uc,{size:200})}),c.jsx("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.4em] mb-8",children:"Layout Interno do Veculo"}),c.jsxs("div",{className:"flex-1 grid grid-cols-6 grid-rows-8 gap-3 content-start",children:[f.map((P,H)=>c.jsxs("div",{className:`h-16 rounded-xl border flex flex-col items-center justify-center transition-all group hover:scale-[1.05] animate-reveal ${P.tipo===1?"bg-slate-900 text-white border-slate-900":"bg-white border-slate-100 text-slate-900"}`,title:`${P.id_completo} - ${Sr(P.peso_entrada)}`,children:[c.jsx("span",{className:"text-[9px] font-black uppercase tracking-tighter",children:P.tipo===1?"INT":P.tipo===2?"B-A":"B-B"}),c.jsx("span",{className:"text-[8px] font-bold opacity-40",children:Sr(P.peso_entrada)})]},H)),Array.from({length:Math.max(0,48-f.length)}).map((P,H)=>c.jsx("div",{className:"h-16 rounded-xl border border-dashed border-slate-200 flex items-center justify-center text-slate-100",children:c.jsx(Tf,{size:16})},H))]}),c.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 flex items-center justify-between",children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-slate-100 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-900"}),c.jsx("span",{className:"text-[9px] font-black uppercase text-slate-400",children:"Pesados / Inteiros"})]}),c.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-slate-100 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),c.jsx("span",{className:"text-[9px] font-black uppercase text-slate-400",children:"Mdia Estabilidade"})]})]}),c.jsxs("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[c.jsx(E0,{size:14,className:"text-blue-500"})," Distribua o peso uniformemente"]})]})]}),c.jsxs("div",{className:"w-full lg:w-96 flex flex-col gap-8 shrink-0",children:[c.jsxs("div",{className:"bg-blue-600 rounded-[32px] p-8 text-white shadow-xl shadow-blue-100",children:[c.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-blue-100 mb-2",children:"Resumo do Manifesto"}),c.jsx("h3",{className:"text-4xl font-black italic tracking-tighter",children:Sr(V)}),c.jsxs("div",{className:"mt-8 space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase opacity-60",children:[c.jsx("span",{children:"Items Totais:"}),c.jsxs("span",{children:[f.length," UN"]})]}),c.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase opacity-60",children:[c.jsx("span",{children:"Volume Mdio:"}),c.jsxs("span",{children:[(V/(f.length||1)).toFixed(1)," KG/UN"]})]}),c.jsx("div",{className:"h-px bg-white/10 my-4"}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-[11px] font-black uppercase italic",children:"Distribuio de Carga"}),c.jsx("span",{className:"text-sm font-black text-blue-200",children:"OK"})]})]})]}),c.jsxs("div",{className:"flex-1 bg-slate-50 rounded-[32px] p-8 border border-slate-100 overflow-y-auto",children:[c.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-6",children:"Fila de Carregamento"}),c.jsx("div",{className:"space-y-3",children:f.map((P,H)=>c.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-2xl border border-slate-200/50 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-[10px] font-black bg-slate-900 text-white w-5 h-5 flex items-center justify-center rounded-lg",children:H+1}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:["#",P.id_completo.split("-").pop()]}),c.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest",children:P.id_lote})]})]}),c.jsx("span",{className:"text-xs font-black text-blue-600",children:Sr(P.peso_entrada)})]},H))})]})]})]})]})})]})},Cle=({sales:t=[],batches:e=[],stock:n=[],clients:r=[],transactions:a=[],addTransaction:i,deleteTransaction:o,addPartialPayment:u,onBack:d,payables:f=[],addPayable:p,updatePayable:g,deletePayable:y,estornoSale:x,cleanAllFinancialData:E})=>{const[w,N]=ve.useState("overview"),[T,C]=ve.useState(!1),[B,q]=ve.useState(!1),[D,F]=ve.useState("PENDING"),[k,I]=ve.useState("ALL"),[V,U]=ve.useState("ALL"),[M,R]=ve.useState("ALL"),[j,G]=ve.useState({descricao:"",valor:0,valor_pago:0,categoria:"OPERACIONAL",data_vencimento:new Date().toISOString().split("T")[0],status:"PENDENTE"}),[re,J]=ve.useState(()=>{const ue=new Date;return ue.setDate(1),ue.toISOString().split("T")[0]}),[Z,oe]=ve.useState(()=>new Date().toISOString().split("T")[0]),[ye,ge]=ve.useState(""),[le,P]=ve.useState(""),[H,Q]=ve.useState(""),[K,X]=ve.useState(""),[me,be]=ve.useState(""),[ee,_e]=ve.useState(""),[Se,Ae]=ve.useState(""),[Je,Le]=ve.useState(""),[ce,ae]=ve.useState({descricao:"",valor:0,tipo:"SAIDA",categoria:"OPERACIONAL",data:new Date().toISOString().split("T")[0]}),[Ye,nt]=ve.useState(null),[He,Ue]=ve.useState(new Date().toISOString().split("T")[0]),[Ke,et]=ve.useState("PIX"),[tt,Ge]=ve.useState(""),[yt,vt]=ve.useState("0"),[_t,Bt]=ve.useState(""),[At,Vt]=ve.useState(null),[bt,Zn]=ve.useState(""),Jt=ue=>{const We=(ue.peso_real_saida||0)*(ue.preco_venda_kg||0),Gt=ue.valor_pago||0;return{valorTotal:We,valorPago:Gt,saldoDevedor:Math.max(0,We-Gt)}},er=ue=>{const We=n.find(Et=>Et.id_completo===ue.id_completo),Gt=(We==null?void 0:We.id_lote)||ue.id_completo.split("-").slice(0,3).join("-"),sn=We?e.find(Et=>Et.id_lote===We.id_lote):e.find(Et=>Et.id_lote===Gt),zt=(ue.peso_real_saida||0)*(ue.preco_venda_kg||0),Ft=sn&&Number(sn.custo_real_kg)||0,Zt=(ue.peso_real_saida||0)*Ft,Me=ue.custo_extras_total||0;return{revenue:zt,cgs:Zt,operationalCost:Me,netProfit:zt-Zt-Me}},pn=()=>{if(!Ye||!tt)return;const ue=parseFloat(tt.replace(",",".")),We=parseFloat(yt.replace(",","."))||0,{saldoDevedor:Gt}=Jt(Ye);if(isNaN(ue)||ue<=0||ue+We>Gt+.01)return alert(" Valor invlido!");u(Ye.id_venda,ue+We,Ke,He),ue>0&&i({id:`TR-REC-${Ye.id_venda}-${Date.now()}`,data:He,descricao:`Recebimento: ${Ye.nome_cliente||"Cliente"} - ${Ye.id_completo}`,tipo:"ENTRADA",categoria:"VENDA",valor:ue,metodo_pagamento:Ke,referencia_id:Ye.id_venda}),We>0&&_t&&i({id:`TR-DESC-${Ye.id_venda}-${Date.now()}`,data:He,descricao:`DESCONTO: ${_t}`,tipo:"SAIDA",categoria:"DESCONTO",valor:We,metodo_pagamento:Ke,referencia_id:Ye.id_venda}),nt(null),Ge(""),vt("0"),Bt("")},mn=()=>{if(!At||!bt)return;const ue=parseFloat(bt.replace(",",".")),We=At.valor-(At.valor_pago||0);if(isNaN(ue)||ue<=0||ue>We+.01)return alert(" Valor invlido!");i({id:`TR-PAY-${At.id}-${Date.now()}`,data:He,descricao:`Pagamento: ${At.descricao}`,tipo:"SAIDA",categoria:At.categoria,valor:ue,metodo_pagamento:Ke,referencia_id:At.id});const Gt=(At.valor_pago||0)+ue;g({...At,valor_pago:Gt,status:Gt>=At.valor-.01?"PAGO":"PARCIAL",data_pagamento:new Date().toISOString().split("T")[0]}),Vt(null),Zn("")},Ti=()=>{if(!ce.descricao||!ce.valor)return alert("Preencha todos os campos.");i({id:`TR-${Date.now()}`,descricao:ce.descricao,valor:Number(ce.valor),tipo:ce.tipo,categoria:ce.categoria,data:ce.data,metodo_pagamento:"DINHEIRO",referencia_id:""}),C(!1)},fn=ve.useMemo(()=>e.filter(ue=>ue.status==="FECHADO"),[e]),aa=ve.useMemo(()=>new Set(fn.map(ue=>ue.id_lote)),[fn]),Bn=fn.length>0,jr=ve.useMemo(()=>a.filter(ue=>{var We,Gt,sn,zt;return!ue.referencia_id||aa.has(ue.referencia_id)||(We=ue.id)!=null&&We.startsWith("TR-REC-")||(Gt=ue.id)!=null&&Gt.startsWith("TR-PAY-")||ue.categoria==="VENDA"||(sn=ue.id)!=null&&sn.startsWith("TR-ESTORNO-")||ue.categoria==="ESTORNO"||(zt=ue.id)!=null&&zt.startsWith("TR-DESC-")||ue.categoria==="DESCONTO"||!ue.referencia_id.includes("-")?!0:!Bn}),[a,aa,Bn]),Lr=ve.useMemo(()=>jr.filter(ue=>ue.data>=re&&ue.data<=Z).sort((ue,We)=>We.data.localeCompare(ue.data)),[jr,re,Z]),bn=jr.reduce((ue,We)=>ue+(We.tipo==="ENTRADA"?We.valor:-We.valor),0),It=ve.useMemo(()=>t.filter(We=>{const Gt=We.id_completo.split("-")[0]+"-"+We.id_completo.split("-")[1]+"-"+We.id_completo.split("-")[2];return aa.has(Gt)}).filter(We=>We.status_pagamento!=="ESTORNADO"&&Jt(We).saldoDevedor>.01).sort((We,Gt)=>We.data_vencimento.localeCompare(Gt.data_vencimento)),[t,aa]),gn=ve.useMemo(()=>It.reduce((ue,We)=>ue+Jt(We).saldoDevedor,0),[It]),pa=new Date().toISOString().split("T")[0];It.filter(ue=>ue.data_vencimento<pa);const Tr=new Date(Date.now()-30*864e5).toISOString().split("T")[0],ia=It.filter(ue=>ue.data_vencimento<Tr),ma=Array.from(new Set(ia.map(ue=>ue.nome_cliente||"Desconhecido"))),Ot=ve.useMemo(()=>n.filter(ue=>ue.status==="DISPONIVEL").reduce((ue,We)=>{const Gt=fn.find(zt=>zt.id_lote===We.id_lote),sn=Gt&&Number(Gt.custo_real_kg)||0;return ue+We.peso_entrada*sn},0),[n,fn]),Aa=ve.useMemo(()=>Bn?f.filter(ue=>{if(ue.status==="ESTORNADO"||ue.status==="CANCELADO")return!1;if(ue.id_lote)return aa.has(ue.id_lote);if(ue.categoria==="COMPRA_GADO"&&ue.descricao){const We=ue.descricao.match(/Lote ([A-Z0-9]+-\d{4}-\d+)/);return We?aa.has(We[1]):!1}return!0}).reduce((ue,We)=>ue+(We.valor-(We.valor_pago||0)),0):0,[f,aa,Bn]),Or=ve.useMemo(()=>t.filter(We=>{if(We.status_pagamento==="ESTORNADO")return!1;const Gt=We.id_completo.split("-")[0]+"-"+We.id_completo.split("-")[1]+"-"+We.id_completo.split("-")[2];return aa.has(Gt)}).reduce((We,Gt)=>{const sn=er(Gt);return{revenue:We.revenue+sn.revenue,cgs:We.cgs+sn.cgs,ops:We.ops+sn.operationalCost,profit:We.profit+sn.netProfit}},{revenue:0,cgs:0,ops:0,profit:0}),[t,n,fn,aa]),Mr=ve.useMemo(()=>{const ue=new Map;return t.filter(We=>We.status_pagamento!=="ESTORNADO").forEach(We=>{const Gt=er(We),sn=We.nome_cliente||"Direto";ue.has(sn)||ue.set(sn,{revenue:0,profit:0,volume:0});const zt=ue.get(sn);zt.revenue+=Gt.revenue,zt.profit+=Gt.netProfit,zt.volume+=We.peso_real_saida}),Array.from(ue.entries()).map(([We,Gt])=>({name:We,...Gt})).sort((We,Gt)=>Gt.revenue-We.revenue)},[t,n,e]),ar=ve.useMemo(()=>{const ue=t.filter(Me=>Me.status_pagamento!=="ESTORNADO"),We=ue.reduce((Me,Et)=>Me+Et.peso_real_saida*Et.preco_venda_kg,0),Gt=ue.reduce((Me,Et)=>Me+(Et.valor_pago||0),0),sn=We>0?Gt/We*100:100,zt=Or.cgs,Ft=Ot,Zt=Ft>0?zt/Ft:0;return{efficacy:sn,turnover:Zt}},[t,Or,Ot]);return c.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[c.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("button",{onClick:d,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-700 hover:border-blue-100 transition-all shadow-sm",children:[c.jsx(Ji,{size:14})," Voltar ao Incio"]}),c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-white shadow-xl shadow-slate-200",children:c.jsx(q3,{size:28})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Controladoria ",c.jsx("span",{className:"text-blue-600",children:"Finanas"})]}),c.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Fluxo de Caixa & Resultados / ID-FIN"})]})]})]}),c.jsx("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto",children:c.jsx("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm overflow-x-auto no-scrollbar",children:["overview","cashflow","receivables","payables","suppliers","profit"].map(ue=>c.jsx("button",{onClick:()=>N(ue),className:`px-4 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${w===ue?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:ue==="overview"?"Viso Geral":ue==="cashflow"?"Fluxo Caixa":ue==="receivables"?"A Receber":ue==="payables"?"A Pagar":ue==="suppliers"?"Fornecedores":"DRE"},ue))})})]}),w==="overview"&&c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-reveal",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Saldo em Caixa",value:kt(bn),icon:k0,color:"blue"},{label:"Contas a Receber",value:kt(gn),icon:O0,color:"emerald"},{label:"Valor em Estoque",value:kt(Ot),icon:$A,color:"amber"},{label:"Total a Pagar",value:kt(Aa),icon:C1,color:"rose"}].map((ue,We)=>c.jsxs("div",{className:"premium-card p-8 flex flex-col gap-5 group hover:-translate-y-1 transition-all",children:[c.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center transition-all group-hover:scale-110 ${ue.color==="blue"?"bg-blue-50 text-blue-600":ue.color==="emerald"?"bg-emerald-50 text-emerald-600":ue.color==="amber"?"bg-amber-50 text-amber-600":"bg-rose-50 text-rose-600"}`,children:c.jsx(ue.icon,{size:24})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:ue.label}),c.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:ue.value})]})]},We))}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"premium-card p-8 bg-emerald-50 border-emerald-100 group hover:-translate-y-1 transition-all",children:[c.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest mb-2",children:"Total Ativos"}),c.jsxs("p",{className:"text-3xl font-black text-emerald-700 tracking-tight",children:["+",kt(bn+gn+Ot)]}),c.jsx("p",{className:"text-[9px] font-bold text-emerald-500 mt-2",children:"Caixa + A Receber + Estoque"})]}),c.jsxs("div",{className:"premium-card p-8 bg-rose-50 border-rose-100 group hover:-translate-y-1 transition-all",children:[c.jsx("p",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest mb-2",children:"Total Passivos"}),c.jsxs("p",{className:"text-3xl font-black text-rose-700 tracking-tight",children:["-",kt(Aa)]}),c.jsx("p",{className:"text-[9px] font-bold text-rose-500 mt-2",children:"Contas a Pagar"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"premium-card p-10 bg-white",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] flex items-center gap-3",children:[c.jsx(hU,{size:16,className:"text-amber-500"})," Top 5 Clientes (Curva ABC)"]}),c.jsx("div",{className:"px-3 py-1 bg-amber-50 rounded-full text-[9px] font-black text-amber-600 uppercase",children:"Faturamento"})]}),c.jsx("div",{className:"space-y-6",children:Mr.slice(0,5).map((ue,We)=>c.jsxs("div",{className:"flex items-center justify-between group",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-xs ${We===0?"bg-slate-900 text-white shadow-lg":"bg-slate-50 text-slate-400 group-hover:bg-slate-100"}`,children:We===0?c.jsx(AV,{size:16}):We+1}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-[11px] font-black text-slate-800 uppercase italic",children:['"',ue.name,'"']}),c.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:[Sr(ue.volume)," movimentados"]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm font-black text-slate-900",children:kt(ue.revenue)}),c.jsxs("p",{className:"text-[9px] font-bold text-emerald-600 uppercase",children:["+ ",kt(ue.profit)," lucro"]})]})]},We))})]}),c.jsxs("div",{className:"premium-card p-10 bg-white shadow-xl flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] flex items-center gap-3",children:[c.jsx(bU,{size:16,className:"text-blue-600"})," Industrial Analytics"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-200"})]})]}),c.jsx("div",{className:"flex-1 flex flex-col justify-between",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-5 rounded-2xl bg-slate-50 border border-slate-100 group hover:border-blue-200 transition-all",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Eficcia de Recebimento"}),c.jsxs("span",{className:"text-xs font-black text-blue-600",children:[ar.efficacy.toFixed(1),"%"]})]}),c.jsx("div",{className:"h-1.5 w-full bg-white rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-600 transition-all duration-1000",style:{width:`${Math.min(100,ar.efficacy)}%`}})})]}),c.jsxs("div",{className:"p-5 rounded-2xl bg-slate-50 border border-slate-100 group hover:border-emerald-200 transition-all",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Giro de Ativo (Estoque)"}),c.jsxs("span",{className:"text-xs font-black text-emerald-600",children:[ar.turnover.toFixed(1),"x / ciclo"]})]}),c.jsx("div",{className:"h-1.5 w-full bg-white rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-1000",style:{width:`${Math.min(100,ar.turnover*10)}%`}})})]})]})})]})]})]}),w==="cashflow"&&c.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8 animate-reveal",children:[c.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[c.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-10 text-white shadow-2xl shadow-blue-900/20",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full shadow-[0_0_12px_rgba(59,130,246,0.8)]"}),c.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.4em]",children:"Saldo Atualizado"})]}),c.jsx("h3",{className:`text-5xl font-black tracking-tighter mb-12 ${bn>=0?"text-white":"text-rose-400"}`,children:kt(bn)}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>{C(!0),ae({...ce,tipo:"ENTRADA"})},className:"w-full btn-modern bg-blue-600 hover:bg-white hover:text-blue-700 text-white py-5 rounded-2xl gap-4 shadow-xl transition-all font-black text-xs uppercase tracking-widest",children:[c.jsx(Tf,{size:20})," Lanar Entrada"]}),c.jsxs("button",{onClick:()=>{C(!0),ae({...ce,tipo:"SAIDA"})},className:"w-full btn-modern bg-white/5 border border-white/10 hover:bg-rose-600 text-white py-5 rounded-2xl gap-4 transition-all font-black text-xs uppercase tracking-widest",children:[c.jsx(T1,{size:20})," Lanar Sada"]})]})]}),c.jsxs("div",{className:"premium-card p-10 bg-white",children:[c.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[c.jsx(B3,{size:16,className:"text-blue-600"})," Parmetros de Filtro"]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Perodo Inicial"}),c.jsx("input",{type:"date",className:"modern-input h-14",value:re,onChange:ue=>J(ue.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Perodo Final"}),c.jsx("input",{type:"date",className:"modern-input h-14",value:Z,onChange:ue=>oe(ue.target.value)})]})]})]})]}),c.jsx("div",{className:"lg:col-span-8",children:c.jsxs("div",{className:"premium-card overflow-hidden",children:[c.jsxs("div",{className:"p-8 bg-slate-50/50 border-b border-slate-50 flex flex-wrap justify-between items-center gap-4",children:[c.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Buffer de Movimentaes"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"px-4 py-1.5 bg-white rounded-full border border-slate-100 text-[10px] font-black text-slate-900 shadow-sm",children:[Lr.length," Registros"]}),c.jsxs("button",{onClick:()=>{const ue=new Wt,We=ue.internal.pageSize.width;ue.setFillColor(15,23,42),ue.rect(15,10,We-30,28,"F"),ue.setFont("courier","bold"),ue.setFontSize(28),ue.setTextColor(255,255,255),ue.text("THIAGO",22,28),ue.setFontSize(32),ue.setTextColor(59,130,246),ue.text("704",68,32),ue.setFillColor(59,130,246),ue.rect(15,38,We-30,2,"F"),ue.setFont("helvetica","bold"),ue.setFontSize(14),ue.setTextColor(15,23,42),ue.text("FLUXO DE CAIXA",We/2,50,{align:"center"}),ue.setFontSize(10),ue.setTextColor(100,116,139),ue.text(`Perodo: ${re}  a  ${Z}`,We/2,58,{align:"center"}),ue.text(`Gerado: ${new Date().toLocaleString("pt-BR")}`,We/2,65,{align:"center"}),ue.setDrawColor(200,200,200),ue.line(15,70,We-15,70);const Gt=Lr.filter(Zt=>Zt.tipo==="ENTRADA").reduce((Zt,Me)=>Zt+Me.valor,0),sn=Lr.filter(Zt=>Zt.tipo==="SAIDA").reduce((Zt,Me)=>Zt+Me.valor,0),zt=Gt-sn;ue.setFont("helvetica","bold"),ue.setFontSize(11),ue.setTextColor(16,185,129),ue.text(`ENTRADAS:  R$ ${Gt.toFixed(2)}`,18,80),ue.setTextColor(239,68,68),ue.text(`SADAS:  R$ ${sn.toFixed(2)}`,85,80),ue.setTextColor(15,23,42),ue.text(`SALDO:  R$ ${zt.toFixed(2)}`,148,80),ue.setDrawColor(200,200,200),ue.line(15,86,We-15,86);let Ft=96;ue.setFillColor(235,240,245),ue.rect(15,Ft-6,We-30,10,"F"),ue.setFontSize(9),ue.setFont("helvetica","bold"),ue.setTextColor(15,23,42),ue.text("DATA",18,Ft),ue.text("DESCRIO",48,Ft),ue.text("CATEGORIA",125,Ft),ue.text("VALOR",We-18,Ft,{align:"right"}),Ft+=10,ue.setFontSize(10),Lr.forEach(Zt=>{Ft>270&&(ue.addPage(),Ft=25),ue.setFont("helvetica","bold"),ue.setTextColor(80,80,80),ue.text(new Date(Zt.data).toLocaleDateString("pt-BR"),18,Ft),ue.setTextColor(15,23,42),ue.text((Zt.descricao||"").substring(0,38),48,Ft),ue.setFontSize(8),ue.setTextColor(100,116,139),ue.text(Zt.categoria||"",125,Ft),ue.setFontSize(10),ue.setFont("helvetica","bold"),Zt.tipo==="ENTRADA"?ue.setTextColor(16,185,129):ue.setTextColor(239,68,68),ue.text(`${Zt.tipo==="ENTRADA"?"+":"-"} R$ ${Zt.valor.toFixed(2)}`,We-18,Ft,{align:"right"}),Ft+=8}),Ft+=8,ue.setFillColor(15,23,42),ue.rect(15,Ft,We-30,12,"F"),ue.setFont("courier","bold"),ue.setFontSize(8),ue.setTextColor(255,255,255),ue.text("THIAGO 704  //  FRIGOGEST PRO X  //  DOCUMENTO OFICIAL",We/2,Ft+8,{align:"center"}),ue.save(`FLUXO_CAIXA_${re}_${Z}.pdf`)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-blue-700 transition-all shadow-sm",children:[c.jsx(O1,{size:14})," Exportar PDF"]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"technical-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"w-24",children:"Data"}),c.jsx("th",{children:"Histrico Operacional"}),c.jsx("th",{children:"Vnculo / Categoria"}),c.jsx("th",{className:"text-right",children:"Valor Lquido"}),c.jsx("th",{className:"w-16 text-center",children:"Aes"})]})}),c.jsxs("tbody",{children:[Lr.map(ue=>{var We;return c.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[c.jsx("td",{className:"text-[10px] font-bold text-slate-400 group-hover:text-slate-900",children:new Date(ue.data).toLocaleDateString()}),c.jsxs("td",{className:"font-extrabold text-slate-900 uppercase text-xs truncate max-w-sm italic",children:['"',ue.descricao,'"']}),c.jsx("td",{children:c.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-3 py-1 rounded-lg border ${ue.categoria==="ESTORNO"?"bg-amber-50 text-amber-600 border-amber-200":"bg-slate-50 text-slate-400 border-slate-100"}`,children:ue.categoria})}),c.jsxs("td",{className:`text-right font-black text-sm ${ue.tipo==="ENTRADA"?"text-emerald-600":"text-rose-600"}`,children:[ue.tipo==="ENTRADA"?"+":"-"," ",kt(ue.valor)]}),c.jsx("td",{className:"text-center",children:ue.categoria!=="ESTORNO"&&!((We=ue.id)!=null&&We.startsWith("TR-ESTORNO-"))&&c.jsx("button",{onClick:()=>{window.confirm(`Estornar transao?

"${ue.descricao}"
Valor: ${kt(ue.valor)}

Uma transao inversa ser criada.`)&&o(ue.id)},className:"w-8 h-8 bg-slate-50 text-slate-300 hover:bg-amber-50 hover:text-amber-600 rounded-lg transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",title:"Estornar transao",children:c.jsx(hp,{size:14})})})]},ue.id)}),Lr.length===0&&c.jsx("tr",{children:c.jsxs("td",{colSpan:5,className:"py-32 text-center",children:[c.jsx(Rs,{size:64,className:"mx-auto mb-6 text-slate-100"}),c.jsx("p",{className:"font-black text-[10px] uppercase text-slate-300 tracking-[0.4em]",children:"Nenhum registro no perodo"})]})})]})]})})]})})]}),w==="receivables"&&c.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 animate-reveal",children:[ma.length>0&&c.jsxs("div",{className:"bg-rose-600 rounded-[40px] text-white p-10 flex flex-col md:flex-row items-center justify-between shadow-2xl shadow-rose-900/20 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:c.jsx(wc,{size:160})}),c.jsxs("div",{className:"flex items-center gap-8 relative z-10",children:[c.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-3xl flex items-center justify-center backdrop-blur-lg",children:c.jsx(E0,{size:40})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-3xl font-black tracking-tight uppercase leading-none italic mb-2",children:"Protocolo de Inadimplncia"}),c.jsx("p",{className:"text-xs font-bold opacity-80 uppercase tracking-widest max-w-sm",children:"Detectamos pendncias crticas com mais de 30 dias de atraso nas transaes."})]})]}),c.jsx("button",{onClick:()=>I("CRITICAL"),className:"btn-modern bg-white text-rose-600 px-10 py-5 rounded-2xl hover:bg-slate-900 hover:text-white transition-all shadow-xl font-black text-xs uppercase tracking-widest mt-6 md:mt-0 relative z-10",children:"Auditar Inadimplentes"})]}),c.jsxs("div",{className:"premium-card overflow-hidden bg-white shadow-xl",children:[c.jsxs("div",{className:"p-8 bg-slate-50/50 border-b border-slate-50 flex flex-wrap gap-6 items-center",children:[c.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mr-auto flex items-center gap-2",children:[c.jsx(du,{size:16,className:"text-blue-600"})," Fila de Compensao"]}),c.jsxs("div",{className:"flex p-1.5 bg-white rounded-2xl border border-slate-100 shadow-inner",children:[c.jsx("button",{onClick:()=>I("ALL"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${k==="ALL"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Todos"}),c.jsx("button",{onClick:()=>I("OVERDUE"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${k==="OVERDUE"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Vencidos"}),c.jsx("button",{onClick:()=>I("CRITICAL"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${k==="CRITICAL"?"bg-rose-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Crticos"})]})]}),c.jsxs("div",{className:"px-8 py-4 bg-white border-b border-slate-50 grid grid-cols-2 md:grid-cols-4 gap-3 items-end",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filtrar Cliente"}),c.jsxs("select",{value:ee,onChange:ue=>_e(ue.target.value),className:"modern-input h-10 py-0 text-xs font-bold",children:[c.jsx("option",{value:"",children:"TODOS"}),Array.from(new Set(It.map(ue=>ue.nome_cliente||"Desconhecido"))).sort().map(ue=>c.jsx("option",{value:ue,children:ue},ue))]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filtrar Lote"}),c.jsxs("select",{value:me,onChange:ue=>be(ue.target.value),className:"modern-input h-10 py-0 text-xs font-bold",children:[c.jsx("option",{value:"",children:"TODOS"}),Array.from(new Set(It.map(ue=>ue.id_completo.split("-").slice(0,3).join("-")))).sort().map(ue=>c.jsx("option",{value:ue,children:ue},ue))]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Incio"}),c.jsx("input",{type:"date",value:Se,onChange:ue=>Ae(ue.target.value),className:"modern-input h-10 py-0 text-xs"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Fim"}),c.jsx("input",{type:"date",value:Je,onChange:ue=>Le(ue.target.value),className:"modern-input h-10 py-0 text-xs"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"technical-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Vencimento"}),c.jsx("th",{children:"Status de Risco"}),c.jsx("th",{children:"Entidade / Destino"}),c.jsx("th",{className:"text-right",children:"Saldo Devedor"}),c.jsx("th",{className:"w-56 text-center",children:"Operaes"})]})}),c.jsxs("tbody",{children:[It.filter(ue=>{if(ee&&ue.nome_cliente!==ee||me&&!ue.id_completo.includes(me)||Se&&ue.data_vencimento<Se||Je&&ue.data_vencimento>Je)return!1;const We=ue.data_vencimento<pa;return k==="OVERDUE"?We:k==="CRITICAL"?ue.data_vencimento<Tr:!0}).sort((ue,We)=>We.data_vencimento.localeCompare(ue.data_vencimento)).map(ue=>{const{saldoDevedor:We}=Jt(ue),Gt=ue.data_vencimento<pa,sn=Math.ceil(Math.abs(new Date(pa).getTime()-new Date(ue.data_vencimento).getTime())/864e5);return c.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${Gt?"bg-rose-50/10":""}`,children:[c.jsx("td",{children:c.jsx("span",{className:`text-[11px] font-extrabold ${Gt?"text-rose-600":"text-slate-400"}`,children:new Date(ue.data_vencimento).toLocaleDateString()})}),c.jsx("td",{children:c.jsx("div",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest inline-flex border ${Gt?"bg-rose-50 text-rose-600 border-rose-100 shadow-sm":"bg-emerald-50 text-emerald-600 border-emerald-100"}`,children:Gt?`${sn} DIAS DE ATRASO`:"DENTRO DO PRAZO"})}),c.jsxs("td",{children:[c.jsxs("p",{className:"font-extrabold text-slate-900 uppercase text-xs italic",children:['"',ue.nome_cliente||"Mercado Geral",'"']}),c.jsxs("span",{className:"text-[9px] font-bold text-slate-300 uppercase tracking-widest",children:["Comp: ",ue.id_completo]})]}),c.jsx("td",{className:"text-right",children:c.jsx("span",{className:"text-lg font-black text-slate-900 tracking-tight",children:kt(We)})}),c.jsx("td",{className:"text-center",children:c.jsxs("button",{onClick:()=>nt(ue),className:"btn-modern bg-slate-900 text-white py-2.5 px-6 rounded-xl text-[9px] uppercase font-black tracking-widest hover:bg-emerald-600 gap-2 shadow-lg group-hover:scale-105 transition-all",children:[c.jsx(k0,{size:14})," Efetuar Baixa"]})})]},ue.id_venda)}),It.length===0&&c.jsx("tr",{children:c.jsxs("td",{colSpan:5,className:"py-32 text-center opacity-20",children:[c.jsx(ic,{size:80,className:"mx-auto mb-6"}),c.jsx("p",{className:"font-black text-xs uppercase tracking-[0.6em]",children:"Nenhuma pendncia ativa"})]})})]})]})})]})]}),w==="payables"&&c.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 animate-reveal",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[c.jsx("div",{className:"flex p-1.5 bg-white rounded-2xl border border-slate-100 shadow-sm",children:["ALL","PENDING","LATE","PAID"].map(ue=>c.jsx("button",{onClick:()=>F(ue),className:`px-8 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${D===ue?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:ue==="ALL"?"Tudo":ue==="PENDING"?"Em Aberto":ue==="LATE"?"Crticas":"Liquidadas"},ue))}),c.jsxs("button",{onClick:()=>q(!0),className:"btn-modern bg-blue-600 text-white hover:bg-slate-900 px-8 py-4 rounded-2xl gap-3 shadow-xl shadow-blue-900/10 font-black text-xs uppercase tracking-widest",children:[c.jsx(Tf,{size:20})," Nova Obrigao"]})]}),c.jsxs("div",{className:"premium-card overflow-hidden shadow-xl",children:[c.jsxs("div",{className:"px-8 py-4 bg-slate-50/50 border-b border-slate-100 grid grid-cols-2 md:grid-cols-4 gap-3 items-end",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filtrar Lote"}),c.jsxs("select",{value:ye,onChange:ue=>ge(ue.target.value),className:"modern-input h-10 py-0 text-xs font-bold",children:[c.jsx("option",{value:"",children:"TODOS"}),Array.from(new Set(f.map(ue=>ue.id_lote).filter(Boolean))).sort().map(ue=>c.jsx("option",{value:ue,children:ue},ue))]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filtrar Fornecedor"}),c.jsxs("select",{value:le,onChange:ue=>P(ue.target.value),className:"modern-input h-10 py-0 text-xs font-bold",children:[c.jsx("option",{value:"",children:"TODOS"}),Array.from(new Set(f.map(ue=>{const We=ue.descricao.split(" - ");return We.length>1?We[We.length-1]:null}).filter(Boolean))).sort().map(ue=>c.jsx("option",{value:ue,children:ue},ue))]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Incio"}),c.jsx("input",{type:"date",value:H,onChange:ue=>Q(ue.target.value),className:"modern-input h-10 py-0 text-xs"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Fim"}),c.jsx("input",{type:"date",value:K,onChange:ue=>X(ue.target.value),className:"modern-input h-10 py-0 text-xs"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"technical-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"w-20 text-center",children:"STS"}),c.jsx("th",{children:"Vencimento"}),c.jsx("th",{children:"Entidade / Descrio do Passivo"}),c.jsx("th",{className:"text-right",children:"Saldo Remanescente"}),c.jsx("th",{className:"w-40 text-center",children:"Buffer Ao"})]})}),c.jsx("tbody",{children:f.filter(ue=>ue.status==="ESTORNADO"||ue.status==="CANCELADO"||ye&&ue.id_lote!==ye&&!(ue.descricao&&ue.descricao.includes(ye))||le&&!(ue.descricao&&ue.descricao.includes(le))||H&&ue.data_vencimento<H||K&&ue.data_vencimento>K?!1:D==="ALL"?!0:D==="LATE"?ue.status!=="PAGO"&&ue.data_vencimento<pa:D==="PENDING"?ue.status!=="PAGO":ue.status==="PAGO").sort((ue,We)=>We.data_vencimento.localeCompare(ue.data_vencimento)).map(ue=>{const We=ue.status!=="PAGO"&&ue.data_vencimento<pa;return c.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${We?"bg-rose-50/10":""}`,children:[c.jsx("td",{className:"text-center",children:c.jsx("div",{className:`w-3.5 h-3.5 rounded-full mx-auto transition-all ${ue.status==="PAGO"?"bg-emerald-500 shadow-[0_0_12px_rgba(16,185,129,0.5)]":We?"animate-pulse bg-rose-600 shadow-[0_0_12px_rgba(225,29,72,0.5)]":"bg-slate-200 shadow-inner"}`})}),c.jsx("td",{className:"text-[11px] font-extrabold text-slate-400 group-hover:text-slate-900",children:new Date(ue.data_vencimento).toLocaleDateString()}),c.jsxs("td",{children:[c.jsxs("p",{className:"font-extrabold text-slate-800 uppercase text-xs italic transition-all group-hover:translate-x-1",children:['"',ue.descricao,'"']}),c.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest bg-slate-50 px-2 py-0.5 rounded-md mt-1 inline-block border border-slate-100",children:ue.categoria})]}),c.jsx("td",{className:"text-right",children:c.jsx("span",{className:"text-lg font-black text-slate-900 tracking-tight",children:kt(ue.valor-(ue.valor_pago||0))})}),c.jsx("td",{className:"text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-3",children:[ue.status!=="PAGO"&&c.jsx("button",{onClick:()=>{Vt(ue),Zn((ue.valor-(ue.valor_pago||0)).toFixed(2).replace(".",","))},className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center shadow-sm",children:c.jsx(Nd,{size:18})}),c.jsx("button",{onClick:()=>{window.confirm(`Estornar conta a pagar?

"${ue.descricao}"
Valor: ${kt(ue.valor)}
${ue.valor_pago&&ue.valor_pago>0?`J pago: ${kt(ue.valor_pago)}  ser devolvido ao caixa`:"Nenhum pagamento realizado  ser cancelada"}`)&&y(ue.id)},className:"w-10 h-10 bg-slate-50 text-slate-300 hover:bg-amber-50 hover:text-amber-600 rounded-xl transition-all flex items-center justify-center",title:"Estornar conta",children:c.jsx(hp,{size:18})})]})})]},ue.id)})})]})})]})]}),w==="profit"&&c.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 animate-reveal",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{label:"Receita Bruta Acumulada",value:Or.revenue,color:"blue",icon:O0},{label:"Custo Logstico (CGS)",value:Or.cgs,color:"rose",icon:uc},{label:"Fator Extras / Operacional",value:Or.ops,color:"orange",icon:$U},{label:"Lucro Lquido Sincronizado",value:Or.profit,color:"emerald",large:!0,icon:Rs}].map((ue,We)=>c.jsxs("div",{className:`premium-card p-10 flex flex-col justify-center gap-6 relative overflow-hidden group transition-all hover:-translate-y-2 ${ue.large?"bg-slate-900 text-white shadow-2xl shadow-blue-900/30":"bg-white"}`,children:[ue.large&&c.jsx("div",{className:"absolute top-[-10%] right-[-10%] opacity-10 pointer-events-none transform rotate-12",children:c.jsx(ue.icon,{size:160})}),c.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center mb-2 ${ue.large?"bg-blue-600 text-white":"bg-slate-50 text-slate-400 group-hover:bg-slate-900 group-hover:text-white transition-colors"}`,children:c.jsx(ue.icon,{size:22})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-[10px] font-black uppercase tracking-widest ${ue.large?"text-blue-400":"text-slate-400"} mb-2`,children:ue.label}),c.jsx("h3",{className:`text-4xl font-black tracking-tight ${ue.large?"text-blue-100":"text-slate-900"}`,children:kt(ue.value)})]})]},We))}),c.jsxs("div",{className:"premium-card p-24 bg-white flex flex-col items-center justify-center border-dashed border-2 border-slate-100 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-slate-50/10 pointer-events-none"}),c.jsxs("div",{className:"relative z-10 text-center",children:[c.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-[32px] flex items-center justify-center mx-auto mb-8 shadow-inner animate-pulse",children:c.jsx(HD,{size:48,className:"text-slate-200"})}),c.jsx("h4",{className:"font-black text-xs uppercase tracking-[0.8em] text-slate-300",children:"Visualizao de Grficos Analticos"}),c.jsx("p",{className:"text-[10px] font-bold text-slate-200 uppercase tracking-widest mt-4",children:"Processando Motor de Inteligncia BI..."})]})]})]}),w==="suppliers"&&(()=>{const ue=new Map;f.filter(Me=>Me.categoria==="COMPRA_GADO"&&Me.status!=="ESTORNADO"&&Me.status!=="CANCELADO").forEach(Me=>{let Et=Me.fornecedor_id||"";if(!Et&&Me.descricao){const Mt=Me.descricao.split(" - ");Mt.length>1&&(Et=Mt[Mt.length-1].trim())}Et||(Et="No Identificado"),ue.has(Et)||ue.set(Et,[]),ue.get(Et).push({descricao:Me.descricao,lote:Me.id_lote||(Me.descricao.match(/LOTE-[A-Z0-9]+-\d+/)||[""])[0]||"-",valor:Me.valor,valorPago:Me.valor_pago||0,dataPagamento:Me.data_pagamento||"-",dataVencimento:Me.data_vencimento,status:Me.status})}),a.filter(Me=>Me.tipo==="SAIDA"&&Me.categoria==="COMPRA_GADO"&&!Me.id.startsWith("TR-PAY-")&&!Me.id.startsWith("TR-ESTORNO-")).forEach(Me=>{var kr,Cr;let Et="";if(Me.descricao){const kn=Me.descricao.split(" - ");kn.length>1&&(Et=kn[kn.length-1].trim())}Et||(Et="No Identificado");const Mt=((kr=Me.descricao)==null?void 0:kr.match(/LOTE-[A-Z0-9]+-\d+/))||((Cr=Me.referencia_id)==null?void 0:Cr.match(/LOTE-[A-Z0-9]+-\d+/));ue.has(Et)||ue.set(Et,[]),ue.get(Et).push({descricao:Me.descricao||"",lote:Mt?Mt[0]:Me.referencia_id||"-",valor:Me.valor,valorPago:Me.valor,dataPagamento:Me.data,dataVencimento:Me.data,status:"PAGO"})});const We=Array.from(ue.entries()).sort((Me,Et)=>Me[0].localeCompare(Et[0])),Gt=We.map(([Me])=>Me),sn=Array.from(new Set(We.flatMap(([,Me])=>Me.map(Et=>Et.lote)).filter(Me=>Me&&Me!=="-"))).sort(),zt=(V==="ALL"?We:We.filter(([Me])=>Me===V)).map(([Me,Et])=>[Me,M==="ALL"?Et:Et.filter(Mt=>Mt.lote===M)]).filter(([,Me])=>Me.length>0),Ft=zt.reduce((Me,[,Et])=>Me+Et.reduce((Mt,kr)=>Mt+kr.valor,0),0),Zt=zt.reduce((Me,[,Et])=>Me+Et.reduce((Mt,kr)=>Mt+kr.valorPago,0),0);return c.jsxs("div",{className:"max-w-7xl mx-auto space-y-4 animate-reveal",children:[c.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[c.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-3 py-1.5 shadow-sm flex items-center gap-2",children:[c.jsx(B3,{size:12,className:"text-blue-500"}),c.jsxs("select",{className:"text-[10px] font-black text-slate-700 uppercase bg-transparent outline-none cursor-pointer pr-4",value:V,onChange:Me=>U(Me.target.value),children:[c.jsx("option",{value:"ALL",children:"TODOS FORNECEDORES"}),Gt.map(Me=>c.jsx("option",{value:Me,children:Me},Me))]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-3 py-1.5 shadow-sm flex items-center gap-2",children:[c.jsx(ZU,{size:12,className:"text-blue-500"}),c.jsxs("select",{className:"text-[10px] font-black text-slate-700 uppercase bg-transparent outline-none cursor-pointer pr-4",value:M,onChange:Me=>R(Me.target.value),children:[c.jsx("option",{value:"ALL",children:"TODOS LOTES"}),sn.map(Me=>c.jsx("option",{value:Me,children:Me},Me))]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-4 py-2 shadow-sm flex items-center gap-3",children:[c.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:"Fornecedores"}),c.jsx("span",{className:"text-lg font-black text-slate-900",children:zt.length})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-4 py-2 shadow-sm flex items-center gap-3",children:[c.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:"Total"}),c.jsx("span",{className:"text-lg font-black text-slate-900",children:kt(Ft)})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-4 py-2 shadow-sm flex items-center gap-3",children:[c.jsx("span",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-wider",children:"Pago"}),c.jsx("span",{className:"text-lg font-black text-emerald-600",children:kt(Zt)})]}),Ft-Zt>.01&&c.jsxs("div",{className:"bg-white rounded-xl border border-orange-100 px-4 py-2 shadow-sm flex items-center gap-3",children:[c.jsx("span",{className:"text-[9px] font-black text-orange-500 uppercase tracking-wider",children:"Pendente"}),c.jsx("span",{className:"text-lg font-black text-orange-500",children:kt(Ft-Zt)})]}),c.jsxs("button",{onClick:()=>{const Me=new Wt,Et=Me.internal.pageSize.width;Me.setFillColor(15,23,42),Me.rect(15,10,Et-30,28,"F"),Me.setFont("courier","bold"),Me.setFontSize(28),Me.setTextColor(255,255,255),Me.text("THIAGO",22,28),Me.setFontSize(32),Me.setTextColor(59,130,246),Me.text("704",68,32),Me.setFillColor(59,130,246),Me.rect(15,38,Et-30,2,"F"),Me.setFont("helvetica","bold"),Me.setFontSize(14),Me.setTextColor(15,23,42),Me.text("PAGAMENTOS A FORNECEDORES",Et/2,50,{align:"center"}),Me.setFontSize(10),Me.setTextColor(100,116,139),Me.text(`Gerado: ${new Date().toLocaleString("pt-BR")}`,Et/2,58,{align:"center"}),Me.setDrawColor(200,200,200),Me.line(15,63,Et-15,63),Me.setFont("helvetica","bold"),Me.setFontSize(11),Me.setTextColor(15,23,42),Me.text(`TOTAL:  R$ ${Ft.toFixed(2)}`,18,73),Me.setTextColor(16,185,129),Me.text(`PAGO:  R$ ${Zt.toFixed(2)}`,85,73),Ft-Zt>.01&&(Me.setTextColor(239,68,68),Me.text(`PENDENTE:  R$ ${(Ft-Zt).toFixed(2)}`,148,73)),Me.line(15,79,Et-15,79);let Mt=90;zt.forEach(([kr,Cr])=>{Mt>255&&(Me.addPage(),Mt=25);const kn=Cr.reduce((zn,Oi)=>zn+Oi.valor,0),Ir=Cr.reduce((zn,Oi)=>zn+Oi.valorPago,0);Me.setFillColor(230,235,242),Me.rect(15,Mt-5,Et-30,10,"F"),Me.setFont("helvetica","bold"),Me.setFontSize(10),Me.setTextColor(15,23,42),Me.text(`${kr}  (${Cr.length})`,18,Mt+1),Me.setFontSize(9),Me.text(`Total: R$ ${kn.toFixed(2)}`,115,Mt+1),Me.setTextColor(16,185,129),Me.text(`Pago: R$ ${Ir.toFixed(2)}`,158,Mt+1),Mt+=10,Me.setFontSize(8),Me.setFont("helvetica","bold"),Me.setTextColor(100,116,139),Me.text("DATA",22,Mt),Me.text("LOTE",52,Mt),Me.text("VALOR",120,Mt,{align:"right"}),Me.text("PAGO",152,Mt,{align:"right"}),Me.text("STATUS",Et-18,Mt,{align:"right"}),Mt+=7,Me.setFont("helvetica","bold"),Me.setFontSize(9),Cr.forEach(zn=>{Mt>270&&(Me.addPage(),Mt=25),Me.setTextColor(80,80,80),Me.text(zn.dataPagamento!=="-"?new Date(zn.dataPagamento).toLocaleDateString("pt-BR"):"-",22,Mt),Me.setTextColor(59,130,246),Me.text(zn.lote,52,Mt),Me.setTextColor(15,23,42),Me.text(`R$ ${zn.valor.toFixed(2)}`,120,Mt,{align:"right"}),Me.setTextColor(16,185,129),Me.text(zn.valorPago>0?`R$ ${zn.valorPago.toFixed(2)}`:"-",152,Mt,{align:"right"}),Me.setTextColor(zn.status==="PAGO"?16:zn.status==="PARCIAL"?234:239,zn.status==="PAGO"?185:zn.status==="PARCIAL"?138:68,zn.status==="PAGO"?129:zn.status==="PARCIAL"?42:68),Me.text(zn.status,Et-18,Mt,{align:"right"}),Mt+=7}),Mt+=5}),Mt+=8,Mt>280&&(Me.addPage(),Mt=25),Me.setFillColor(15,23,42),Me.rect(15,Mt,Et-30,12,"F"),Me.setFont("courier","bold"),Me.setFontSize(8),Me.setTextColor(255,255,255),Me.text("THIAGO 704  //  FRIGOGEST PRO X  //  DOCUMENTO OFICIAL",Et/2,Mt+8,{align:"center"}),Me.save(`FORNECEDORES_${new Date().toISOString().split("T")[0]}.pdf`)},className:"bg-blue-600 text-white rounded-xl px-4 py-2 shadow-sm flex items-center gap-2 text-[9px] font-black uppercase tracking-wider hover:bg-blue-700 transition-all",children:[c.jsx(O1,{size:14})," Exportar PDF"]})]}),c.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left border-collapse",style:{fontSize:"11px"},children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[c.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"Fornecedor"}),c.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"Data Pgto"}),c.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"Lote"}),c.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider text-right",children:"Valor"}),c.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider text-right",children:"Pago"}),c.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider text-center",children:"Status"})]})}),c.jsx("tbody",{children:zt.map(([Me,Et])=>{const Mt=Et.reduce((kn,Ir)=>kn+Ir.valor,0),kr=Et.reduce((kn,Ir)=>kn+Ir.valorPago,0),Cr=[...Et].sort((kn,Ir)=>Ir.dataVencimento.localeCompare(kn.dataVencimento));return c.jsxs(Ce.Fragment,{children:[c.jsxs("tr",{className:"bg-slate-100/80 border-t-2 border-slate-200",children:[c.jsx("td",{className:"px-3 py-1.5 font-black text-xs text-slate-800 uppercase",colSpan:3,children:c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(uc,{size:12,className:"text-blue-500"}),Me,c.jsxs("span",{className:"text-[8px] font-bold text-slate-400 ml-1",children:["(",Et.length,")"]})]})}),c.jsx("td",{className:"px-3 py-1.5 text-right font-black text-xs text-slate-700",children:kt(Mt)}),c.jsx("td",{className:"px-3 py-1.5 text-right font-black text-xs text-emerald-600",children:kt(kr)}),c.jsx("td",{className:"px-3 py-1.5 text-center",children:Mt-kr>.01&&c.jsxs("span",{className:"text-[8px] font-black text-orange-500",children:["DEVE ",kt(Mt-kr)]})})]}),Cr.map((kn,Ir)=>c.jsxs("tr",{className:"border-b border-slate-50 hover:bg-blue-50/40 transition-colors",children:[c.jsx("td",{className:"px-3 py-1.5 pl-8 text-[10px] text-slate-300",children:""}),c.jsx("td",{className:"px-3 py-1.5 text-[10px] font-semibold text-slate-500",children:kn.dataPagamento!=="-"?new Date(kn.dataPagamento).toLocaleDateString():"-"}),c.jsx("td",{className:"px-3 py-1.5",children:c.jsx("span",{className:"text-[9px] font-mono font-bold text-blue-600 bg-blue-50 px-1.5 py-0.5 rounded border border-blue-100",children:kn.lote})}),c.jsx("td",{className:"px-3 py-1.5 text-right font-bold text-xs text-slate-700",children:kt(kn.valor)}),c.jsx("td",{className:"px-3 py-1.5 text-right font-bold text-xs text-emerald-600",children:kn.valorPago>0?kt(kn.valorPago):"-"}),c.jsx("td",{className:"px-3 py-1.5 text-center",children:c.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase ${kn.status==="PAGO"?"bg-emerald-50 text-emerald-600":kn.status==="PARCIAL"?"bg-orange-50 text-orange-600":"bg-rose-50 text-rose-600"}`,children:kn.status})})]},Ir))]},Me)})})]})})}),zt.length===0&&c.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-12 text-center",children:[c.jsx(uc,{size:40,className:"mx-auto mb-4 text-slate-200"}),c.jsx("p",{className:"font-black text-[9px] uppercase text-slate-300 tracking-[0.3em]",children:"Nenhum pagamento a fornecedor registrado"})]})]})})(),(Ye||At||T||B)&&c.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-xl animate-reveal",children:c.jsxs("div",{className:"bg-white rounded-[48px] shadow-3xl w-full max-w-lg overflow-hidden flex flex-col border border-white relative",children:[c.jsxs("div",{className:"bg-slate-900 p-10 flex justify-between items-center text-white relative",children:[c.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 pointer-events-none",children:c.jsx(q3,{size:120})}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight italic",children:"Terminal Financeiro"}),c.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mt-1",children:"Sincronizador de Dados Ativo"})]}),c.jsx("button",{onClick:()=>{nt(null),Vt(null),C(!1),q(!1)},className:"w-14 h-14 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center hover:bg-rose-600 hover:border-rose-500 transition-all group relative z-10",children:c.jsx(hu,{size:24,className:"text-white group-hover:rotate-90 transition-transform"})})]}),c.jsxs("div",{className:"p-12 space-y-10 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[Ye&&c.jsxs("div",{className:"space-y-8 animate-reveal",children:[c.jsxs("div",{className:"p-8 bg-slate-50 rounded-[32px] border border-slate-100 shadow-inner relative",children:[c.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Compensao de Cliente"}),c.jsxs("p",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter italic",children:['"',Ye.nome_cliente,'"']}),c.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200",children:[c.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase mb-2 tracking-widest",children:"Saldo Pendente em Buffer"}),c.jsx("p",{className:"text-4xl font-black text-slate-900 tracking-tight",children:kt(Jt(Ye).saldoDevedor)})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Valor Recebido (R$)"}),c.jsx("input",{type:"text",placeholder:"0,00",className:"modern-input h-20 text-4xl font-black text-center bg-blue-50/30 border-blue-100",value:tt,onChange:ue=>Ge(ue.target.value)})]}),c.jsxs("div",{className:"p-6 bg-orange-50/50 border-2 border-orange-100 rounded-3xl space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center",children:c.jsx(T1,{size:20,className:"text-white"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-black text-orange-600 uppercase tracking-widest",children:"Desconto por Avaria"}),c.jsx("p",{className:"text-[9px] font-bold text-orange-400 uppercase tracking-wider",children:"Carne machucada / Transporte"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest px-2",children:"Valor do Desconto (R$)"}),c.jsx("input",{type:"text",placeholder:"0,00",className:"modern-input h-16 text-2xl font-black text-center bg-white border-orange-200",value:yt,onChange:ue=>vt(ue.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest px-2",children:"Motivo do Desconto"}),c.jsx("input",{type:"text",placeholder:"Ex: CARNE MACHUCADA NO TRANSPORTE",className:"modern-input h-14 text-xs bg-white border-orange-200 uppercase",value:_t,onChange:ue=>Bt(ue.target.value.toUpperCase())})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Forma de Recebimento"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{className:"modern-input h-14 bg-slate-50/30 appearance-none font-black text-xs uppercase cursor-pointer w-full",value:Ke,onChange:ue=>et(ue.target.value),children:[c.jsx("option",{value:"PIX",children:" PIX"}),c.jsx("option",{value:"DINHEIRO",children:" DINHEIRO"}),c.jsx("option",{value:"CHEQUE",children:" CHEQUE"}),c.jsx("option",{value:"TRANSFERENCIA",children:" TRANSFERNCIA"}),c.jsx("option",{value:"BOLETO",children:" BOLETO"}),c.jsx("option",{value:"CARTAO",children:" CARTO"}),c.jsx("option",{value:"OUTROS",children:" OUTROS"})]}),c.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none opacity-20",children:c.jsx(_c,{size:16,className:"rotate-90"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Data Recebimento"}),c.jsx("input",{type:"date",className:"modern-input h-14 font-bold text-xs",value:He,onChange:ue=>Ue(ue.target.value)})]})]}),c.jsxs("div",{className:"p-6 bg-slate-900 rounded-3xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Recebido:"}),c.jsx("span",{className:"text-lg font-black text-white",children:kt(parseFloat(tt.replace(",","."))||0)})]}),c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Desconto:"}),c.jsxs("span",{className:"text-lg font-black text-orange-400",children:["- ",kt(parseFloat(yt.replace(",","."))||0)]})]}),c.jsx("div",{className:"h-px bg-white/10 my-4"}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest",children:"Total Baixado:"}),c.jsx("span",{className:"text-3xl font-black text-white",children:kt((parseFloat(tt.replace(",","."))||0)+(parseFloat(yt.replace(",","."))||0))})]}),c.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[c.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Via:"}),c.jsx("span",{className:"text-sm font-black text-blue-400 uppercase",children:Ke})]})]}),c.jsx("button",{onClick:pn,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-emerald-600 shadow-2xl transition-all font-black uppercase tracking-widest text-xs",children:"Confirmar Recebimento"})]}),T&&c.jsxs("div",{className:"space-y-8 animate-reveal",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Histrico do Registro"}),c.jsx("input",{type:"text",placeholder:"Ex: Manuteno da Frota",className:"modern-input h-16 bg-slate-50/30",value:ce.descricao,onChange:ue=>ae({...ce,descricao:ue.target.value.toUpperCase()})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Montante (R$)"}),c.jsx("input",{type:"text",inputMode:"decimal",placeholder:"Valor",className:"modern-input h-16 font-black text-xl",value:ce.valor||"",onChange:ue=>{const We=ue.target.value.replace(",",".");(We===""||/^\d*\.?\d*$/.test(We))&&ae({...ce,valor:parseFloat(We)||0})}})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Data Valor"}),c.jsx("input",{type:"date",className:"modern-input h-16",value:ce.data,onChange:ue=>ae({...ce,data:ue.target.value})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Classificao Contbil"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{className:"modern-input h-16 bg-slate-50/30 appearance-none font-bold text-xs uppercase cursor-pointer",value:ce.categoria,onChange:ue=>ae({...ce,categoria:ue.target.value}),children:[c.jsx("option",{value:"OPERACIONAL",children:"OPERACIONAL"}),c.jsx("option",{value:"ESTRUTURA",children:"SEDENTARES / SEDE"}),c.jsx("option",{value:"FUNCIONARIOS",children:"SARGENTOS / FUNCIONRIOS"}),c.jsx("option",{value:"COMPRA_GADO",children:"MATRIA PRIMA / GADO"})]}),c.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 pointer-events-none opacity-20",children:c.jsx(_c,{size:20,className:"rotate-90"})})]})]}),c.jsx("button",{onClick:Ti,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-blue-600 shadow-2xl shadow-blue-900/10 transition-all font-black uppercase tracking-widest text-xs",children:"Efetuar Registro"})]}),B&&c.jsxs("div",{className:"space-y-8 animate-reveal",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Identificao do Passivo"}),c.jsx("input",{type:"text",placeholder:"Ex: Tributos Estaduais",className:"modern-input h-16 bg-slate-50/30",value:j.descricao,onChange:ue=>G({...j,descricao:ue.target.value.toUpperCase()})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Valor da Dvida"}),c.jsx("input",{type:"text",inputMode:"decimal",placeholder:"Valor",className:"modern-input h-16 font-black text-xl",value:j.valor||"",onChange:ue=>{const We=ue.target.value.replace(",",".");(We===""||/^\d*\.?\d*$/.test(We))&&G({...j,valor:parseFloat(We)||0})}})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Vencimento Fixo"}),c.jsx("input",{type:"date",className:"modern-input h-16",value:j.data_vencimento,onChange:ue=>G({...j,data_vencimento:ue.target.value})})]})]}),c.jsx("button",{onClick:()=>{p({...j,id:`PAY-${Date.now()}`,status:"PENDENTE"}),q(!1)},className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-orange-600 shadow-2xl transition-all font-black uppercase tracking-widest text-xs",children:"Agendar para Ciclo"})]}),At&&c.jsxs("div",{className:"space-y-8 animate-reveal",children:[c.jsxs("div",{className:"p-8 bg-rose-50 border border-rose-100 rounded-[32px] shadow-inner",children:[c.jsx("p",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest mb-3",children:"Baixa de Passivo / Sada"}),c.jsxs("p",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter italic",children:['"',At.descricao,'"']}),c.jsx("p",{className:"text-4xl font-black text-rose-600 mt-8 tracking-tight",children:kt(At.valor-(At.valor_pago||0))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Montante da Liquidao"}),c.jsx("input",{type:"text",className:"modern-input h-20 text-4xl font-black text-center bg-rose-50/30 border-rose-100",value:bt,onChange:ue=>Zn(ue.target.value)})]}),c.jsx("button",{onClick:mn,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-emerald-600 shadow-2xl transition-all font-black uppercase tracking-widest text-xs",children:"Confirmar Pagamento"})]})]}),c.jsx("div",{className:"p-8 bg-slate-50/50 text-center border-t border-slate-50 relative z-10",children:c.jsx("p",{className:"text-[8px] font-black text-slate-200 uppercase tracking-[0.5em]",children:"FG-FIN-TERMINAL v2.5.5"})})]})})]})},Ile=({stock:t,batches:e,sales:n,clients:r,initialSearchTerm:a,onBack:i,onGoToSales:o,estornoSale:u})=>{const[d,f]=ve.useState(a||""),[p,g]=ve.useState(a?"client":"date"),[y,x]=ve.useState(new Set),E=q=>{const D=new Set(y);D.has(q)?D.delete(q):D.add(q),x(D)},w=ve.useMemo(()=>n.map(q=>{const D=t.find(R=>R.id_completo===q.id_completo),F=(D==null?void 0:D.id_lote)||q.id_completo.split("-").slice(0,3).join("-"),k=e.find(R=>R.id_lote===F),I=r.find(R=>R.id_ferro===q.id_cliente),V=q.peso_real_saida*q.preco_venda_kg,U=k&&Number(k.custo_real_kg)||0,M=q.peso_real_saida*U+(q.custo_extras_total||0);return{sale:q,item:D,batch:k,client:I,revenue:V,cost:M,profit:V-M}}).filter(q=>{var F,k,I,V;if(!d)return!0;const D=d.toLowerCase();return((F=q.sale.nome_cliente)==null?void 0:F.toLowerCase().includes(D))||((k=q.item)==null?void 0:k.id_completo.toLowerCase().includes(D))||((I=q.batch)==null?void 0:I.id_lote.toLowerCase().includes(D))||((V=q.batch)==null?void 0:V.fornecedor.toLowerCase().includes(D))}).sort((q,D)=>D.sale.data_venda.localeCompare(q.sale.data_venda)),[n,t,e,r,d]),N=ve.useMemo(()=>w.reduce((q,D)=>({revenue:q.revenue+D.revenue,cost:q.cost+D.cost,profit:q.profit+D.profit,count:q.count+1}),{revenue:0,cost:0,profit:0,count:0}),[w]),T=ve.useMemo(()=>{const q=new Map;return w.forEach(D=>{var k,I;let F="";if(p==="date"){const V=new Date(D.sale.data_venda);F=`${V.getFullYear()}-${String(V.getMonth()+1).padStart(2,"0")}`}else p==="client"?F=((k=D.client)==null?void 0:k.id_ferro)||"unknown":p==="batch"&&(F=((I=D.batch)==null?void 0:I.id_lote)||"unknown");q.has(F)||q.set(F,[]),q.get(F).push(D)}),Array.from(q.entries()).map(([D,F])=>{const k=F.reduce((M,R)=>M+R.revenue,0),I=F.reduce((M,R)=>M+R.cost,0),V=F.reduce((M,R)=>M+R.profit,0);let U=D;return p==="date"?U=new Date(F[0].sale.data_venda).toLocaleDateString("pt-BR",{month:"long",year:"numeric"}).toUpperCase():p==="client"?U=F[0].client?F[0].client.nome_social:F[0].sale.nome_cliente||"CLIENTE_DESCONHECIDO":p==="batch"&&(U=F[0].batch?`LOTE_${F[0].batch.id_lote}`:"SEM_LOTE"),{id:D,label:U,items:F,totalRevenue:k,totalCost:I,totalProfit:V,mostRecentDate:F[0].sale.data_venda}}).sort((D,F)=>F.mostRecentDate.localeCompare(D.mostRecentDate))},[w,p]),C=()=>{const q=w.map(({sale:D,item:F,batch:k,revenue:I,cost:V,profit:U})=>({DATA:D.data_venda,CLIENTE:D.nome_cliente,ITEM_ID:(F==null?void 0:F.id_completo)||"N/A",LOTE:(k==null?void 0:k.id_lote)||"N/A",PESO_SAIDA:D.peso_real_saida,PRECO_KG:D.preco_venda_kg,RECEITA:I,LUCRO:U}));C$(q,`FRIGOGEST_HIST_${new Date().toISOString().split("T")[0]}.csv`)},B=q=>{var I;const D=new Wt,F=D.internal.pageSize.width;D.setFont("helvetica","bold"),D.setFontSize(18),D.text("RECIBO DE EXPEDIO",F/2,25,{align:"center"}),D.setFontSize(10),D.setFont("helvetica","normal"),D.text(`FRIGOGEST INDUSTRIAL  ${new Date().toLocaleDateString()}`,F/2,32,{align:"center"}),D.line(20,40,F-20,40),D.setFont("helvetica","bold"),D.text("DADOS DA VENDA",20,50),D.setFont("helvetica","normal"),D.text(`CLIENTE: ${((I=q.nome_cliente)==null?void 0:I.toUpperCase())||"Venda Direta"}`,20,58),D.text(`DATA: ${q.data_venda}`,20,64),D.text(`ID VENDA: ${q.id_venda}`,20,70),D.line(20,80,F-20,80),D.text("ITEM",20,90),D.text("PESO (KG)",100,90,{align:"right"}),D.text("VALOR (R$)",140,90,{align:"right"}),D.text("SUBTOTAL (R$)",180,90,{align:"right"});const k=q.peso_real_saida*q.preco_venda_kg;D.text(q.id_completo,20,100),D.text(q.peso_real_saida.toFixed(2),100,100,{align:"right"}),D.text(q.preco_venda_kg.toFixed(2),140,100,{align:"right"}),D.text(k.toFixed(2),180,100,{align:"right"}),D.line(20,110,F-20,110),D.setFont("helvetica","bold"),D.text("TOTAL GERAL:",140,120,{align:"right"}),D.text(kt(k),180,120,{align:"right"}),D.save(`RECIBO_${q.id_venda.substring(0,8)}.pdf`)};return c.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[c.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("button",{onClick:i,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-slate-900 hover:border-slate-300 transition-all shadow-sm",children:[c.jsx(Ji,{size:14})," Voltar ao Incio"]}),o&&c.jsxs("button",{onClick:o,className:"group flex items-center gap-3 px-8 py-3 bg-blue-600 rounded-2xl text-sm font-black text-white hover:bg-slate-900 transition-all shadow-xl shadow-blue-200 uppercase tracking-wider animate-pulse hover:animate-none",children:[c.jsx(Zh,{size:20})," FAZER NOVA VENDA"]}),c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-white shadow-xl",children:c.jsx(du,{size:28})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Histrico de ",c.jsx("span",{className:"text-blue-600",children:"Vendas"})]}),c.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Registro de Expedio / ID-LOG"})]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-4 w-full md:w-auto items-center",children:[c.jsxs("div",{className:"relative group flex-1 md:flex-none md:min-w-[300px]",children:[c.jsx(Hp,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),c.jsx("input",{type:"text",placeholder:"Pesquisar registros...",className:"modern-input pl-12 h-12 text-sm",value:d,onChange:q=>f(q.target.value)})]}),c.jsx("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm shrink-0",children:[{id:"date",label:"Data"},{id:"client",label:"Cliente"},{id:"batch",label:"Lote"}].map(q=>c.jsx("button",{onClick:()=>g(q.id),className:`px-4 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${p===q.id?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:q.label},q.id))}),c.jsx("button",{onClick:C,className:"w-12 h-12 rounded-2xl bg-white border border-slate-100 flex items-center justify-center text-slate-500 hover:bg-blue-600 hover:text-white transition-all shadow-sm",children:c.jsx(OV,{size:20})})]})]}),c.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[{label:"Faturamento Total",val:N.revenue,icon:Nd,color:"blue"},{label:"Custo de Mercadoria",val:N.cost,icon:C1,color:"slate"},{label:"Margem Lquida",val:N.profit,icon:O0,color:"emerald"}].map((q,D)=>c.jsxs("div",{className:"premium-card p-8 flex flex-col gap-4 group hover:translate-x-1 transition-all",children:[c.jsx("div",{className:`w-10 h-10 rounded-2xl bg-${q.color==="blue"?"blue":q.color==="emerald"?"emerald":"slate"}-50 text-${q.color==="blue"?"blue":q.color==="emerald"?"emerald":"slate"}-600 flex items-center justify-center`,children:c.jsx(q.icon,{size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:q.label}),c.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:kt(q.val)})]})]},D))}),c.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:T.map(q=>{const D=y.has(q.id);return c.jsxs("div",{className:`premium-card p-0 overflow-hidden transition-all ${D?"ring-2 ring-blue-500/10":""}`,children:[c.jsxs("div",{onClick:()=>E(q.id),className:`p-6 flex flex-col md:flex-row items-center justify-between cursor-pointer transition-all gap-8 ${D?"bg-slate-900 text-white":"bg-white hover:bg-slate-50"}`,children:[c.jsxs("div",{className:"flex items-center gap-6 w-full md:w-auto",children:[c.jsxs("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border font-bold ${D?"bg-blue-600 border-blue-500 text-white shadow-lg shadow-blue-900/40":"bg-slate-50 text-slate-400 border-slate-100"}`,children:[p==="date"&&c.jsx($p,{size:20}),p==="client"&&c.jsx(I1,{size:20}),p==="batch"&&c.jsx(fu,{size:20})]}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-black uppercase tracking-tight ${D?"text-white":"text-slate-900"}`,children:q.label}),c.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-widest mt-1 text-slate-400",children:[q.items.length," Operaes registradas"]})]})]}),c.jsxs("div",{className:"flex items-center gap-10 w-full md:w-auto justify-between md:justify-end",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-[9px] font-black opacity-40 uppercase tracking-widest mb-1",children:"Receita"}),c.jsx("p",{className:"font-black text-sm",children:kt(q.totalRevenue)})]}),c.jsxs("div",{className:"text-right border-l border-white/10 pl-10",children:[c.jsx("p",{className:"text-[9px] font-black opacity-40 uppercase tracking-widest mb-1",children:"Resultado"}),c.jsx("p",{className:`font-black text-sm ${q.totalProfit>=0?D?"text-blue-400":"text-blue-600":"text-rose-500"}`,children:kt(q.totalProfit)})]}),c.jsx("div",{className:`transition-all duration-300 ${D?"rotate-90 text-blue-400":"text-slate-300"}`,children:c.jsx(_c,{size:24})})]})]}),D&&c.jsx("div",{className:"p-0 animate-reveal overflow-x-auto bg-white",children:c.jsxs("table",{className:"technical-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Data"}),c.jsx("th",{children:"Destinatrio"}),c.jsx("th",{children:"ID Item"}),c.jsx("th",{className:"text-right",children:"Peso Sada"}),c.jsx("th",{className:"text-right",children:"Quebra (KG)"}),c.jsx("th",{className:"text-right",children:"Valor Venda"}),c.jsx("th",{className:"text-right",children:"Margem"}),c.jsx("th",{className:"text-center",children:"Aes"})]})}),c.jsx("tbody",{children:q.items.map((F,k)=>{var V,U;const I=(((V=F.item)==null?void 0:V.peso_entrada)||0)-F.sale.peso_real_saida;return c.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${F.sale.status_pagamento==="ESTORNADO"?"opacity-50":""}`,children:[c.jsx("td",{className:"text-[10px] font-bold text-slate-400",children:new Date(F.sale.data_venda).toLocaleDateString()}),c.jsxs("td",{className:"font-extrabold uppercase text-xs text-slate-900 truncate max-w-[150px]",children:[F.sale.nome_cliente||"Loja Fsica",F.sale.status_pagamento==="ESTORNADO"&&c.jsx("span",{className:"ml-2 text-[8px] font-black bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full uppercase tracking-widest border border-amber-200",children:"ESTORNADO"})]}),c.jsx("td",{className:"font-mono text-[9px] text-slate-400",children:((U=F.item)==null?void 0:U.id_completo)||"N/A"}),c.jsx("td",{className:"text-right font-black text-slate-900",children:Sr(F.sale.peso_real_saida)}),c.jsx("td",{className:`text-right font-black ${I>0?"text-orange-600":"text-emerald-600"}`,children:Sr(I)}),c.jsx("td",{className:"text-right font-black text-slate-900",children:kt(F.revenue)}),c.jsx("td",{className:`text-right font-black ${F.profit>=0?"text-blue-600":"text-rose-600"}`,children:kt(F.profit)}),c.jsx("td",{className:"text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>B(F.sale),className:"w-8 h-8 rounded-lg bg-slate-50 text-slate-400 hover:bg-slate-900 hover:text-white transition-all flex items-center justify-center",title:"Imprimir recibo",children:c.jsx(O1,{size:16})}),F.sale.status_pagamento!=="ESTORNADO"&&u&&c.jsx("button",{onClick:()=>{window.confirm(` Estornar esta venda?

Cliente: ${F.sale.nome_cliente}
Item: ${F.sale.id_completo}
Valor: ${kt(F.revenue)}

O item voltar ao estoque e qualquer pagamento recebido ser revertido no caixa.`)&&u(F.sale.id_venda)},className:"w-8 h-8 rounded-lg bg-slate-50 text-slate-300 hover:bg-amber-50 hover:text-amber-600 transition-all flex items-center justify-center",title:"Estornar venda",children:c.jsx(hp,{size:14})})]})})]},k)})})]})})]},q.id)})})]})},Ple=({scheduledOrders:t,clients:e,addScheduledOrder:n,updateScheduledOrder:r,onViewClientHistory:a,onBack:i})=>{const[o,u]=ve.useState(!1),[d,f]=ve.useState(null),[p,g]=ve.useState({id_cliente:"",nome_cliente:"",data_entrega:new Date().toISOString().split("T")[0],hora_entrega:"08:00",itens:"",alerta_madrugada:!0,status:"ABERTO"}),[y,x]=ve.useState("ABERTO"),E=ve.useMemo(()=>{let C=[...t];return y!=="TODOS"&&(C=C.filter(B=>B.status===y)),C.sort((B,q)=>B.data_entrega.localeCompare(q.data_entrega))},[t,y]),w=async C=>{if(C.preventDefault(),!p.id_cliente||!p.data_entrega||!p.itens)return;const B=e.find(D=>D.id_ferro===p.id_cliente),q={id:`ORD-${Date.now()}`,id_cliente:p.id_cliente,nome_cliente:(B==null?void 0:B.nome_social)||"Desconhecido",data_entrega:p.data_entrega,hora_entrega:p.hora_entrega,itens:p.itens,status:"ABERTO",data_criacao:new Date().toISOString(),alerta_madrugada:!!p.alerta_madrugada};await n(q),u(!1),g({id_cliente:"",data_entrega:new Date().toISOString().split("T")[0],hora_entrega:"08:00",itens:"",alerta_madrugada:!0,status:"ABERTO"})},N=C=>{const B=new Date;B.setHours(0,0,0,0);const q=new Date(C+"T12:00:00");q.setHours(0,0,0,0);const D=(q.getTime()-B.getTime())/864e5;return D>=0&&D<=1},T=C=>{const B=e.find(F=>F.id_ferro===C.id_cliente);if(!B||!B.whatsapp)return;const q=new Date(C.data_entrega+"T12:00:00").toLocaleDateString("pt-BR"),D=`*CONFIRMACAO DE PEDIDO - FRIGOGEST*%0A%0AALERTA_LOGISTICA PARA *${C.nome_cliente.toUpperCase()}*%0ADATA: *${q}*%0A%0A* ITENS:*%0A${C.itens.replace(/\n/g,"%0A")}%0A%0A* PREVISAO:* ${C.hora_entrega||"--:--"}%0A%0AFG_CORE_TERMINAL_2026`;window.open(`https://wa.me/55${B.whatsapp.replace(/\D/g,"")}?text=${D}`,"_blank")};return c.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[c.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("button",{onClick:i,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-purple-700 hover:border-purple-100 transition-all shadow-sm",children:[c.jsx(Ji,{size:14})," Voltar ao Incio"]}),c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsx("div",{className:"bg-purple-600 p-3 rounded-2xl text-white shadow-xl shadow-purple-100",children:c.jsx($p,{size:28})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Agenda ",c.jsx("span",{className:"text-purple-600",children:"Logstica"})]}),c.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Planejamento de Entregas / ID-SCH"})]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[c.jsx("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm",children:["ABERTO","CONFIRMADO","TODOS"].map(C=>c.jsx("button",{onClick:()=>x(C),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${y===C?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:C.replace("ABERTO","Pendentes").replace("CONFIRMADO","Concludos").replace("TODOS","Todos")},C))}),c.jsxs("button",{onClick:()=>u(!0),className:"btn-modern bg-blue-600 text-white hover:bg-blue-500 px-8 py-3.5 rounded-2xl gap-3 shadow-xl shadow-blue-900/40",children:[c.jsx(Tf,{size:18})," Novo Agendamento"]})]})]}),t.some(C=>C.status==="ABERTO"&&N(C.data_entrega))&&c.jsxs("div",{className:"max-w-7xl mx-auto mb-10 bg-orange-600 rounded-[32px] text-white p-8 flex flex-col md:flex-row items-center justify-between shadow-2xl shadow-orange-900/20 animate-pulse-slow",children:[c.jsxs("div",{className:"flex items-center gap-6 mb-4 md:mb-0",children:[c.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:c.jsx(pp,{size:32})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-2xl font-black tracking-tight uppercase",children:"Expedio Urgente"}),c.jsx("p",{className:"text-xs font-bold opacity-80 uppercase tracking-widest",children:"Pedidos pendentes para as prximas 24 horas"})]})]}),c.jsx("div",{className:"px-6 py-2 rounded-full bg-white/10 text-[10px] font-black tracking-widest border border-white/10 uppercase",children:"Prioridade Mxima"})]}),c.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:E.length===0?c.jsxs("div",{className:"py-32 flex flex-col items-center justify-center bg-white rounded-[40px] border border-dashed border-slate-200",children:[c.jsx(fu,{size:80,className:"mb-6 opacity-05"}),c.jsx("p",{className:"text-xs font-black text-slate-300 uppercase tracking-[0.4em]",children:"Nenhum agendamento encontrado"})]}):c.jsx("div",{className:"grid grid-cols-1 gap-4",children:E.map(C=>{const B=N(C.data_entrega);return c.jsx("div",{onClick:()=>f(C),className:`premium-card p-0 overflow-hidden group cursor-pointer transition-all hover:-translate-y-1 hover:shadow-xl ${C.status==="CONFIRMADO"?"opacity-60 grayscale-[0.5]":""}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsxs("div",{className:`w-28 h-28 flex flex-col items-center justify-center shrink-0 ${B?"bg-orange-600 text-white":"bg-slate-50 text-slate-400"} group-hover:scale-105 transition-transform`,children:[c.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:new Date(C.data_entrega+"T12:00:00").toLocaleDateString("pt-BR",{weekday:"short"})}),c.jsx("span",{className:"text-4xl font-black tracking-tighter",children:new Date(C.data_entrega+"T12:00:00").getDate()}),c.jsx("span",{className:"text-[9px] font-bold opacity-60 uppercase",children:new Date(C.data_entrega+"T12:00:00").toLocaleDateString("pt-BR",{month:"short"})})]}),c.jsxs("div",{className:"flex-1 p-8 flex flex-col md:flex-row items-center justify-between gap-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight truncate max-w-sm",children:C.nome_cliente}),B&&c.jsx("div",{className:"w-2 h-2 bg-rose-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(225,29,72,0.5)]"})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:[c.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 px-3 py-1 rounded-full text-slate-500 text-[10px] font-black",children:[c.jsx(j0,{size:12}),C.hora_entrega||"--:--"]}),c.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest truncate max-w-lg",children:C.itens})]})]}),c.jsxs("div",{className:"flex items-center gap-5",children:[C.status==="ABERTO"?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:q=>{q.stopPropagation(),r(C.id,{status:"CONFIRMADO"})},className:"btn-modern bg-slate-900 text-white px-6 py-2.5 rounded-2xl text-[10px] hover:bg-emerald-600 shadow-lg",children:"Validar"}),c.jsx("button",{onClick:q=>{q.stopPropagation(),T(C)},className:"w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center hover:bg-emerald-600 hover:text-white transition-all",children:c.jsx(T0,{size:20})})]}):c.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 font-black text-[10px] uppercase tracking-widest",children:[c.jsx(ic,{size:18})," Concludo"]}),c.jsx(_c,{size:20,className:"text-slate-200 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]})]})]})},C.id)})})}),(o||d)&&c.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-reveal",children:c.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-lg overflow-hidden flex flex-col border border-white",children:[c.jsxs("div",{className:"bg-slate-900 p-8 flex justify-between items-center text-white",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:o?"Agendamento de Fluxo":"Detalhes do Evento"}),c.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mt-1",children:"Sincronizao Logstica Pro"})]}),c.jsx("button",{onClick:()=>{u(!1),f(null)},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-all",children:c.jsx(hu,{size:20})})]}),c.jsxs("form",{onSubmit:o?w:C=>{C.preventDefault(),r(d.id,d),f(null)},className:"p-10 space-y-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Entidade Cliente"}),o?c.jsxs("select",{required:!0,className:"modern-input h-14",value:p.id_cliente,onChange:C=>g({...p,id_cliente:C.target.value}),children:[c.jsx("option",{value:"",children:"Selecione um Cliente..."}),e.map(C=>c.jsxs("option",{value:C.id_ferro,children:[C.id_ferro,"  ",C.nome_social]},C.id_ferro))]}):c.jsx("div",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:d==null?void 0:d.nome_cliente})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Data Prevista"}),c.jsx("input",{required:!0,type:"date",className:"modern-input",value:o?p.data_entrega:d==null?void 0:d.data_entrega,onChange:C=>o?g({...p,data_entrega:C.target.value}):f({...d,data_entrega:C.target.value})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Janela de Horrio"}),c.jsx("input",{type:"time",className:"modern-input",value:o?p.hora_entrega:d==null?void 0:d.hora_entrega,onChange:C=>o?g({...p,hora_entrega:C.target.value}):f({...d,hora_entrega:C.target.value})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Manifesto de Carga / Observaes"}),c.jsx("textarea",{required:!0,rows:3,placeholder:"Descreva os itens do agendamento...",className:"modern-input min-h-[100px] p-4",value:o?p.itens:d==null?void 0:d.itens,onChange:C=>o?g({...p,itens:C.target.value}):f({...d,itens:C.target.value})})]}),!o&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Estado Operacional"}),c.jsxs("div",{className:"flex p-1 bg-slate-50 rounded-2xl border border-slate-100",children:[c.jsx("button",{type:"button",onClick:()=>f({...d,status:"ABERTO"}),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${(d==null?void 0:d.status)==="ABERTO"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Pendente"}),c.jsx("button",{type:"button",onClick:()=>f({...d,status:"CONFIRMADO"}),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${(d==null?void 0:d.status)==="CONFIRMADO"?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Concludo"})]})]}),c.jsxs("button",{type:"submit",className:"w-full btn-modern bg-slate-900 text-white py-5 rounded-2xl hover:bg-blue-600 gap-3 shadow-xl transition-all",children:[c.jsx(N1,{size:20})," ",o?"Efetivar Agendamento":"Confirmar Alteraes"]})]})]})})]})},Rle=()=>{};var ZR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Dle=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=t[n++];e[r++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=t[n++],o=t[n++],u=t[n++],d=((a&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(i&63)<<6|o&63)}}return e.join("")},k9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const i=t[a],o=a+1<t.length,u=o?t[a+1]:0,d=a+2<t.length,f=d?t[a+2]:0,p=i>>2,g=(i&3)<<4|u>>4;let y=(u&15)<<2|f>>6,x=f&63;d||(x=64,o||(y=64)),r.push(n[p],n[g],n[y],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(O9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dle(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const i=n[t.charAt(a++)],u=a<t.length?n[t.charAt(a)]:0;++a;const f=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,i==null||u==null||f==null||g==null)throw new Lle;const y=i<<2|u>>4;if(r.push(y),f!==64){const x=u<<4&240|f>>2;if(r.push(x),g!==64){const E=f<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Lle extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mle=function(t){const e=O9(t);return k9.encodeByteArray(e,!0)},Py=function(t){return Mle(t).replace(/\./g,"")},C9=function(t){try{return k9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ble(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fle=()=>Ble().__FIREBASE_DEFAULTS__,qle=()=>{if(typeof process>"u"||typeof ZR>"u")return;const t=ZR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zle=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&C9(t[1]);return e&&JSON.parse(e)},Rx=()=>{try{return Rle()||Fle()||qle()||zle()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I9=t=>{var e,n;return(n=(e=Rx())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},P9=t=>{const e=I9(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},R9=()=>{var t;return(t=Rx())===null||t===void 0?void 0:t.config},D9=t=>{var e;return(e=Rx())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vle{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Py(JSON.stringify(n)),Py(JSON.stringify(o)),""].join(".")}const y0={};function Ule(){const t={prod:[],emulator:[]};for(const e of Object.keys(y0))y0[e]?t.emulator.push(e):t.prod.push(e);return t}function $le(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let e8=!1;function l4(t,e){if(typeof window>"u"||typeof document>"u"||!Yd(window.location.host)||y0[t]===e||y0[t]||e8)return;y0[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",i=Ule().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function d(y,x){y.setAttribute("width","24"),y.setAttribute("id",x),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{e8=!0,o()},y}function p(y,x){y.setAttribute("id",x),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=$le(r),x=n("text"),E=document.getElementById(x)||document.createElement("span"),w=n("learnmore"),N=document.getElementById(w)||document.createElement("a"),T=n("preprendIcon"),C=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const B=y.element;u(B),p(N,w);const q=f();d(C,T),B.append(C,E,N,q),document.body.appendChild(B)}i?(E.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hle(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zi())}function Gle(){var t;const e=(t=Rx())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wle(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kle(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Yle(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xle(){const t=Zi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Qle(){return!Gle()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jle(){try{return typeof indexedDB=="object"}catch{return!1}}function Zle(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var i;e(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ece="FirebaseError";class jc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ece,Object.setPrototypeOf(this,jc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ig.prototype.create)}}class Ig{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,i=this.errors[e],o=i?tce(i,r):"Error",u=`${this.serviceName}: ${o} (${a}).`;return new jc(a,u,r)}}function tce(t,e){return t.replace(nce,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const nce=/\{\$([^}]+)}/g;function rce(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const i=t[a],o=e[a];if(t8(i)&&t8(o)){if(!qf(i,o))return!1}else if(i!==o)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function t8(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function i0(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,i]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(i)}}),e}function s0(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ace(t,e){const n=new ice(t,e);return n.subscribe.bind(n)}class ice{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sce(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=OA),a.error===void 0&&(a.error=OA),a.complete===void 0&&(a.complete=OA);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sce(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function OA(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t){return t&&t._delegate?t._delegate:t}class Dd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oce{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Vle;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cce(e))try{this.getOrInitializeService({instanceIdentifier:bf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:a});r.resolve(i)}catch{}}}}clearInstance(e=bf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bf){return this.instances.has(e)}getOptions(e=bf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&o.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(a,i);const o=this.instances.get(a);return o&&e(o,a),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lce(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bf){return this.component?this.component.multipleInstances?e:bf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lce(t){return t===bf?void 0:t}function cce(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oce(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Dn||(Dn={}));const dce={debug:Dn.DEBUG,verbose:Dn.VERBOSE,info:Dn.INFO,warn:Dn.WARN,error:Dn.ERROR,silent:Dn.SILENT},fce=Dn.INFO,hce={[Dn.DEBUG]:"log",[Dn.VERBOSE]:"log",[Dn.INFO]:"info",[Dn.WARN]:"warn",[Dn.ERROR]:"error"},pce=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=hce[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c4{constructor(e){this.name=e,this._logLevel=fce,this._logHandler=pce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dce[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dn.DEBUG,...e),this._logHandler(this,Dn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dn.VERBOSE,...e),this._logHandler(this,Dn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dn.INFO,...e),this._logHandler(this,Dn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dn.WARN,...e),this._logHandler(this,Dn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dn.ERROR,...e),this._logHandler(this,Dn.ERROR,...e)}}const mce=(t,e)=>e.some(n=>t instanceof n);let n8,r8;function gce(){return n8||(n8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vce(){return r8||(r8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M9=new WeakMap,bS=new WeakMap,B9=new WeakMap,kA=new WeakMap,u4=new WeakMap;function yce(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(jd(t.result)),a()},o=()=>{r(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&M9.set(n,t)}).catch(()=>{}),u4.set(e,t),e}function xce(t){if(bS.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),a()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});bS.set(t,e)}let _S={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||B9.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bce(t){_S=t(_S)}function _ce(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(CA(this),e,...n);return B9.set(r,e.sort?e.sort():[e]),jd(r)}:vce().includes(t)?function(...e){return t.apply(CA(this),e),jd(M9.get(this))}:function(...e){return jd(t.apply(CA(this),e))}}function wce(t){return typeof t=="function"?_ce(t):(t instanceof IDBTransaction&&xce(t),mce(t,gce())?new Proxy(t,_S):t)}function jd(t){if(t instanceof IDBRequest)return yce(t);if(kA.has(t))return kA.get(t);const e=wce(t);return e!==t&&(kA.set(t,e),u4.set(e,t)),e}const CA=t=>u4.get(t);function Ace(t,e,{blocked:n,upgrade:r,blocking:a,terminated:i}={}){const o=indexedDB.open(t,e),u=jd(o);return r&&o.addEventListener("upgradeneeded",d=>{r(jd(o.result),d.oldVersion,d.newVersion,jd(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{i&&d.addEventListener("close",()=>i()),a&&d.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const Nce=["get","getKey","getAll","getAllKeys","count"],Sce=["put","add","delete","clear"],IA=new Map;function a8(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(IA.get(e))return IA.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=Sce.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Nce.includes(n)))return;const i=async function(o,...u){const d=this.transaction(o,a?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),a&&d.done]))[0]};return IA.set(e,i),i}bce(t=>({...t,get:(e,n,r)=>a8(e,n)||t.get(e,n,r),has:(e,n)=>!!a8(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ece{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jce(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jce(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wS="@firebase/app",i8="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new c4("@firebase/app"),Tce="@firebase/app-compat",Oce="@firebase/analytics-compat",kce="@firebase/analytics",Cce="@firebase/app-check-compat",Ice="@firebase/app-check",Pce="@firebase/auth",Rce="@firebase/auth-compat",Dce="@firebase/database",Lce="@firebase/data-connect",Mce="@firebase/database-compat",Bce="@firebase/functions",Fce="@firebase/functions-compat",qce="@firebase/installations",zce="@firebase/installations-compat",Vce="@firebase/messaging",Uce="@firebase/messaging-compat",$ce="@firebase/performance",Hce="@firebase/performance-compat",Gce="@firebase/remote-config",Wce="@firebase/remote-config-compat",Kce="@firebase/storage",Yce="@firebase/storage-compat",Xce="@firebase/firestore",Qce="@firebase/ai",Jce="@firebase/firestore-compat",Zce="firebase",eue="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="[DEFAULT]",tue={[wS]:"fire-core",[Tce]:"fire-core-compat",[kce]:"fire-analytics",[Oce]:"fire-analytics-compat",[Ice]:"fire-app-check",[Cce]:"fire-app-check-compat",[Pce]:"fire-auth",[Rce]:"fire-auth-compat",[Dce]:"fire-rtdb",[Lce]:"fire-data-connect",[Mce]:"fire-rtdb-compat",[Bce]:"fire-fn",[Fce]:"fire-fn-compat",[qce]:"fire-iid",[zce]:"fire-iid-compat",[Vce]:"fire-fcm",[Uce]:"fire-fcm-compat",[$ce]:"fire-perf",[Hce]:"fire-perf-compat",[Gce]:"fire-rc",[Wce]:"fire-rc-compat",[Kce]:"fire-gcs",[Yce]:"fire-gcs-compat",[Xce]:"fire-fst",[Jce]:"fire-fst-compat",[Qce]:"fire-vertex","fire-js":"fire-js",[Zce]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=new Map,nue=new Map,NS=new Map;function s8(t,e){try{t.container.addComponent(e)}catch(n){yu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zf(t){const e=t.name;if(NS.has(e))return yu.debug(`There were multiple attempts to register component ${e}.`),!1;NS.set(e,t);for(const n of Ry.values())s8(n,t);for(const n of nue.values())s8(n,t);return!0}function Dx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ro(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rue={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Td=new Ig("app","Firebase",rue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aue{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Td.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=eue;function F9(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:AS,automaticDataCollectionEnabled:!0},e),a=r.name;if(typeof a!="string"||!a)throw Td.create("bad-app-name",{appName:String(a)});if(n||(n=R9()),!n)throw Td.create("no-options");const i=Ry.get(a);if(i){if(qf(n,i.options)&&qf(r,i.config))return i;throw Td.create("duplicate-app",{appName:a})}const o=new uce(a);for(const d of NS.values())o.addComponent(d);const u=new aue(n,r,o);return Ry.set(a,u),u}function d4(t=AS){const e=Ry.get(t);if(!e&&t===AS&&R9())return F9();if(!e)throw Td.create("no-app",{appName:t});return e}function pc(t,e,n){var r;let a=(r=tue[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const i=a.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const u=[`Unable to register library "${a}" with version "${e}":`];i&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yu.warn(u.join(" "));return}zf(new Dd(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iue="firebase-heartbeat-database",sue=1,pg="firebase-heartbeat-store";let PA=null;function q9(){return PA||(PA=Ace(iue,sue,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pg)}catch(n){console.warn(n)}}}}).catch(t=>{throw Td.create("idb-open",{originalErrorMessage:t.message})})),PA}async function oue(t){try{const n=(await q9()).transaction(pg),r=await n.objectStore(pg).get(z9(t));return await n.done,r}catch(e){if(e instanceof jc)yu.warn(e.message);else{const n=Td.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yu.warn(n.message)}}}async function o8(t,e){try{const r=(await q9()).transaction(pg,"readwrite");await r.objectStore(pg).put(e,z9(t)),await r.done}catch(n){if(n instanceof jc)yu.warn(n.message);else{const r=Td.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yu.warn(r.message)}}}function z9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lue=1024,cue=30;class uue{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fue(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=l8();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>cue){const o=hue(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){yu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l8(),{heartbeatsToSend:r,unsentEntries:a}=due(this._heartbeatsCache.heartbeats),i=Py(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return yu.warn(n),""}}}function l8(){return new Date().toISOString().substring(0,10)}function due(t,e=lue){const n=[];let r=t.slice();for(const a of t){const i=n.find(o=>o.agent===a.agent);if(i){if(i.dates.push(a.date),c8(n)>e){i.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),c8(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jle()?Zle().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oue(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return o8(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return o8(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function c8(t){return Py(JSON.stringify({version:2,heartbeats:t})).length}function hue(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pue(t){zf(new Dd("platform-logger",e=>new Ece(e),"PRIVATE")),zf(new Dd("heartbeat",e=>new uue(e),"PRIVATE")),pc(wS,i8,t),pc(wS,i8,"esm2017"),pc("fire-js","")}pue("");var mue="firebase",gue="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pc(mue,gue,"app");function f4(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function V9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vue=V9,U9=new Ig("auth","Firebase",V9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=new c4("@firebase/auth");function yue(t,...e){Dy.logLevel<=Dn.WARN&&Dy.warn(`Auth (${Qf}): ${t}`,...e)}function h1(t,...e){Dy.logLevel<=Dn.ERROR&&Dy.error(`Auth (${Qf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(t,...e){throw h4(t,...e)}function mc(t,...e){return h4(t,...e)}function $9(t,e,n){const r=Object.assign(Object.assign({},vue()),{[e]:n});return new Ig("auth","Firebase",r).create(e,{appName:t.name})}function Od(t){return $9(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h4(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return U9.create(t,...e)}function tn(t,e,...n){if(!t)throw h4(e,...n)}function su(t){const e="INTERNAL ASSERTION FAILED: "+t;throw h1(e),new Error(e)}function xu(t,e){t||su(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xue(){return u8()==="http:"||u8()==="https:"}function u8(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bue(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xue()||Kle()||"connection"in navigator)?navigator.onLine:!0}function _ue(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this.shortDelay=e,this.longDelay=n,xu(n>e,"Short delay should be less than long delay!"),this.isMobile=Hle()||Yle()}get(){return bue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t,e){xu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;su("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;su("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;su("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aue=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Nue=new Rg(3e4,6e4);function Jf(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xd(t,e,n,r,a={}){return G9(t,a,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const u=Pg(Object.assign({key:t.config.apiKey},o)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:d},i);return Wle()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Yd(t.emulatorConfig.host)&&(f.credentials="include"),H9.fetch()(await W9(t,t.config.apiHost,n,u),f)})}async function G9(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},wue),e);try{const a=new Eue(t),i=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Zv(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const u=i.ok?o.errorMessage:o.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zv(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw Zv(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw Zv(t,"user-disabled",o);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw $9(t,p,f);xl(t,p)}}catch(a){if(a instanceof jc)throw a;xl(t,"network-request-failed",{message:String(a)})}}async function Lx(t,e,n,r,a={}){const i=await Xd(t,e,n,r,a);return"mfaPendingCredential"in i&&xl(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function W9(t,e,n,r){const a=`${e}${n}?${r}`,i=t,o=i.config.emulator?p4(t.config,a):`${t.config.apiScheme}://${a}`;return Aue.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function Sue(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Eue{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mc(this.auth,"network-request-failed")),Nue.get())})}}function Zv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=mc(t,e,r);return a.customData._tokenResponse=n,a}function d8(t){return t!==void 0&&t.enterprise!==void 0}class jue{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Sue(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Tue(t,e){return Xd(t,"GET","/v2/recaptchaConfig",Jf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oue(t,e){return Xd(t,"POST","/v1/accounts:delete",e)}async function Ly(t,e){return Xd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kue(t,e=!1){const n=Hr(t),r=await n.getIdToken(e),a=m4(r);tn(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:a,token:r,authTime:x0(RA(a.auth_time)),issuedAtTime:x0(RA(a.iat)),expirationTime:x0(RA(a.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function RA(t){return Number(t)*1e3}function m4(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return h1("JWT malformed, contained fewer than 3 sections"),null;try{const a=C9(n);return a?JSON.parse(a):(h1("Failed to decode base64 JWT payload"),null)}catch(a){return h1("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function f8(t){const e=m4(t);return tn(e,"internal-error"),tn(typeof e.exp<"u","internal-error"),tn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mg(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof jc&&Cue(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Cue({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=x0(this.lastLoginAt),this.creationTime=x0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function My(t){var e;const n=t.auth,r=await t.getIdToken(),a=await mg(t,Ly(n,{idToken:r}));tn(a==null?void 0:a.users.length,n,"internal-error");const i=a.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?K9(i.providerUserInfo):[],u=Rue(t.providerData,o),d=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(u!=null&&u.length),p=d?f:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new ES(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function Pue(t){const e=Hr(t);await My(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Rue(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function K9(t){return t.map(e=>{var{providerId:n}=e,r=f4(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Due(t,e){const n=await G9(t,{},async()=>{const r=Pg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=t.config,o=await W9(t,a,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&Yd(t.emulatorConfig.host)&&(d.credentials="include"),H9.fetch()(o,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lue(t,e){return Xd(t,"POST","/v2/accounts:revokeToken",Jf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tn(e.idToken,"internal-error"),tn(typeof e.idToken<"u","internal-error"),tn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f8(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){tn(e.length!==0,"internal-error");const n=f8(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(tn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:i}=await Due(e,n);this.updateTokensAndExpiration(r,a,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:i}=n,o=new lp;return r&&(tn(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),a&&(tn(typeof a=="string","internal-error",{appName:e}),o.accessToken=a),i&&(tn(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lp,this.toJSON())}_performRefresh(){return su("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t,e){tn(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vl{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,i=f4(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Iue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ES(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await mg(this,this.stsTokenManager.getToken(this.auth,e));return tn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kue(this,e)}reload(){return Pue(this)}_assign(e){this!==e&&(tn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){tn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await My(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ro(this.auth.app))return Promise.reject(Od(this.auth));const e=await this.getIdToken();return await mg(this,Oue(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,i,o,u,d,f,p;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(a=n.email)!==null&&a!==void 0?a:void 0,x=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(u=n.tenantId)!==null&&u!==void 0?u:void 0,N=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,T=(f=n.createdAt)!==null&&f!==void 0?f:void 0,C=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:B,emailVerified:q,isAnonymous:D,providerData:F,stsTokenManager:k}=n;tn(B&&k,e,"internal-error");const I=lp.fromJSON(this.name,k);tn(typeof B=="string",e,"internal-error"),ld(g,e.name),ld(y,e.name),tn(typeof q=="boolean",e,"internal-error"),tn(typeof D=="boolean",e,"internal-error"),ld(x,e.name),ld(E,e.name),ld(w,e.name),ld(N,e.name),ld(T,e.name),ld(C,e.name);const V=new vl({uid:B,auth:e,email:y,emailVerified:q,displayName:g,isAnonymous:D,photoURL:E,phoneNumber:x,tenantId:w,stsTokenManager:I,createdAt:T,lastLoginAt:C});return F&&Array.isArray(F)&&(V.providerData=F.map(U=>Object.assign({},U))),N&&(V._redirectEventId=N),V}static async _fromIdTokenResponse(e,n,r=!1){const a=new lp;a.updateFromServerResponse(n);const i=new vl({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await My(i),i}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];tn(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?K9(a.providerUserInfo):[],o=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),u=new lp;u.updateFromIdToken(r);const d=new vl({uid:a.localId,auth:e,stsTokenManager:u,isAnonymous:o}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new ES(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=new Map;function ou(t){xu(t instanceof Function,"Expected a class definition");let e=h8.get(t);return e?(xu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,h8.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Y9.type="NONE";const p8=Y9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e,n){return`firebase:${t}:${e}:${n}`}class cp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:i}=this.auth;this.fullUserKey=p1(this.userKey,a.apiKey,i),this.fullPersistenceKey=p1("persistence",a.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ly(this.auth,{idToken:e}).catch(()=>{});return n?vl._fromGetAccountInfoResponse(this.auth,n,e):null}return vl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cp(ou(p8),e,r);const a=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let i=a[0]||ou(p8);const o=p1(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const p=await f._get(o);if(p){let g;if(typeof p=="string"){const y=await Ly(e,{idToken:p}).catch(()=>{});if(!y)break;g=await vl._fromGetAccountInfoResponse(e,y,p)}else g=vl._fromJSON(e,p);f!==i&&(u=g),i=f;break}}catch{}const d=a.filter(f=>f._shouldAllowMigration);return!i._shouldAllowMigration||!d.length?new cp(i,e,r):(i=d[0],u&&await i._set(o,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==i)try{await f._remove(o)}catch{}})),new cp(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tB(e))return"Blackberry";if(nB(e))return"Webos";if(Q9(e))return"Safari";if((e.includes("chrome/")||J9(e))&&!e.includes("edge/"))return"Chrome";if(eB(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function X9(t=Zi()){return/firefox\//i.test(t)}function Q9(t=Zi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J9(t=Zi()){return/crios\//i.test(t)}function Z9(t=Zi()){return/iemobile/i.test(t)}function eB(t=Zi()){return/android/i.test(t)}function tB(t=Zi()){return/blackberry/i.test(t)}function nB(t=Zi()){return/webos/i.test(t)}function g4(t=Zi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Mue(t=Zi()){var e;return g4(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Bue(){return Xle()&&document.documentMode===10}function rB(t=Zi()){return g4(t)||eB(t)||nB(t)||tB(t)||/windows phone/i.test(t)||Z9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(t,e=[]){let n;switch(t){case"Browser":n=m8(Zi());break;case"Worker":n=`${m8(Zi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,u)=>{try{const d=e(i);o(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function que(t,e={}){return Xd(t,"GET","/v2/passwordPolicy",Jf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zue=6;class Vue{constructor(e){var n,r,a,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:zue,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,i,o,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(i=d.containsUppercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uue{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g8(this),this.idTokenSubscription=new g8(this),this.beforeStateQueue=new Fue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ou(n)),this._initializationPromise=this.queue(async()=>{var r,a,i;if(!this._deleted&&(this.persistenceManager=await cp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ly(this,{idToken:e}),r=await vl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ro(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===u)&&(d!=null&&d.user)&&(a=d.user,i=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(a)}catch(o){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return tn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await My(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_ue()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ro(this.app))return Promise.reject(Od(this));const n=e?Hr(e):null;return n&&tn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&tn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ro(this.app)?Promise.reject(Od(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ro(this.app)?Promise.reject(Od(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ou(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await que(this),n=new Vue(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ig("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lue(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ou(e)||this._popupRedirectResolver;tn(n,this,"argument-error"),this.redirectPersistenceManager=await cp.create(this,[ou(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(tn(u,this,"internal-error"),u.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{o=!0,d()}}else{const d=e.addObserver(n);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Ro(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&yue(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function tm(t){return Hr(t)}class g8{constructor(e){this.auth=e,this.observer=null,this.addObserver=ace(n=>this.observer=n)}get next(){return tn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $ue(t){Mx=t}function iB(t){return Mx.loadJS(t)}function Hue(){return Mx.recaptchaEnterpriseScript}function Gue(){return Mx.gapiScript}function Wue(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Kue{constructor(){this.enterprise=new Yue}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Yue{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Xue="recaptcha-enterprise",sB="NO_RECAPTCHA";class Que{constructor(e){this.type=Xue,this.auth=tm(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,u)=>{Tue(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new jue(d);return i.tenantId==null?i._agentRecaptchaConfig=f:i._tenantRecaptchaConfigs[i.tenantId]=f,o(f.siteKey)}}).catch(d=>{u(d)})})}function a(i,o,u){const d=window.grecaptcha;d8(d)?d.enterprise.ready(()=>{d.enterprise.execute(i,{action:e}).then(f=>{o(f)}).catch(()=>{o(sB)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Kue().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(u=>{if(!n&&d8(window.grecaptcha))a(u,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Hue();d.length!==0&&(d+=u),iB(d).then(()=>{a(u,i,o)}).catch(f=>{o(f)})}}).catch(u=>{o(u)})})}}async function v8(t,e,n,r=!1,a=!1){const i=new Que(t);let o;if(a)o=sB;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function y8(t,e,n,r,a){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await v8(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await v8(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jue(t,e){const n=Dx(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),i=n.getOptions();if(qf(i,e??{}))return a;xl(a,"already-initialized")}return n.initialize({options:e})}function Zue(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ou);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ede(t,e,n){const r=tm(t);tn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,i=oB(e),{host:o,port:u}=tde(e),d=u===null?"":`:${u}`,f={url:`${i}//${o}${d}/`},p=Object.freeze({host:o,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){tn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),tn(qf(f,r.config.emulator)&&qf(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Yd(o)?(o4(`${i}//${o}${d}`),l4("Auth",!0)):nde()}function oB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tde(t){const e=oB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const i=a[1];return{host:i,port:x8(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:x8(o)}}}function x8(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nde(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return su("not implemented")}_getIdTokenResponse(e){return su("not implemented")}_linkToIdToken(e,n){return su("not implemented")}_getReauthenticationResolver(e){return su("not implemented")}}async function rde(t,e){return Xd(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ade(t,e){return Lx(t,"POST","/v1/accounts:signInWithPassword",Jf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ide(t,e){return Lx(t,"POST","/v1/accounts:signInWithEmailLink",Jf(t,e))}async function sde(t,e){return Lx(t,"POST","/v1/accounts:signInWithEmailLink",Jf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends v4{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new gg(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gg(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y8(e,n,"signInWithPassword",ade);case"emailLink":return ide(e,{email:this._email,oobCode:this._password});default:xl(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y8(e,r,"signUpPassword",rde);case"emailLink":return sde(e,{idToken:n,email:this._email,oobCode:this._password});default:xl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function up(t,e){return Lx(t,"POST","/v1/accounts:signInWithIdp",Jf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ode="http://localhost";class Vf extends v4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,i=f4(n,["providerId","signInMethod"]);if(!r||!a)return null;const o=new Vf(r,a);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return up(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,up(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,up(e,n)}buildRequest(){const e={requestUri:ode,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lde(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cde(t){const e=i0(s0(t)).link,n=e?i0(s0(e)).deep_link_id:null,r=i0(s0(t)).deep_link_id;return(r?i0(s0(r)).link:null)||r||n||e||t}class y4{constructor(e){var n,r,a,i,o,u;const d=i0(s0(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,p=(r=d.oobCode)!==null&&r!==void 0?r:null,g=lde((a=d.mode)!==null&&a!==void 0?a:null);tn(f&&p&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=p,this.continueUrl=(i=d.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=d.lang)!==null&&o!==void 0?o:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=cde(e);try{return new y4(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this.providerId=nm.PROVIDER_ID}static credential(e,n){return gg._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=y4.parseLink(n);return tn(r,"argument-error"),gg._fromEmailAndCode(e,r.code,r.tenantId)}}nm.PROVIDER_ID="password";nm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg extends lB{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends Dg{constructor(){super("facebook.com")}static credential(e){return Vf._fromParams({providerId:pd.PROVIDER_ID,signInMethod:pd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pd.credentialFromTaggedObject(e)}static credentialFromError(e){return pd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pd.credential(e.oauthAccessToken)}catch{return null}}}pd.FACEBOOK_SIGN_IN_METHOD="facebook.com";pd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends Dg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vf._fromParams({providerId:md.PROVIDER_ID,signInMethod:md.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return md.credentialFromTaggedObject(e)}static credentialFromError(e){return md.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return md.credential(n,r)}catch{return null}}}md.GOOGLE_SIGN_IN_METHOD="google.com";md.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends Dg{constructor(){super("github.com")}static credential(e){return Vf._fromParams({providerId:gd.PROVIDER_ID,signInMethod:gd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gd.credentialFromTaggedObject(e)}static credentialFromError(e){return gd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gd.credential(e.oauthAccessToken)}catch{return null}}}gd.GITHUB_SIGN_IN_METHOD="github.com";gd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends Dg{constructor(){super("twitter.com")}static credential(e,n){return Vf._fromParams({providerId:vd.PROVIDER_ID,signInMethod:vd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vd.credentialFromTaggedObject(e)}static credentialFromError(e){return vd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vd.credential(n,r)}catch{return null}}}vd.TWITTER_SIGN_IN_METHOD="twitter.com";vd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const i=await vl._fromIdTokenResponse(e,r,a),o=b8(r);return new Mp({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=b8(r);return new Mp({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function b8(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By extends jc{constructor(e,n,r,a){var i;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,By.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new By(e,n,r,a)}}function cB(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?By._fromErrorAndOperation(t,i,e,r):i})}async function ude(t,e,n=!1){const r=await mg(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mp._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dde(t,e,n=!1){const{auth:r}=t;if(Ro(r.app))return Promise.reject(Od(r));const a="reauthenticate";try{const i=await mg(t,cB(r,a,e,t),n);tn(i.idToken,r,"internal-error");const o=m4(i.idToken);tn(o,r,"internal-error");const{sub:u}=o;return tn(t.uid===u,r,"user-mismatch"),Mp._forOperation(t,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&xl(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(t,e,n=!1){if(Ro(t.app))return Promise.reject(Od(t));const r="signIn",a=await cB(t,r,e),i=await Mp._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(i.user),i}async function fde(t,e){return uB(tm(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hde(t){const e=tm(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function _8(t,e,n){return Ro(t.app)?Promise.reject(Od(t)):fde(Hr(t),nm.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hde(t),r})}function pde(t,e,n,r){return Hr(t).onIdTokenChanged(e,n,r)}function mde(t,e,n){return Hr(t).beforeAuthStateChanged(e,n)}function gde(t,e,n,r){return Hr(t).onAuthStateChanged(e,n,r)}function vde(t){return Hr(t).signOut()}const Fy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fy,"1"),this.storage.removeItem(Fy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yde=1e3,xde=10;class fB extends dB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,d)=>{this.notifyListeners(o,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Bue()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,xde):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yde)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fB.type="LOCAL";const bde=fB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB extends dB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hB.type="SESSION";const pB=hB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _de(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Bx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:i}=n.data,o=this.handlersMap[a];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const u=Array.from(o).map(async f=>f(n.origin,i)),d=await _de(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wde{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,o;return new Promise((u,d)=>{const f=x4("",20);a.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);o={messageChannel:a,onMessage(g){const y=g;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(y.data.response);break;default:clearTimeout(p),clearTimeout(i),d(new Error("invalid_response"));break}}},this.handlers.add(o),a.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[a.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(){return window}function Ade(t){gc().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(){return typeof gc().WorkerGlobalScope<"u"&&typeof gc().importScripts=="function"}async function Nde(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Sde(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ede(){return mB()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="firebaseLocalStorageDb",jde=1,qy="firebaseLocalStorage",vB="fbase_key";class Lg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fx(t,e){return t.transaction([qy],e?"readwrite":"readonly").objectStore(qy)}function Tde(){const t=indexedDB.deleteDatabase(gB);return new Lg(t).toPromise()}function jS(){const t=indexedDB.open(gB,jde);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qy,{keyPath:vB})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qy)?e(r):(r.close(),await Tde(),e(await jS()))})})}async function w8(t,e,n){const r=Fx(t,!0).put({[vB]:e,value:n});return new Lg(r).toPromise()}async function Ode(t,e){const n=Fx(t,!1).get(e),r=await new Lg(n).toPromise();return r===void 0?null:r.value}function A8(t,e){const n=Fx(t,!0).delete(e);return new Lg(n).toPromise()}const kde=800,Cde=3;class yB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Cde)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bx._getInstance(Ede()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Nde(),!this.activeServiceWorker)return;this.sender=new wde(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Sde()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jS();return await w8(e,Fy,"1"),await A8(e,Fy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>w8(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ode(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>A8(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=Fx(a,!1).getAll();return new Lg(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kde)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yB.type="LOCAL";const Ide=yB;new Rg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pde(t,e){return e?ou(e):(tn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4 extends v4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return up(e,this._buildIdpRequest())}_linkToIdToken(e,n){return up(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return up(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Rde(t){return uB(t.auth,new b4(t),t.bypassAuthState)}function Dde(t){const{auth:e,user:n}=t;return tn(n,e,"internal-error"),dde(n,new b4(t),t.bypassAuthState)}async function Lde(t){const{auth:e,user:n}=t;return tn(n,e,"internal-error"),ude(n,new b4(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,n,r,a,i=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:i,error:o,type:u}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rde;case"linkViaPopup":case"linkViaRedirect":return Lde;case"reauthViaPopup":case"reauthViaRedirect":return Dde;default:xl(this.auth,"internal-error")}}resolve(e){xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mde=new Rg(2e3,1e4);class Qh extends xB{constructor(e,n,r,a,i){super(e,n,a,i),this.provider=r,this.authWindow=null,this.pollId=null,Qh.currentPopupAction&&Qh.currentPopupAction.cancel(),Qh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return tn(e,this.auth,"internal-error"),e}async onExecution(){xu(this.filter.length===1,"Popup operations only handle one event");const e=x4();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mde.get())};e()}}Qh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bde="pendingRedirect",m1=new Map;class Fde extends xB{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=m1.get(this.auth._key());if(!e){try{const r=await qde(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}m1.set(this.auth._key(),e)}return this.bypassAuthState||m1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qde(t,e){const n=Ude(e),r=Vde(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function zde(t,e){m1.set(t._key(),e)}function Vde(t){return ou(t._redirectPersistence)}function Ude(t){return p1(Bde,t.config.apiKey,t.name)}async function $de(t,e,n=!1){if(Ro(t.app))return Promise.reject(Od(t));const r=tm(t),a=Pde(r,e),o=await new Fde(r,a,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hde=600*1e3;class Gde{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Wde(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bB(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mc(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hde&&this.cachedEventUids.clear(),this.cachedEventUids.has(N8(e))}saveEventToCache(e){this.cachedEventUids.add(N8(e)),this.lastProcessedEventTime=Date.now()}}function N8(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bB({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Wde(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kde(t,e={}){return Xd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yde=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xde=/^https?/;async function Qde(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Kde(t);for(const n of e)try{if(Jde(n))return}catch{}xl(t,"unauthorized-domain")}function Jde(t){const e=SS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Xde.test(n))return!1;if(Yde.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zde=new Rg(3e4,6e4);function S8(){const t=gc().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function efe(t){return new Promise((e,n)=>{var r,a,i;function o(){S8(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S8(),n(mc(t,"network-request-failed"))},timeout:Zde.get()})}if(!((a=(r=gc().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((i=gc().gapi)===null||i===void 0)&&i.load)o();else{const u=Wue("iframefcb");return gc()[u]=()=>{gapi.load?o():n(mc(t,"network-request-failed"))},iB(`${Gue()}?onload=${u}`).catch(d=>n(d))}}).catch(e=>{throw g1=null,e})}let g1=null;function tfe(t){return g1=g1||efe(t),g1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nfe=new Rg(5e3,15e3),rfe="__/auth/iframe",afe="emulator/auth/iframe",ife={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sfe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ofe(t){const e=t.config;tn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?p4(e,afe):`https://${t.config.authDomain}/${rfe}`,r={apiKey:e.apiKey,appName:t.name,v:Qf},a=sfe.get(t.config.apiHost);a&&(r.eid=a);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Pg(r).slice(1)}`}async function lfe(t){const e=await tfe(t),n=gc().gapi;return tn(n,t,"internal-error"),e.open({where:document.body,url:ofe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ife,dontclear:!0},r=>new Promise(async(a,i)=>{await r.restyle({setHideOnLeave:!1});const o=mc(t,"network-request-failed"),u=gc().setTimeout(()=>{i(o)},nfe.get());function d(){gc().clearTimeout(u),a(r)}r.ping(d).then(d,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cfe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ufe=500,dfe=600,ffe="_blank",hfe="http://localhost";class E8{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pfe(t,e,n,r=ufe,a=dfe){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},cfe),{width:r.toString(),height:a.toString(),top:i,left:o}),f=Zi().toLowerCase();n&&(u=J9(f)?ffe:n),X9(f)&&(e=e||hfe,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[x,E])=>`${y}${x}=${E},`,"");if(Mue(f)&&u!=="_self")return mfe(e||"",u),new E8(null);const g=window.open(e||"",u,p);tn(g,t,"popup-blocked");try{g.focus()}catch{}return new E8(g)}function mfe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gfe="__/auth/handler",vfe="emulator/auth/handler",yfe=encodeURIComponent("fac");async function j8(t,e,n,r,a,i){tn(t.config.authDomain,t,"auth-domain-config-required"),tn(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qf,eventId:a};if(e instanceof lB){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rce(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(e instanceof Dg){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),f=d?`#${yfe}=${encodeURIComponent(d)}`:"";return`${xfe(t)}?${Pg(u).slice(1)}${f}`}function xfe({config:t}){return t.emulator?p4(t,vfe):`https://${t.authDomain}/${gfe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="webStorageSupport";class bfe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pB,this._completeRedirectFn=$de,this._overrideRedirectResult=zde}async _openPopup(e,n,r,a){var i;xu((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await j8(e,n,r,SS(),a);return pfe(e,o,x4())}async _openRedirect(e,n,r,a){await this._originValidation(e);const i=await j8(e,n,r,SS(),a);return Ade(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:i}=this.eventManagers[n];return a?Promise.resolve(a):(xu(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lfe(e),r=new Gde(e);return n.register("authEvent",a=>(tn(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(DA,{type:DA},a=>{var i;const o=(i=a==null?void 0:a[0])===null||i===void 0?void 0:i[DA];o!==void 0&&n(!!o),xl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Qde(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rB()||Q9()||g4()}}const _fe=bfe;var T8="@firebase/auth",O8="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wfe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){tn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Afe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Nfe(t){zf(new Dd("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;tn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aB(t)},f=new Uue(r,a,i,d);return Zue(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zf(new Dd("auth-internal",e=>{const n=tm(e.getProvider("auth").getImmediate());return(r=>new wfe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pc(T8,O8,Afe(t)),pc(T8,O8,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sfe=300,Efe=D9("authIdTokenMaxAge")||Sfe;let k8=null;const jfe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Efe)return;const a=n==null?void 0:n.token;k8!==a&&(k8=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Tfe(t=d4()){const e=Dx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jue(t,{popupRedirectResolver:_fe,persistence:[Ide,bde,pB]}),r=D9("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=jfe(i.toString());mde(n,o,()=>o(n.currentUser)),pde(n,u=>o(u))}}const a=I9("auth");return a&&ede(n,`http://${a}`),n}function Ofe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$ue({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const i=mc("internal-error");i.customData=a,n(i)},r.type="text/javascript",r.charset="UTF-8",Ofe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Nfe("Browser");var C8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kd,_B;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function V(){}V.prototype=I.prototype,k.D=I.prototype,k.prototype=new V,k.prototype.constructor=k,k.C=function(U,M,R){for(var j=Array(arguments.length-2),G=2;G<arguments.length;G++)j[G-2]=arguments[G];return I.prototype[M].apply(U,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,I,V){V||(V=0);var U=Array(16);if(typeof I=="string")for(var M=0;16>M;++M)U[M]=I.charCodeAt(V++)|I.charCodeAt(V++)<<8|I.charCodeAt(V++)<<16|I.charCodeAt(V++)<<24;else for(M=0;16>M;++M)U[M]=I[V++]|I[V++]<<8|I[V++]<<16|I[V++]<<24;I=k.g[0],V=k.g[1],M=k.g[2];var R=k.g[3],j=I+(R^V&(M^R))+U[0]+3614090360&4294967295;I=V+(j<<7&4294967295|j>>>25),j=R+(M^I&(V^M))+U[1]+3905402710&4294967295,R=I+(j<<12&4294967295|j>>>20),j=M+(V^R&(I^V))+U[2]+606105819&4294967295,M=R+(j<<17&4294967295|j>>>15),j=V+(I^M&(R^I))+U[3]+3250441966&4294967295,V=M+(j<<22&4294967295|j>>>10),j=I+(R^V&(M^R))+U[4]+4118548399&4294967295,I=V+(j<<7&4294967295|j>>>25),j=R+(M^I&(V^M))+U[5]+1200080426&4294967295,R=I+(j<<12&4294967295|j>>>20),j=M+(V^R&(I^V))+U[6]+2821735955&4294967295,M=R+(j<<17&4294967295|j>>>15),j=V+(I^M&(R^I))+U[7]+4249261313&4294967295,V=M+(j<<22&4294967295|j>>>10),j=I+(R^V&(M^R))+U[8]+1770035416&4294967295,I=V+(j<<7&4294967295|j>>>25),j=R+(M^I&(V^M))+U[9]+2336552879&4294967295,R=I+(j<<12&4294967295|j>>>20),j=M+(V^R&(I^V))+U[10]+4294925233&4294967295,M=R+(j<<17&4294967295|j>>>15),j=V+(I^M&(R^I))+U[11]+2304563134&4294967295,V=M+(j<<22&4294967295|j>>>10),j=I+(R^V&(M^R))+U[12]+1804603682&4294967295,I=V+(j<<7&4294967295|j>>>25),j=R+(M^I&(V^M))+U[13]+4254626195&4294967295,R=I+(j<<12&4294967295|j>>>20),j=M+(V^R&(I^V))+U[14]+2792965006&4294967295,M=R+(j<<17&4294967295|j>>>15),j=V+(I^M&(R^I))+U[15]+1236535329&4294967295,V=M+(j<<22&4294967295|j>>>10),j=I+(M^R&(V^M))+U[1]+4129170786&4294967295,I=V+(j<<5&4294967295|j>>>27),j=R+(V^M&(I^V))+U[6]+3225465664&4294967295,R=I+(j<<9&4294967295|j>>>23),j=M+(I^V&(R^I))+U[11]+643717713&4294967295,M=R+(j<<14&4294967295|j>>>18),j=V+(R^I&(M^R))+U[0]+3921069994&4294967295,V=M+(j<<20&4294967295|j>>>12),j=I+(M^R&(V^M))+U[5]+3593408605&4294967295,I=V+(j<<5&4294967295|j>>>27),j=R+(V^M&(I^V))+U[10]+38016083&4294967295,R=I+(j<<9&4294967295|j>>>23),j=M+(I^V&(R^I))+U[15]+3634488961&4294967295,M=R+(j<<14&4294967295|j>>>18),j=V+(R^I&(M^R))+U[4]+3889429448&4294967295,V=M+(j<<20&4294967295|j>>>12),j=I+(M^R&(V^M))+U[9]+568446438&4294967295,I=V+(j<<5&4294967295|j>>>27),j=R+(V^M&(I^V))+U[14]+3275163606&4294967295,R=I+(j<<9&4294967295|j>>>23),j=M+(I^V&(R^I))+U[3]+4107603335&4294967295,M=R+(j<<14&4294967295|j>>>18),j=V+(R^I&(M^R))+U[8]+1163531501&4294967295,V=M+(j<<20&4294967295|j>>>12),j=I+(M^R&(V^M))+U[13]+2850285829&4294967295,I=V+(j<<5&4294967295|j>>>27),j=R+(V^M&(I^V))+U[2]+4243563512&4294967295,R=I+(j<<9&4294967295|j>>>23),j=M+(I^V&(R^I))+U[7]+1735328473&4294967295,M=R+(j<<14&4294967295|j>>>18),j=V+(R^I&(M^R))+U[12]+2368359562&4294967295,V=M+(j<<20&4294967295|j>>>12),j=I+(V^M^R)+U[5]+4294588738&4294967295,I=V+(j<<4&4294967295|j>>>28),j=R+(I^V^M)+U[8]+2272392833&4294967295,R=I+(j<<11&4294967295|j>>>21),j=M+(R^I^V)+U[11]+1839030562&4294967295,M=R+(j<<16&4294967295|j>>>16),j=V+(M^R^I)+U[14]+4259657740&4294967295,V=M+(j<<23&4294967295|j>>>9),j=I+(V^M^R)+U[1]+2763975236&4294967295,I=V+(j<<4&4294967295|j>>>28),j=R+(I^V^M)+U[4]+1272893353&4294967295,R=I+(j<<11&4294967295|j>>>21),j=M+(R^I^V)+U[7]+4139469664&4294967295,M=R+(j<<16&4294967295|j>>>16),j=V+(M^R^I)+U[10]+3200236656&4294967295,V=M+(j<<23&4294967295|j>>>9),j=I+(V^M^R)+U[13]+681279174&4294967295,I=V+(j<<4&4294967295|j>>>28),j=R+(I^V^M)+U[0]+3936430074&4294967295,R=I+(j<<11&4294967295|j>>>21),j=M+(R^I^V)+U[3]+3572445317&4294967295,M=R+(j<<16&4294967295|j>>>16),j=V+(M^R^I)+U[6]+76029189&4294967295,V=M+(j<<23&4294967295|j>>>9),j=I+(V^M^R)+U[9]+3654602809&4294967295,I=V+(j<<4&4294967295|j>>>28),j=R+(I^V^M)+U[12]+3873151461&4294967295,R=I+(j<<11&4294967295|j>>>21),j=M+(R^I^V)+U[15]+530742520&4294967295,M=R+(j<<16&4294967295|j>>>16),j=V+(M^R^I)+U[2]+3299628645&4294967295,V=M+(j<<23&4294967295|j>>>9),j=I+(M^(V|~R))+U[0]+4096336452&4294967295,I=V+(j<<6&4294967295|j>>>26),j=R+(V^(I|~M))+U[7]+1126891415&4294967295,R=I+(j<<10&4294967295|j>>>22),j=M+(I^(R|~V))+U[14]+2878612391&4294967295,M=R+(j<<15&4294967295|j>>>17),j=V+(R^(M|~I))+U[5]+4237533241&4294967295,V=M+(j<<21&4294967295|j>>>11),j=I+(M^(V|~R))+U[12]+1700485571&4294967295,I=V+(j<<6&4294967295|j>>>26),j=R+(V^(I|~M))+U[3]+2399980690&4294967295,R=I+(j<<10&4294967295|j>>>22),j=M+(I^(R|~V))+U[10]+4293915773&4294967295,M=R+(j<<15&4294967295|j>>>17),j=V+(R^(M|~I))+U[1]+2240044497&4294967295,V=M+(j<<21&4294967295|j>>>11),j=I+(M^(V|~R))+U[8]+1873313359&4294967295,I=V+(j<<6&4294967295|j>>>26),j=R+(V^(I|~M))+U[15]+4264355552&4294967295,R=I+(j<<10&4294967295|j>>>22),j=M+(I^(R|~V))+U[6]+2734768916&4294967295,M=R+(j<<15&4294967295|j>>>17),j=V+(R^(M|~I))+U[13]+1309151649&4294967295,V=M+(j<<21&4294967295|j>>>11),j=I+(M^(V|~R))+U[4]+4149444226&4294967295,I=V+(j<<6&4294967295|j>>>26),j=R+(V^(I|~M))+U[11]+3174756917&4294967295,R=I+(j<<10&4294967295|j>>>22),j=M+(I^(R|~V))+U[2]+718787259&4294967295,M=R+(j<<15&4294967295|j>>>17),j=V+(R^(M|~I))+U[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(M+(j<<21&4294967295|j>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+R&4294967295}r.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var V=I-this.blockSize,U=this.B,M=this.h,R=0;R<I;){if(M==0)for(;R<=V;)a(this,k,R),R+=this.blockSize;if(typeof k=="string"){for(;R<I;)if(U[M++]=k.charCodeAt(R++),M==this.blockSize){a(this,U),M=0;break}}else for(;R<I;)if(U[M++]=k[R++],M==this.blockSize){a(this,U),M=0;break}}this.h=M,this.o+=I},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var V=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=V&255,V/=256;for(this.u(k),k=Array(16),I=V=0;4>I;++I)for(var U=0;32>U;U+=8)k[V++]=this.g[I]>>>U&255;return k};function i(k,I){var V=u;return Object.prototype.hasOwnProperty.call(V,k)?V[k]:V[k]=I(k)}function o(k,I){this.h=I;for(var V=[],U=!0,M=k.length-1;0<=M;M--){var R=k[M]|0;U&&R==I||(V[M]=R,U=!1)}this.g=V}var u={};function d(k){return-128<=k&&128>k?i(k,function(I){return new o([I|0],0>I?-1:0)}):new o([k|0],0>k?-1:0)}function f(k){if(isNaN(k)||!isFinite(k))return g;if(0>k)return N(f(-k));for(var I=[],V=1,U=0;k>=V;U++)I[U]=k/V|0,V*=4294967296;return new o(I,0)}function p(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return N(p(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=f(Math.pow(I,8)),U=g,M=0;M<k.length;M+=8){var R=Math.min(8,k.length-M),j=parseInt(k.substring(M,M+R),I);8>R?(R=f(Math.pow(I,R)),U=U.j(R).add(f(j))):(U=U.j(V),U=U.add(f(j)))}return U}var g=d(0),y=d(1),x=d(16777216);t=o.prototype,t.m=function(){if(w(this))return-N(this).m();for(var k=0,I=1,V=0;V<this.g.length;V++){var U=this.i(V);k+=(0<=U?U:4294967296+U)*I,I*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(E(this))return"0";if(w(this))return"-"+N(this).toString(k);for(var I=f(Math.pow(k,6)),V=this,U="";;){var M=q(V,I).g;V=T(V,M.j(I));var R=((0<V.g.length?V.g[0]:V.h)>>>0).toString(k);if(V=M,E(V))return R+U;for(;6>R.length;)R="0"+R;U=R+U}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function E(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function w(k){return k.h==-1}t.l=function(k){return k=T(this,k),w(k)?-1:E(k)?0:1};function N(k){for(var I=k.g.length,V=[],U=0;U<I;U++)V[U]=~k.g[U];return new o(V,~k.h).add(y)}t.abs=function(){return w(this)?N(this):this},t.add=function(k){for(var I=Math.max(this.g.length,k.g.length),V=[],U=0,M=0;M<=I;M++){var R=U+(this.i(M)&65535)+(k.i(M)&65535),j=(R>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);U=j>>>16,R&=65535,j&=65535,V[M]=j<<16|R}return new o(V,V[V.length-1]&-2147483648?-1:0)};function T(k,I){return k.add(N(I))}t.j=function(k){if(E(this)||E(k))return g;if(w(this))return w(k)?N(this).j(N(k)):N(N(this).j(k));if(w(k))return N(this.j(N(k)));if(0>this.l(x)&&0>k.l(x))return f(this.m()*k.m());for(var I=this.g.length+k.g.length,V=[],U=0;U<2*I;U++)V[U]=0;for(U=0;U<this.g.length;U++)for(var M=0;M<k.g.length;M++){var R=this.i(U)>>>16,j=this.i(U)&65535,G=k.i(M)>>>16,re=k.i(M)&65535;V[2*U+2*M]+=j*re,C(V,2*U+2*M),V[2*U+2*M+1]+=R*re,C(V,2*U+2*M+1),V[2*U+2*M+1]+=j*G,C(V,2*U+2*M+1),V[2*U+2*M+2]+=R*G,C(V,2*U+2*M+2)}for(U=0;U<I;U++)V[U]=V[2*U+1]<<16|V[2*U];for(U=I;U<2*I;U++)V[U]=0;return new o(V,0)};function C(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function B(k,I){this.g=k,this.h=I}function q(k,I){if(E(I))throw Error("division by zero");if(E(k))return new B(g,g);if(w(k))return I=q(N(k),I),new B(N(I.g),N(I.h));if(w(I))return I=q(k,N(I)),new B(N(I.g),I.h);if(30<k.g.length){if(w(k)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var V=y,U=I;0>=U.l(k);)V=D(V),U=D(U);var M=F(V,1),R=F(U,1);for(U=F(U,2),V=F(V,2);!E(U);){var j=R.add(U);0>=j.l(k)&&(M=M.add(V),R=j),U=F(U,1),V=F(V,1)}return I=T(k,M.j(I)),new B(M,I)}for(M=g;0<=k.l(I);){for(V=Math.max(1,Math.floor(k.m()/I.m())),U=Math.ceil(Math.log(V)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),R=f(V),j=R.j(I);w(j)||0<j.l(k);)V-=U,R=f(V),j=R.j(I);E(R)&&(R=y),M=M.add(R),k=T(k,j)}return new B(M,k)}t.A=function(k){return q(this,k).h},t.and=function(k){for(var I=Math.max(this.g.length,k.g.length),V=[],U=0;U<I;U++)V[U]=this.i(U)&k.i(U);return new o(V,this.h&k.h)},t.or=function(k){for(var I=Math.max(this.g.length,k.g.length),V=[],U=0;U<I;U++)V[U]=this.i(U)|k.i(U);return new o(V,this.h|k.h)},t.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),V=[],U=0;U<I;U++)V[U]=this.i(U)^k.i(U);return new o(V,this.h^k.h)};function D(k){for(var I=k.g.length+1,V=[],U=0;U<I;U++)V[U]=k.i(U)<<1|k.i(U-1)>>>31;return new o(V,k.h)}function F(k,I){var V=I>>5;I%=32;for(var U=k.g.length-V,M=[],R=0;R<U;R++)M[R]=0<I?k.i(R+V)>>>I|k.i(R+V+1)<<32-I:k.i(R+V);return new o(M,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_B=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=p,kd=o}).apply(typeof C8<"u"?C8:typeof self<"u"?self:typeof window<"u"?window:{});var e1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wB,o0,AB,v1,TS,NB,SB,EB;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,z,W){return b==Array.prototype||b==Object.prototype||(b[z]=W.value),b};function n(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof e1=="object"&&e1];for(var z=0;z<b.length;++z){var W=b[z];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}var r=n(this);function a(b,z){if(z)e:{var W=r;b=b.split(".");for(var fe=0;fe<b.length-1;fe++){var Ie=b[fe];if(!(Ie in W))break e;W=W[Ie]}b=b[b.length-1],fe=W[b],z=z(fe),z!=fe&&z!=null&&e(W,b,{configurable:!0,writable:!0,value:z})}}function i(b,z){b instanceof String&&(b+="");var W=0,fe=!1,Ie={next:function(){if(!fe&&W<b.length){var qe=W++;return{value:z(qe,b[qe]),done:!1}}return fe=!0,{done:!0,value:void 0}}};return Ie[Symbol.iterator]=function(){return Ie},Ie}a("Array.prototype.values",function(b){return b||function(){return i(this,function(z,W){return W})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function d(b){var z=typeof b;return z=z!="object"?z:b?Array.isArray(b)?"array":z:"null",z=="array"||z=="object"&&typeof b.length=="number"}function f(b){var z=typeof b;return z=="object"&&b!=null||z=="function"}function p(b,z,W){return b.call.apply(b.bind,arguments)}function g(b,z,W){if(!b)throw Error();if(2<arguments.length){var fe=Array.prototype.slice.call(arguments,2);return function(){var Ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ie,fe),b.apply(z,Ie)}}return function(){return b.apply(z,arguments)}}function y(b,z,W){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function x(b,z){var W=Array.prototype.slice.call(arguments,1);return function(){var fe=W.slice();return fe.push.apply(fe,arguments),b.apply(this,fe)}}function E(b,z){function W(){}W.prototype=z.prototype,b.aa=z.prototype,b.prototype=new W,b.prototype.constructor=b,b.Qb=function(fe,Ie,qe){for(var pt=Array(arguments.length-2),rn=2;rn<arguments.length;rn++)pt[rn-2]=arguments[rn];return z.prototype[Ie].apply(fe,pt)}}function w(b){const z=b.length;if(0<z){const W=Array(z);for(let fe=0;fe<z;fe++)W[fe]=b[fe];return W}return[]}function N(b,z){for(let W=1;W<arguments.length;W++){const fe=arguments[W];if(d(fe)){const Ie=b.length||0,qe=fe.length||0;b.length=Ie+qe;for(let pt=0;pt<qe;pt++)b[Ie+pt]=fe[pt]}else b.push(fe)}}class T{constructor(z,W){this.i=z,this.j=W,this.h=0,this.g=null}get(){let z;return 0<this.h?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}function C(b){return/^[\s\xa0]*$/.test(b)}function B(){var b=u.navigator;return b&&(b=b.userAgent)?b:""}function q(b){return q[" "](b),b}q[" "]=function(){};var D=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function F(b,z,W){for(const fe in b)z.call(W,b[fe],fe,b)}function k(b,z){for(const W in b)z.call(void 0,b[W],W,b)}function I(b){const z={};for(const W in b)z[W]=b[W];return z}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(b,z){let W,fe;for(let Ie=1;Ie<arguments.length;Ie++){fe=arguments[Ie];for(W in fe)b[W]=fe[W];for(let qe=0;qe<V.length;qe++)W=V[qe],Object.prototype.hasOwnProperty.call(fe,W)&&(b[W]=fe[W])}}function M(b){var z=1;b=b.split(":");const W=[];for(;0<z&&b.length;)W.push(b.shift()),z--;return b.length&&W.push(b.join(":")),W}function R(b){u.setTimeout(()=>{throw b},0)}function j(){var b=ye;let z=null;return b.g&&(z=b.g,b.g=b.g.next,b.g||(b.h=null),z.next=null),z}class G{constructor(){this.h=this.g=null}add(z,W){const fe=re.get();fe.set(z,W),this.h?this.h.next=fe:this.g=fe,this.h=fe}}var re=new T(()=>new J,b=>b.reset());class J{constructor(){this.next=this.g=this.h=null}set(z,W){this.h=z,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,oe=!1,ye=new G,ge=()=>{const b=u.Promise.resolve(void 0);Z=()=>{b.then(le)}};var le=()=>{for(var b;b=j();){try{b.h.call(b.g)}catch(W){R(W)}var z=re;z.j(b),100>z.h&&(z.h++,b.next=z.g,z.g=b)}oe=!1};function P(){this.s=this.s,this.C=this.C}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(b,z){this.type=b,this.g=this.target=z,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var Q=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var b=!1,z=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const W=()=>{};u.addEventListener("test",W,z),u.removeEventListener("test",W,z)}catch{}return b})();function K(b,z){if(H.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var W=this.type=b.type,fe=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=z,z=b.relatedTarget){if(D){e:{try{q(z.nodeName);var Ie=!0;break e}catch{}Ie=!1}Ie||(z=null)}}else W=="mouseover"?z=b.fromElement:W=="mouseout"&&(z=b.toElement);this.relatedTarget=z,fe?(this.clientX=fe.clientX!==void 0?fe.clientX:fe.pageX,this.clientY=fe.clientY!==void 0?fe.clientY:fe.pageY,this.screenX=fe.screenX||0,this.screenY=fe.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=typeof b.pointerType=="string"?b.pointerType:X[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&K.aa.h.call(this)}}E(K,H);var X={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),be=0;function ee(b,z,W,fe,Ie){this.listener=b,this.proxy=null,this.src=z,this.type=W,this.capture=!!fe,this.ha=Ie,this.key=++be,this.da=this.fa=!1}function _e(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Se(b){this.src=b,this.g={},this.h=0}Se.prototype.add=function(b,z,W,fe,Ie){var qe=b.toString();b=this.g[qe],b||(b=this.g[qe]=[],this.h++);var pt=Je(b,z,fe,Ie);return-1<pt?(z=b[pt],W||(z.fa=!1)):(z=new ee(z,this.src,qe,!!fe,Ie),z.fa=W,b.push(z)),z};function Ae(b,z){var W=z.type;if(W in b.g){var fe=b.g[W],Ie=Array.prototype.indexOf.call(fe,z,void 0),qe;(qe=0<=Ie)&&Array.prototype.splice.call(fe,Ie,1),qe&&(_e(z),b.g[W].length==0&&(delete b.g[W],b.h--))}}function Je(b,z,W,fe){for(var Ie=0;Ie<b.length;++Ie){var qe=b[Ie];if(!qe.da&&qe.listener==z&&qe.capture==!!W&&qe.ha==fe)return Ie}return-1}var Le="closure_lm_"+(1e6*Math.random()|0),ce={};function ae(b,z,W,fe,Ie){if(Array.isArray(z)){for(var qe=0;qe<z.length;qe++)ae(b,z[qe],W,fe,Ie);return null}return W=yt(W),b&&b[me]?b.K(z,W,f(fe)?!!fe.capture:!1,Ie):Ye(b,z,W,!1,fe,Ie)}function Ye(b,z,W,fe,Ie,qe){if(!z)throw Error("Invalid event type");var pt=f(Ie)?!!Ie.capture:!!Ie,rn=tt(b);if(rn||(b[Le]=rn=new Se(b)),W=rn.add(z,W,fe,pt,qe),W.proxy)return W;if(fe=nt(),W.proxy=fe,fe.src=b,fe.listener=W,b.addEventListener)Q||(Ie=pt),Ie===void 0&&(Ie=!1),b.addEventListener(z.toString(),fe,Ie);else if(b.attachEvent)b.attachEvent(Ke(z.toString()),fe);else if(b.addListener&&b.removeListener)b.addListener(fe);else throw Error("addEventListener and attachEvent are unavailable.");return W}function nt(){function b(W){return z.call(b.src,b.listener,W)}const z=et;return b}function He(b,z,W,fe,Ie){if(Array.isArray(z))for(var qe=0;qe<z.length;qe++)He(b,z[qe],W,fe,Ie);else fe=f(fe)?!!fe.capture:!!fe,W=yt(W),b&&b[me]?(b=b.i,z=String(z).toString(),z in b.g&&(qe=b.g[z],W=Je(qe,W,fe,Ie),-1<W&&(_e(qe[W]),Array.prototype.splice.call(qe,W,1),qe.length==0&&(delete b.g[z],b.h--)))):b&&(b=tt(b))&&(z=b.g[z.toString()],b=-1,z&&(b=Je(z,W,fe,Ie)),(W=-1<b?z[b]:null)&&Ue(W))}function Ue(b){if(typeof b!="number"&&b&&!b.da){var z=b.src;if(z&&z[me])Ae(z.i,b);else{var W=b.type,fe=b.proxy;z.removeEventListener?z.removeEventListener(W,fe,b.capture):z.detachEvent?z.detachEvent(Ke(W),fe):z.addListener&&z.removeListener&&z.removeListener(fe),(W=tt(z))?(Ae(W,b),W.h==0&&(W.src=null,z[Le]=null)):_e(b)}}}function Ke(b){return b in ce?ce[b]:ce[b]="on"+b}function et(b,z){if(b.da)b=!0;else{z=new K(z,this);var W=b.listener,fe=b.ha||b.src;b.fa&&Ue(b),b=W.call(fe,z)}return b}function tt(b){return b=b[Le],b instanceof Se?b:null}var Ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function yt(b){return typeof b=="function"?b:(b[Ge]||(b[Ge]=function(z){return b.handleEvent(z)}),b[Ge])}function vt(){P.call(this),this.i=new Se(this),this.M=this,this.F=null}E(vt,P),vt.prototype[me]=!0,vt.prototype.removeEventListener=function(b,z,W,fe){He(this,b,z,W,fe)};function _t(b,z){var W,fe=b.F;if(fe)for(W=[];fe;fe=fe.F)W.push(fe);if(b=b.M,fe=z.type||z,typeof z=="string")z=new H(z,b);else if(z instanceof H)z.target=z.target||b;else{var Ie=z;z=new H(fe,b),U(z,Ie)}if(Ie=!0,W)for(var qe=W.length-1;0<=qe;qe--){var pt=z.g=W[qe];Ie=Bt(pt,fe,!0,z)&&Ie}if(pt=z.g=b,Ie=Bt(pt,fe,!0,z)&&Ie,Ie=Bt(pt,fe,!1,z)&&Ie,W)for(qe=0;qe<W.length;qe++)pt=z.g=W[qe],Ie=Bt(pt,fe,!1,z)&&Ie}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var b=this.i,z;for(z in b.g){for(var W=b.g[z],fe=0;fe<W.length;fe++)_e(W[fe]);delete b.g[z],b.h--}}this.F=null},vt.prototype.K=function(b,z,W,fe){return this.i.add(String(b),z,!1,W,fe)},vt.prototype.L=function(b,z,W,fe){return this.i.add(String(b),z,!0,W,fe)};function Bt(b,z,W,fe){if(z=b.i.g[String(z)],!z)return!0;z=z.concat();for(var Ie=!0,qe=0;qe<z.length;++qe){var pt=z[qe];if(pt&&!pt.da&&pt.capture==W){var rn=pt.listener,_n=pt.ha||pt.src;pt.fa&&Ae(b.i,pt),Ie=rn.call(_n,fe)!==!1&&Ie}}return Ie&&!fe.defaultPrevented}function At(b,z,W){if(typeof b=="function")W&&(b=y(b,W));else if(b&&typeof b.handleEvent=="function")b=y(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(z)?-1:u.setTimeout(b,z||0)}function Vt(b){b.g=At(()=>{b.g=null,b.i&&(b.i=!1,Vt(b))},b.l);const z=b.h;b.h=null,b.m.apply(null,z)}class bt extends P{constructor(z,W){super(),this.m=z,this.l=W,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:Vt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zn(b){P.call(this),this.h=b,this.g={}}E(Zn,P);var Jt=[];function er(b){F(b.g,function(z,W){this.g.hasOwnProperty(W)&&Ue(z)},b),b.g={}}Zn.prototype.N=function(){Zn.aa.N.call(this),er(this)},Zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pn=u.JSON.stringify,mn=u.JSON.parse,Ti=class{stringify(b){return u.JSON.stringify(b,void 0)}parse(b){return u.JSON.parse(b,void 0)}};function fn(){}fn.prototype.h=null;function aa(b){return b.h||(b.h=b.i())}function Bn(){}var jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lr(){H.call(this,"d")}E(Lr,H);function bn(){H.call(this,"c")}E(bn,H);var It={},gn=null;function pa(){return gn=gn||new vt}It.La="serverreachability";function Tr(b){H.call(this,It.La,b)}E(Tr,H);function ia(b){const z=pa();_t(z,new Tr(z))}It.STAT_EVENT="statevent";function ma(b,z){H.call(this,It.STAT_EVENT,b),this.stat=z}E(ma,H);function Ot(b){const z=pa();_t(z,new ma(z,b))}It.Ma="timingevent";function Aa(b,z){H.call(this,It.Ma,b),this.size=z}E(Aa,H);function Or(b,z){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){b()},z)}function Mr(){this.g=!0}Mr.prototype.xa=function(){this.g=!1};function ar(b,z,W,fe,Ie,qe){b.info(function(){if(b.g)if(qe)for(var pt="",rn=qe.split("&"),_n=0;_n<rn.length;_n++){var Kt=rn[_n].split("=");if(1<Kt.length){var Wn=Kt[0];Kt=Kt[1];var cr=Wn.split("_");pt=2<=cr.length&&cr[1]=="type"?pt+(Wn+"="+Kt+"&"):pt+(Wn+"=redacted&")}}else pt=null;else pt=qe;return"XMLHTTP REQ ("+fe+") [attempt "+Ie+"]: "+z+`
`+W+`
`+pt})}function ue(b,z,W,fe,Ie,qe,pt){b.info(function(){return"XMLHTTP RESP ("+fe+") [ attempt "+Ie+"]: "+z+`
`+W+`
`+qe+" "+pt})}function We(b,z,W,fe){b.info(function(){return"XMLHTTP TEXT ("+z+"): "+sn(b,W)+(fe?" "+fe:"")})}function Gt(b,z){b.info(function(){return"TIMEOUT: "+z})}Mr.prototype.info=function(){};function sn(b,z){if(!b.g)return z;if(!z)return null;try{var W=JSON.parse(z);if(W){for(b=0;b<W.length;b++)if(Array.isArray(W[b])){var fe=W[b];if(!(2>fe.length)){var Ie=fe[1];if(Array.isArray(Ie)&&!(1>Ie.length)){var qe=Ie[0];if(qe!="noop"&&qe!="stop"&&qe!="close")for(var pt=1;pt<Ie.length;pt++)Ie[pt]=""}}}}return pn(W)}catch{return z}}var zt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ft={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zt;function Me(){}E(Me,fn),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Zt=new Me;function Et(b,z,W,fe){this.j=b,this.i=z,this.l=W,this.R=fe||1,this.U=new Zn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mt}function Mt(){this.i=null,this.g="",this.h=!1}var kr={},Cr={};function kn(b,z,W){b.L=1,b.v=fo(pr(z)),b.m=W,b.P=!0,Ir(b,null)}function Ir(b,z){b.F=Date.now(),es(b),b.A=pr(b.v);var W=b.A,fe=b.R;Array.isArray(fe)||(fe=[String(fe)]),Ut(W.i,"t",fe),b.C=0,W=b.j.J,b.h=new Mt,b.g=te(b.j,W?z:null,!b.m),0<b.O&&(b.M=new bt(y(b.Y,b,b.g),b.O)),z=b.U,W=b.g,fe=b.ca;var Ie="readystatechange";Array.isArray(Ie)||(Ie&&(Jt[0]=Ie.toString()),Ie=Jt);for(var qe=0;qe<Ie.length;qe++){var pt=ae(W,Ie[qe],fe||z.handleEvent,!1,z.h||z);if(!pt)break;z.g[pt.key]=pt}z=b.H?I(b.H):{},b.m?(b.u||(b.u="POST"),z["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,z)):(b.u="GET",b.g.ea(b.A,b.u,null,z)),ia(),ar(b.i,b.u,b.A,b.l,b.R,b.m)}Et.prototype.ca=function(b){b=b.target;const z=this.M;z&&Fr(b)==3?z.j():this.Y(b)},Et.prototype.Y=function(b){try{if(b==this.g)e:{const cr=Fr(this.g);var z=this.g.Ba();const Hs=this.g.Z();if(!(3>cr)&&(cr!=3||this.g&&(this.h.h||this.g.oa()||Ho(this.g)))){this.J||cr!=4||z==7||(z==8||0>=Hs?ia(3):ia(2)),Ms(this);var W=this.g.Z();this.X=W;t:if(zn(this)){var fe=Ho(this.g);b="";var Ie=fe.length,qe=Fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fa(this),Bs(this);var pt="";break t}this.h.i=new u.TextDecoder}for(z=0;z<Ie;z++)this.h.h=!0,b+=this.h.i.decode(fe[z],{stream:!(qe&&z==Ie-1)});fe.length=0,this.h.g+=b,this.C=0,pt=this.h.g}else pt=this.g.oa();if(this.o=W==200,ue(this.i,this.u,this.A,this.l,this.R,cr,W),this.o){if(this.T&&!this.K){t:{if(this.g){var rn,_n=this.g;if((rn=_n.g?_n.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(rn)){var Kt=rn;break t}}Kt=null}if(W=Kt)We(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ki(this,W);else{this.o=!1,this.s=3,Ot(12),Fa(this),Bs(this);break e}}if(this.P){W=!0;let Sa;for(;!this.J&&this.C<pt.length;)if(Sa=Oi(this,pt),Sa==Cr){cr==4&&(this.s=4,Ot(14),W=!1),We(this.i,this.l,null,"[Incomplete Response]");break}else if(Sa==kr){this.s=4,Ot(15),We(this.i,this.l,pt,"[Invalid Chunk]"),W=!1;break}else We(this.i,this.l,Sa,null),ki(this,Sa);if(zn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cr!=4||pt.length!=0||this.h.h||(this.s=1,Ot(16),W=!1),this.o=this.o&&W,!W)We(this.i,this.l,pt,"[Invalid Chunked Response]"),Fa(this),Bs(this);else if(0<pt.length&&!this.W){this.W=!0;var Wn=this.j;Wn.g==this&&Wn.ba&&!Wn.M&&(Wn.j.info("Great, no buffering proxy detected. Bytes received: "+pt.length),Rl(Wn),Wn.M=!0,Ot(11))}}else We(this.i,this.l,pt,null),ki(this,pt);cr==4&&Fa(this),this.o&&!this.J&&(cr==4?xo(this.j,this):(this.o=!1,es(this)))}else Us(this.g),W==400&&0<pt.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Fa(this),Bs(this)}}}catch{}finally{}};function zn(b){return b.g?b.u=="GET"&&b.L!=2&&b.j.Ca:!1}function Oi(b,z){var W=b.C,fe=z.indexOf(`
`,W);return fe==-1?Cr:(W=Number(z.substring(W,fe)),isNaN(W)?kr:(fe+=1,fe+W>z.length?Cr:(z=z.slice(fe,fe+W),b.C=fe+W,z)))}Et.prototype.cancel=function(){this.J=!0,Fa(this)};function es(b){b.S=Date.now()+b.I,Br(b,b.I)}function Br(b,z){if(b.B!=null)throw Error("WatchDog timer not null");b.B=Or(y(b.ba,b),z)}function Ms(b){b.B&&(u.clearTimeout(b.B),b.B=null)}Et.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(Gt(this.i,this.A),this.L!=2&&(ia(),Ot(17)),Fa(this),this.s=2,Bs(this)):Br(this,this.S-b)};function Bs(b){b.j.G==0||b.J||xo(b.j,b)}function Fa(b){Ms(b);var z=b.M;z&&typeof z.ma=="function"&&z.ma(),b.M=null,er(b.U),b.g&&(z=b.g,b.g=null,z.abort(),z.ma())}function ki(b,z){try{var W=b.j;if(W.G!=0&&(W.g==b||uo(W.h,b))){if(!b.K&&uo(W.h,b)&&W.G==3){try{var fe=W.Da.g.parse(z)}catch{fe=null}if(Array.isArray(fe)&&fe.length==3){var Ie=fe;if(Ie[0]==0){e:if(!W.u){if(W.g)if(W.g.F+3e3<b.F)rs(W),go(W);else break e;Wo(W),Ot(18)}}else W.za=Ie[1],0<W.za-W.T&&37500>Ie[2]&&W.F&&W.v==0&&!W.C&&(W.C=Or(y(W.Za,W),6e3));if(1>=qo(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else ti(W,11)}else if((b.K||W.g==b)&&rs(W),!C(z))for(Ie=W.Da.g.parse(z),z=0;z<Ie.length;z++){let Kt=Ie[z];if(W.T=Kt[0],Kt=Kt[1],W.G==2)if(Kt[0]=="c"){W.K=Kt[1],W.ia=Kt[2];const Wn=Kt[3];Wn!=null&&(W.la=Wn,W.j.info("VER="+W.la));const cr=Kt[4];cr!=null&&(W.Aa=cr,W.j.info("SVER="+W.Aa));const Hs=Kt[5];Hs!=null&&typeof Hs=="number"&&0<Hs&&(fe=1.5*Hs,W.L=fe,W.j.info("backChannelRequestTimeoutMs_="+fe)),fe=W;const Sa=b.g;if(Sa){const Gs=Sa.g?Sa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var qe=fe.h;qe.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(qe.j=qe.l,qe.g=new Set,qe.h&&(ir(qe,qe.h),qe.h=null))}if(fe.D){const Li=Sa.g?Sa.g.getResponseHeader("X-HTTP-Session-Id"):null;Li&&(fe.ya=Li,Cn(fe.I,fe.D,Li))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-b.F,W.j.info("Handshake RTT: "+W.R+"ms")),fe=W;var pt=b;if(fe.qa=O(fe,fe.J?fe.ia:null,fe.W),pt.K){hi(fe.h,pt);var rn=pt,_n=fe.L;_n&&(rn.I=_n),rn.B&&(Ms(rn),es(rn)),fe.g=pt}else Pl(fe);0<W.i.length&&Cl(W)}else Kt[0]!="stop"&&Kt[0]!="close"||ti(W,7);else W.G==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?ti(W,7):$s(W):Kt[0]!="noop"&&W.l&&W.l.ta(Kt),W.v=0)}}ia(4)}catch{}}var Zd=class{constructor(b,z){this.g=b,this.map=z}};function Nl(b){this.l=b||10,u.PerformanceNavigationTiming?(b=u.performance.getEntriesByType("navigation"),b=0<b.length&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tc(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function qo(b){return b.h?1:b.g?b.g.size:0}function uo(b,z){return b.h?b.h==z:b.g?b.g.has(z):!1}function ir(b,z){b.g?b.g.add(z):b.h=z}function hi(b,z){b.h&&b.h==z?b.h=null:b.g&&b.g.has(z)&&b.g.delete(z)}Nl.prototype.cancel=function(){if(this.i=Na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function Na(b){if(b.h!=null)return b.i.concat(b.h.D);if(b.g!=null&&b.g.size!==0){let z=b.i;for(const W of b.g.values())z=z.concat(W.D);return z}return w(b.i)}function Oc(b){if(b.V&&typeof b.V=="function")return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if(typeof b=="string")return b.split("");if(d(b)){for(var z=[],W=b.length,fe=0;fe<W;fe++)z.push(b[fe]);return z}z=[],W=0;for(fe in b)z[W++]=b[fe];return z}function kc(b){if(b.na&&typeof b.na=="function")return b.na();if(!b.V||typeof b.V!="function"){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(d(b)||typeof b=="string"){var z=[];b=b.length;for(var W=0;W<b;W++)z.push(W);return z}z=[],W=0;for(const fe in b)z[W++]=fe;return z}}}function Sl(b,z){if(b.forEach&&typeof b.forEach=="function")b.forEach(z,void 0);else if(d(b)||typeof b=="string")Array.prototype.forEach.call(b,z,void 0);else for(var W=kc(b),fe=Oc(b),Ie=fe.length,qe=0;qe<Ie;qe++)z.call(void 0,fe[qe],W&&W[qe],b)}var pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fs(b,z){if(b){b=b.split("&");for(var W=0;W<b.length;W++){var fe=b[W].indexOf("="),Ie=null;if(0<=fe){var qe=b[W].substring(0,fe);Ie=b[W].substring(fe+1)}else qe=b[W];z(qe,Ie?decodeURIComponent(Ie.replace(/\+/g," ")):"")}}}function Gr(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof Gr){this.h=b.h,qs(this,b.j),this.o=b.o,this.g=b.g,zo(this,b.s),this.l=b.l;var z=b.i,W=new ns;W.i=z.i,z.g&&(W.g=new Map(z.g),W.h=z.h),Vo(this,W),this.m=b.m}else b&&(z=String(b).match(pi))?(this.h=!1,qs(this,z[1]||"",!0),this.o=ho(z[2]||""),this.g=ho(z[3]||"",!0),zo(this,z[4]),this.l=ho(z[5]||"",!0),Vo(this,z[6]||"",!0),this.m=ho(z[7]||"")):(this.h=!1,this.i=new ns(null,this.h))}Gr.prototype.toString=function(){var b=[],z=this.j;z&&b.push(Za(z,Cc,!0),":");var W=this.g;return(W||z=="file")&&(b.push("//"),(z=this.o)&&b.push(Za(z,Cc,!0),"@"),b.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),W=this.s,W!=null&&b.push(":",String(W))),(W=this.l)&&(this.g&&W.charAt(0)!="/"&&b.push("/"),b.push(Za(W,W.charAt(0)=="/"?ts:ju,!0))),(W=this.i.toString())&&b.push("?",W),(W=this.m)&&b.push("#",Za(W,jl)),b.join("")};function pr(b){return new Gr(b)}function qs(b,z,W){b.j=W?ho(z,!0):z,b.j&&(b.j=b.j.replace(/:$/,""))}function zo(b,z){if(z){if(z=Number(z),isNaN(z)||0>z)throw Error("Bad port number "+z);b.s=z}else b.s=null}function Vo(b,z,W){z instanceof ns?(b.i=z,Tu(b.i,b.h)):(W||(z=Za(z,El)),b.i=new ns(z,b.h))}function Cn(b,z,W){b.i.set(z,W)}function fo(b){return Cn(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function ho(b,z){return b?z?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Za(b,z,W){return typeof b=="string"?(b=encodeURI(b).replace(z,ef),W&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function ef(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Cc=/[#\/\?@]/g,ju=/[#\?:]/g,ts=/[#\?]/g,El=/[#\?@]/g,jl=/#/g;function ns(b,z){this.h=this.g=null,this.i=b||null,this.j=!!z}function Fn(b){b.g||(b.g=new Map,b.h=0,b.i&&Fs(b.i,function(z,W){b.add(decodeURIComponent(z.replace(/\+/g," ")),W)}))}t=ns.prototype,t.add=function(b,z){Fn(this),this.i=null,b=mi(this,b);var W=this.g.get(b);return W||this.g.set(b,W=[]),W.push(z),this.h+=1,this};function Tl(b,z){Fn(b),z=mi(b,z),b.g.has(z)&&(b.i=null,b.h-=b.g.get(z).length,b.g.delete(z))}function Uo(b,z){return Fn(b),z=mi(b,z),b.g.has(z)}t.forEach=function(b,z){Fn(this),this.g.forEach(function(W,fe){W.forEach(function(Ie){b.call(z,Ie,fe,this)},this)},this)},t.na=function(){Fn(this);const b=Array.from(this.g.values()),z=Array.from(this.g.keys()),W=[];for(let fe=0;fe<z.length;fe++){const Ie=b[fe];for(let qe=0;qe<Ie.length;qe++)W.push(z[fe])}return W},t.V=function(b){Fn(this);let z=[];if(typeof b=="string")Uo(this,b)&&(z=z.concat(this.g.get(mi(this,b))));else{b=Array.from(this.g.values());for(let W=0;W<b.length;W++)z=z.concat(b[W])}return z},t.set=function(b,z){return Fn(this),this.i=null,b=mi(this,b),Uo(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[z]),this.h+=1,this},t.get=function(b,z){return b?(b=this.V(b),0<b.length?String(b[0]):z):z};function Ut(b,z,W){Tl(b,z),0<W.length&&(b.i=null,b.g.set(mi(b,z),w(W)),b.h+=W.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],z=Array.from(this.g.keys());for(var W=0;W<z.length;W++){var fe=z[W];const qe=encodeURIComponent(String(fe)),pt=this.V(fe);for(fe=0;fe<pt.length;fe++){var Ie=qe;pt[fe]!==""&&(Ie+="="+encodeURIComponent(String(pt[fe]))),b.push(Ie)}}return this.i=b.join("&")};function mi(b,z){return z=String(z),b.j&&(z=z.toLowerCase()),z}function Tu(b,z){z&&!b.j&&(Fn(b),b.i=null,b.g.forEach(function(W,fe){var Ie=fe.toLowerCase();fe!=Ie&&(Tl(this,fe),Ut(this,Ie,W))},b)),b.j=z}function Ci(b,z){const W=new Mr;if(u.Image){const fe=new Image;fe.onload=x(qa,W,"TestLoadImage: loaded",!0,z,fe),fe.onerror=x(qa,W,"TestLoadImage: error",!1,z,fe),fe.onabort=x(qa,W,"TestLoadImage: abort",!1,z,fe),fe.ontimeout=x(qa,W,"TestLoadImage: timeout",!1,z,fe),u.setTimeout(function(){fe.ontimeout&&fe.ontimeout()},1e4),fe.src=b}else z(!1)}function Ic(b,z){const W=new Mr,fe=new AbortController,Ie=setTimeout(()=>{fe.abort(),qa(W,"TestPingServer: timeout",!1,z)},1e4);fetch(b,{signal:fe.signal}).then(qe=>{clearTimeout(Ie),qe.ok?qa(W,"TestPingServer: ok",!0,z):qa(W,"TestPingServer: server error",!1,z)}).catch(()=>{clearTimeout(Ie),qa(W,"TestPingServer: error",!1,z)})}function qa(b,z,W,fe,Ie){try{Ie&&(Ie.onload=null,Ie.onerror=null,Ie.onabort=null,Ie.ontimeout=null),fe(W)}catch{}}function ei(){this.g=new Ti}function $o(b,z,W){const fe=W||"";try{Sl(b,function(Ie,qe){let pt=Ie;f(Ie)&&(pt=pn(Ie)),z.push(fe+qe+"="+encodeURIComponent(pt))})}catch(Ie){throw z.push(fe+"type="+encodeURIComponent("_badmap")),Ie}}function ps(b){this.l=b.Ub||null,this.j=b.eb||!1}E(ps,fn),ps.prototype.g=function(){return new gi(this.l,this.j)},ps.prototype.i=(function(b){return function(){return b}})({});function gi(b,z){vt.call(this),this.D=b,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(gi,vt),t=gi.prototype,t.open=function(b,z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=z,this.readyState=1,Pi(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(z.body=b),(this.D||u).fetch(new Request(this.A,z)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},t.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Pi(this)),this.g&&(this.readyState=3,Pi(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ol(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ol(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}t.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var z=b.value?b.value:new Uint8Array(0);(z=this.v.decode(z,{stream:!b.done}))&&(this.response=this.responseText+=z)}b.done?Ii(this):Pi(this),this.readyState==3&&Ol(this)}},t.Ra=function(b){this.g&&(this.response=this.responseText=b,Ii(this))},t.Qa=function(b){this.g&&(this.response=b,Ii(this))},t.ga=function(){this.g&&Ii(this)};function Ii(b){b.readyState=4,b.l=null,b.j=null,b.v=null,Pi(b)}t.setRequestHeader=function(b,z){this.u.append(b,z)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],z=this.h.entries();for(var W=z.next();!W.done;)W=W.value,b.push(W[0]+": "+W[1]),W=z.next();return b.join(`\r
`)};function Pi(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function Ri(b){let z="";return F(b,function(W,fe){z+=fe,z+=":",z+=W,z+=`\r
`}),z}function po(b,z,W){e:{for(fe in W){var fe=!1;break e}fe=!0}fe||(W=Ri(W),typeof b=="string"?W!=null&&encodeURIComponent(String(W)):Cn(b,z,W))}function Hn(b){vt.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Hn,vt);var sa=/^https?$/i,Di=["POST","PUT"];t=Hn.prototype,t.Ha=function(b){this.J=b},t.ea=function(b,z,W,fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);z=z?z.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zt.g(),this.v=this.o?aa(this.o):aa(Zt),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(z,String(b),!0),this.B=!1}catch(qe){mo(this,qe);return}if(b=W||"",W=new Map(this.headers),fe)if(Object.getPrototypeOf(fe)===Object.prototype)for(var Ie in fe)W.set(Ie,fe[Ie]);else if(typeof fe.keys=="function"&&typeof fe.get=="function")for(const qe of fe.keys())W.set(qe,fe.get(qe));else throw Error("Unknown input type for opt_headers: "+String(fe));fe=Array.from(W.keys()).find(qe=>qe.toLowerCase()=="content-type"),Ie=u.FormData&&b instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Di,z,void 0))||fe||Ie||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[qe,pt]of W)this.g.setRequestHeader(qe,pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vi(this),this.u=!0,this.g.send(b),this.u=!1}catch(qe){mo(this,qe)}};function mo(b,z){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=z,b.m=5,zs(b),Vs(b)}function zs(b){b.A||(b.A=!0,_t(b,"complete"),_t(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,_t(this,"complete"),_t(this,"abort"),Vs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vs(this,!0)),Hn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Pc(this):this.bb())},t.bb=function(){Pc(this)};function Pc(b){if(b.h&&typeof o<"u"&&(!b.v[1]||Fr(b)!=4||b.Z()!=2)){if(b.u&&Fr(b)==4)At(b.Ea,0,b);else if(_t(b,"readystatechange"),Fr(b)==4){b.h=!1;try{const pt=b.Z();e:switch(pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var W;if(!(W=z)){var fe;if(fe=pt===0){var Ie=String(b.D).match(pi)[1]||null;!Ie&&u.self&&u.self.location&&(Ie=u.self.location.protocol.slice(0,-1)),fe=!sa.test(Ie?Ie.toLowerCase():"")}W=fe}if(W)_t(b,"complete"),_t(b,"success");else{b.m=6;try{var qe=2<Fr(b)?b.g.statusText:""}catch{qe=""}b.l=qe+" ["+b.Z()+"]",zs(b)}}finally{Vs(b)}}}}function Vs(b,z){if(b.g){vi(b);const W=b.g,fe=b.v[0]?()=>{}:null;b.g=null,b.v=null,z||_t(b,"ready");try{W.onreadystatechange=fe}catch{}}}function vi(b){b.I&&(u.clearTimeout(b.I),b.I=null)}t.isActive=function(){return!!this.g};function Fr(b){return b.g?b.g.readyState:0}t.Z=function(){try{return 2<Fr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(b){if(this.g){var z=this.g.responseText;return b&&z.indexOf(b)==0&&(z=z.substring(b.length)),mn(z)}};function Ho(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Us(b){const z={};b=(b.g&&2<=Fr(b)&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let fe=0;fe<b.length;fe++){if(C(b[fe]))continue;var W=M(b[fe]);const Ie=W[0];if(W=W[1],typeof W!="string")continue;W=W.trim();const qe=z[Ie]||[];z[Ie]=qe,qe.push(W)}k(z,function(fe){return fe.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(b,z,W){return W&&W.internalChannelParams&&W.internalChannelParams[b]||z}function kl(b){this.Aa=0,this.i=[],this.j=new Mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=za("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=za("baseRetryDelayMs",5e3,b),this.cb=za("retryDelaySeedMs",1e4,b),this.Wa=za("forwardChannelMaxRetries",2,b),this.wa=za("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new Nl(b&&b.concurrentRequestLimit),this.Da=new ei,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kl.prototype,t.la=8,t.G=1,t.connect=function(b,z,W,fe){Ot(0),this.W=b,this.H=z||{},W&&fe!==void 0&&(this.H.OSID=W,this.H.OAID=fe),this.F=this.X,this.I=O(this,null,this.W),Cl(this)};function $s(b){if(Go(b),b.G==3){var z=b.U++,W=pr(b.I);if(Cn(W,"SID",b.K),Cn(W,"RID",z),Cn(W,"TYPE","terminate"),vo(b,W),z=new Et(b,b.j,z),z.L=2,z.v=fo(pr(W)),W=!1,u.navigator&&u.navigator.sendBeacon)try{W=u.navigator.sendBeacon(z.v.toString(),"")}catch{}!W&&u.Image&&(new Image().src=z.v,W=!0),W||(z.g=te(z.j,null),z.g.ea(z.v)),z.F=Date.now(),es(z)}Ko(b)}function go(b){b.g&&(Rl(b),b.g.cancel(),b.g=null)}function Go(b){go(b),b.u&&(u.clearTimeout(b.u),b.u=null),rs(b),b.h.cancel(),b.s&&(typeof b.s=="number"&&u.clearTimeout(b.s),b.s=null)}function Cl(b){if(!Tc(b.h)&&!b.s){b.s=!0;var z=b.Ga;Z||ge(),oe||(Z(),oe=!0),ye.add(z,b),b.B=0}}function Rc(b,z){return qo(b.h)>=b.h.j-(b.s?1:0)?!1:b.s?(b.i=z.D.concat(b.i),!0):b.G==1||b.G==2||b.B>=(b.Va?0:b.Wa)?!1:(b.s=Or(y(b.Ga,b,z),Dl(b,b.B)),b.B++,!0)}t.Ga=function(b){if(this.s)if(this.s=null,this.G==1){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const Ie=new Et(this,this.j,b);let qe=this.o;if(this.S&&(qe?(qe=I(qe),U(qe,this.S)):qe=this.S),this.m!==null||this.O||(Ie.H=qe,qe=null),this.P)e:{for(var z=0,W=0;W<this.i.length;W++){t:{var fe=this.i[W];if("__data__"in fe.map&&(fe=fe.map.__data__,typeof fe=="string")){fe=fe.length;break t}fe=void 0}if(fe===void 0)break;if(z+=fe,4096<z){z=W;break e}if(z===4096||W===this.i.length-1){z=W+1;break e}}z=1e3}else z=1e3;z=yo(this,Ie,z),W=pr(this.I),Cn(W,"RID",b),Cn(W,"CVER",22),this.D&&Cn(W,"X-HTTP-Session-Id",this.D),vo(this,W),qe&&(this.O?z="headers="+encodeURIComponent(String(Ri(qe)))+"&"+z:this.m&&po(W,this.m,qe)),ir(this.h,Ie),this.Ua&&Cn(W,"TYPE","init"),this.P?(Cn(W,"$req",z),Cn(W,"SID","null"),Ie.T=!0,kn(Ie,W,null)):kn(Ie,W,z),this.G=2}}else this.G==3&&(b?Il(this,b):this.i.length==0||Tc(this.h)||Il(this))};function Il(b,z){var W;z?W=z.l:W=b.U++;const fe=pr(b.I);Cn(fe,"SID",b.K),Cn(fe,"RID",W),Cn(fe,"AID",b.T),vo(b,fe),b.m&&b.o&&po(fe,b.m,b.o),W=new Et(b,b.j,W,b.B+1),b.m===null&&(W.H=b.o),z&&(b.i=z.D.concat(b.i)),z=yo(b,W,1e3),W.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),ir(b.h,W),kn(W,fe,z)}function vo(b,z){b.H&&F(b.H,function(W,fe){Cn(z,fe,W)}),b.l&&Sl({},function(W,fe){Cn(z,fe,W)})}function yo(b,z,W){W=Math.min(b.i.length,W);var fe=b.l?y(b.l.Na,b.l,b):null;e:{var Ie=b.i;let qe=-1;for(;;){const pt=["count="+W];qe==-1?0<W?(qe=Ie[0].g,pt.push("ofs="+qe)):qe=0:pt.push("ofs="+qe);let rn=!0;for(let _n=0;_n<W;_n++){let Kt=Ie[_n].g;const Wn=Ie[_n].map;if(Kt-=qe,0>Kt)qe=Math.max(0,Ie[_n].g-100),rn=!1;else try{$o(Wn,pt,"req"+Kt+"_")}catch{fe&&fe(Wn)}}if(rn){fe=pt.join("&");break e}}}return b=b.i.splice(0,W),z.D=b,fe}function Pl(b){if(!b.g&&!b.u){b.Y=1;var z=b.Fa;Z||ge(),oe||(Z(),oe=!0),ye.add(z,b),b.v=0}}function Wo(b){return b.g||b.u||3<=b.v?!1:(b.Y++,b.u=Or(y(b.Fa,b),Dl(b,b.v)),b.v++,!0)}t.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=Or(y(this.ab,this),b)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),go(this),Ou(this))};function Rl(b){b.A!=null&&(u.clearTimeout(b.A),b.A=null)}function Ou(b){b.g=new Et(b,b.j,"rpc",b.Y),b.m===null&&(b.g.H=b.o),b.g.O=0;var z=pr(b.qa);Cn(z,"RID","rpc"),Cn(z,"SID",b.K),Cn(z,"AID",b.T),Cn(z,"CI",b.F?"0":"1"),!b.F&&b.ja&&Cn(z,"TO",b.ja),Cn(z,"TYPE","xmlhttp"),vo(b,z),b.m&&b.o&&po(z,b.m,b.o),b.L&&(b.g.I=b.L);var W=b.g;b=b.ia,W.L=1,W.v=fo(pr(z)),W.m=null,W.P=!0,Ir(W,b)}t.Za=function(){this.C!=null&&(this.C=null,go(this),Wo(this),Ot(19))};function rs(b){b.C!=null&&(u.clearTimeout(b.C),b.C=null)}function xo(b,z){var W=null;if(b.g==z){rs(b),Rl(b),b.g=null;var fe=2}else if(uo(b.h,z))W=z.D,hi(b.h,z),fe=1;else return;if(b.G!=0){if(z.o)if(fe==1){W=z.m?z.m.length:0,z=Date.now()-z.F;var Ie=b.B;fe=pa(),_t(fe,new Aa(fe,W)),Cl(b)}else Pl(b);else if(Ie=z.s,Ie==3||Ie==0&&0<z.X||!(fe==1&&Rc(b,z)||fe==2&&Wo(b)))switch(W&&0<W.length&&(z=b.h,z.i=z.i.concat(W)),Ie){case 1:ti(b,5);break;case 4:ti(b,10);break;case 3:ti(b,6);break;default:ti(b,2)}}}function Dl(b,z){let W=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(W*=2),W*z}function ti(b,z){if(b.j.info("Error code "+z),z==2){var W=y(b.fb,b),fe=b.Xa;const Ie=!fe;fe=new Gr(fe||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||qs(fe,"https"),fo(fe),Ie?Ci(fe.toString(),W):Ic(fe.toString(),W)}else Ot(2);b.G=0,b.l&&b.l.sa(z),Ko(b),Go(b)}t.fb=function(b){b?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Ko(b){if(b.G=0,b.ka=[],b.l){const z=Na(b.h);(z.length!=0||b.i.length!=0)&&(N(b.ka,z),N(b.ka,b.i),b.h.i.length=0,w(b.i),b.i.length=0),b.l.ra()}}function O(b,z,W){var fe=W instanceof Gr?pr(W):new Gr(W);if(fe.g!="")z&&(fe.g=z+"."+fe.g),zo(fe,fe.s);else{var Ie=u.location;fe=Ie.protocol,z=z?z+"."+Ie.hostname:Ie.hostname,Ie=+Ie.port;var qe=new Gr(null);fe&&qs(qe,fe),z&&(qe.g=z),Ie&&zo(qe,Ie),W&&(qe.l=W),fe=qe}return W=b.D,z=b.ya,W&&z&&Cn(fe,W,z),Cn(fe,"VER",b.la),vo(b,fe),fe}function te(b,z,W){if(z&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return z=b.Ca&&!b.pa?new Hn(new ps({eb:W})):new Hn(b.pa),z.Ha(b.J),z}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function we(){}t=we.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ee(){}Ee.prototype.g=function(b,z){return new Re(b,z)};function Re(b,z){vt.call(this),this.g=new kl(z),this.l=b,this.h=z&&z.messageUrlParams||null,b=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(b?b["X-WebChannel-Content-Type"]=z.messageContentType:b={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.va&&(b?b["X-WebChannel-Client-Profile"]=z.va:b={"X-WebChannel-Client-Profile":z.va}),this.g.S=b,(b=z&&z.Sb)&&!C(b)&&(this.g.m=b),this.v=z&&z.supportsCrossDomainXhr||!1,this.u=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!C(z)&&(this.g.D=z,b=this.h,b!==null&&z in b&&(b=this.h,z in b&&delete b[z])),this.j=new St(this)}E(Re,vt),Re.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Re.prototype.close=function(){$s(this.g)},Re.prototype.o=function(b){var z=this.g;if(typeof b=="string"){var W={};W.__data__=b,b=W}else this.u&&(W={},W.__data__=pn(b),b=W);z.i.push(new Zd(z.Ya++,b)),z.G==3&&Cl(z)},Re.prototype.N=function(){this.g.l=null,delete this.j,$s(this.g),delete this.g,Re.aa.N.call(this)};function Ze(b){Lr.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var z=b.__sm__;if(z){e:{for(const W in z){b=W;break e}b=void 0}(this.i=b)&&(b=this.i,z=z!==null&&b in z?z[b]:void 0),this.data=z}else this.data=b}E(Ze,Lr);function ht(){bn.call(this),this.status=1}E(ht,bn);function St(b){this.g=b}E(St,we),St.prototype.ua=function(){_t(this.g,"a")},St.prototype.ta=function(b){_t(this.g,new Ze(b))},St.prototype.sa=function(b){_t(this.g,new ht)},St.prototype.ra=function(){_t(this.g,"b")},Ee.prototype.createWebChannel=Ee.prototype.g,Re.prototype.send=Re.prototype.o,Re.prototype.open=Re.prototype.m,Re.prototype.close=Re.prototype.close,EB=function(){return new Ee},SB=function(){return pa()},NB=It,TS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zt.NO_ERROR=0,zt.TIMEOUT=8,zt.HTTP_ERROR=6,v1=zt,Ft.COMPLETE="complete",AB=Ft,Bn.EventType=jr,jr.OPEN="a",jr.CLOSE="b",jr.ERROR="c",jr.MESSAGE="d",vt.prototype.listen=vt.prototype.K,o0=Bn,Hn.prototype.listenOnce=Hn.prototype.L,Hn.prototype.getLastError=Hn.prototype.Ka,Hn.prototype.getLastErrorCode=Hn.prototype.Ba,Hn.prototype.getStatus=Hn.prototype.Z,Hn.prototype.getResponseJson=Hn.prototype.Oa,Hn.prototype.getResponseText=Hn.prototype.oa,Hn.prototype.send=Hn.prototype.ea,Hn.prototype.setWithCredentials=Hn.prototype.Ha,wB=Hn}).apply(typeof e1<"u"?e1:typeof self<"u"?self:typeof window<"u"?window:{});const I8="@firebase/firestore",P8="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wi.UNAUTHENTICATED=new Wi(null),Wi.GOOGLE_CREDENTIALS=new Wi("google-credentials-uid"),Wi.FIRST_PARTY=new Wi("first-party-uid"),Wi.MOCK_USER=new Wi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new c4("@firebase/firestore");function Uh(){return Uf.logLevel}function Ct(t,...e){if(Uf.logLevel<=Dn.DEBUG){const n=e.map(_4);Uf.debug(`Firestore (${rm}): ${t}`,...n)}}function bu(t,...e){if(Uf.logLevel<=Dn.ERROR){const n=e.map(_4);Uf.error(`Firestore (${rm}): ${t}`,...n)}}function Ld(t,...e){if(Uf.logLevel<=Dn.WARN){const n=e.map(_4);Uf.warn(`Firestore (${rm}): ${t}`,...n)}}function _4(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,jB(t,r,n)}function jB(t,e,n){let r=`FIRESTORE (${rm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bu(r),new Error(r)}function lr(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||jB(e,a,r)}function dn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends jc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kfe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wi.UNAUTHENTICATED)))}shutdown(){}}class Cfe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Ife{constructor(e){this.t=e,this.currentUser=Wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lr(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let i=new Cd;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Cd,e.enqueueRetryable((()=>a(this.currentUser)))};const o=()=>{const d=i;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},u=d=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Cd)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lr(typeof r.accessToken=="string",31837,{l:r}),new TB(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lr(e===null||typeof e=="string",2055,{h:e}),new Wi(e)}}class Pfe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Rfe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Pfe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dfe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ro(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lr(this.o===void 0,3512);const r=i=>{i.error!=null&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Ct("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const a=i=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>a(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R8(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lr(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new R8(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lfe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=Lfe(40);for(let i=0;i<a.length;++i)r.length<20&&a[i]<n&&(r+=e.charAt(a[i]%62))}return r}}function An(t,e){return t<e?-1:t>e?1:0}function OS(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return An(r,a);{const i=OB(),o=Mfe(i.encode(D8(t,n)),i.encode(D8(e,n)));return o!==0?o:An(r,a)}}n+=r>65535?2:1}return An(t.length,e.length)}function D8(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Mfe(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return An(t[n],e[n]);return An(t.length,e.length)}function Bp(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8="__name__";class ac{constructor(e,n,r){n===void 0?n=0:n>e.length&&nn(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&nn(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ac.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ac?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const i=ac.compareSegments(e.get(a),n.get(a));if(i!==0)return i}return An(e.length,n.length)}static compareSegments(e,n){const r=ac.isNumericId(e),a=ac.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ac.extractNumericId(e).compare(ac.extractNumericId(n)):OS(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kd.fromString(e.substring(4,e.length-2))}}class Dr extends ac{construct(e,n,r){return new Dr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Tt(lt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Dr(n)}static emptyPath(){return new Dr([])}}const Bfe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Si extends ac{construct(e,n,r){return new Si(e,n,r)}static isValidIdentifier(e){return Bfe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Si.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L8}static keyField(){return new Si([L8])}static fromServerFormat(e){const n=[];let r="",a=0;const i=()=>{if(r.length===0)throw new Tt(lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new Tt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Tt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else u==="`"?(o=!o,a++):u!=="."||o?(r+=u,a++):(i(),a++)}if(i(),o)throw new Tt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Si(n)}static emptyPath(){return new Si([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.path=e}static fromPath(e){return new Ht(Dr.fromString(e))}static fromName(e){return new Ht(Dr.fromString(e).popFirst(5))}static empty(){return new Ht(Dr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ht(new Dr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(t,e,n){if(!n)throw new Tt(lt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ffe(t,e,n,r){if(e===!0&&r===!0)throw new Tt(lt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M8(t){if(!Ht.isDocumentKey(t))throw new Tt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function B8(t){if(Ht.isDocumentKey(t))throw new Tt(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function CB(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":nn(12329,{type:typeof t})}function lo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Tt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qx(t);throw new Tt(lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function qfe(t,e){if(e<=0)throw new Tt(lt.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t,e){const n={typeString:t};return e&&(n.value=e),n}function Mg(t,e){if(!CB(t))throw new Tt(lt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(a&&typeof o!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Tt(lt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=-62135596800,q8=1e6;class Ur{static now(){return Ur.fromMillis(Date.now())}static fromDate(e){return Ur.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*q8);return new Ur(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Tt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<F8)throw new Tt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Tt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q8}_compareTo(e){return this.seconds===e.seconds?An(this.nanoseconds,e.nanoseconds):An(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ur._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mg(e,Ur._jsonSchema))return new Ur(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-F8;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ur._jsonSchemaVersion="firestore/timestamp/1.0",Ur._jsonSchema={type:Ma("string",Ur._jsonSchemaVersion),seconds:Ma("number"),nanoseconds:Ma("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{static fromTimestamp(e){return new ln(e)}static min(){return new ln(new Ur(0,0))}static max(){return new ln(new Ur(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=-1;function zfe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=ln.fromTimestamp(r===1e9?new Ur(n+1,0):new Ur(n,r));return new Md(a,Ht.empty(),e)}function Vfe(t){return new Md(t.readTime,t.key,vg)}class Md{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Md(ln.min(),Ht.empty(),vg)}static max(){return new Md(ln.max(),Ht.empty(),vg)}}function Ufe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ht.comparator(t.documentKey,e.documentKey),n!==0?n:An(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $fe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hfe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(t){if(t.code!==lt.FAILED_PRECONDITION||t.message!==$fe)throw t;Ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&nn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new dt(((r,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,a)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof dt?n:dt.resolve(n)}catch(n){return dt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):dt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):dt.reject(n)}static resolve(e){return new dt(((n,r)=>{n(e)}))}static reject(e){return new dt(((n,r)=>{r(e)}))}static waitFor(e){return new dt(((n,r)=>{let a=0,i=0,o=!1;e.forEach((u=>{++a,u.next((()=>{++i,o&&i===a&&n()}),(d=>r(d)))})),o=!0,i===a&&n()}))}static or(e){let n=dt.resolve(!1);for(const r of e)n=n.next((a=>a?dt.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,i)=>{r.push(n.call(this,a,i))})),this.waitFor(r)}static mapArray(e,n){return new dt(((r,a)=>{const i=e.length,o=new Array(i);let u=0;for(let d=0;d<i;d++){const f=d;n(e[f]).next((p=>{o[f]=p,++u,u===i&&r(o)}),(p=>a(p)))}}))}static doWhile(e,n){return new dt(((r,a)=>{const i=()=>{e()===!0?n().next((()=>{i()}),a):r()};i()}))}}function Gfe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function im(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}zx.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=-1;function Vx(t){return t==null}function zy(t){return t===0&&1/t==-1/0}function Wfe(t){return typeof t=="number"&&Number.isInteger(t)&&!zy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB="";function Kfe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=z8(e)),e=Yfe(t.get(n),e);return z8(e)}function Yfe(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const i=t.charAt(a);switch(i){case"\0":n+="";break;case IB:n+="";break;default:n+=i}}return n}function z8(t){return t+IB+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.comparator=e,this.root=n||Ni.EMPTY}insert(e,n){return new ra(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ni.BLACK,null,null))}remove(e){return new ra(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ni.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new t1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new t1(this.root,e,this.comparator,!1)}getReverseIterator(){return new t1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new t1(this.root,e,this.comparator,!0)}}class t1{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ni{constructor(e,n,r,a,i){this.key=e,this.value=n,this.color=r??Ni.RED,this.left=a??Ni.EMPTY,this.right=i??Ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,i){return new Ni(e??this.key,n??this.value,r??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const i=r(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,n,r),null):i===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Ni.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw nn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw nn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw nn(27949);return e+(this.isRed()?0:1)}}Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1;Ni.EMPTY=new class{constructor(){this.size=0}get key(){throw nn(57766)}get value(){throw nn(16141)}get color(){throw nn(16727)}get left(){throw nn(29726)}get right(){throw nn(36894)}copy(e,n,r,a,i){return this}insert(e,n,r){return new Ni(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.comparator=e,this.data=new ra(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new U8(this.data.getIterator())}getIteratorFrom(e){return new U8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Qa)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,i=r.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Qa(this.comparator);return n.data=e,n}}class U8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.fields=e,e.sort(Si.comparator)}static empty(){return new so([])}unionWith(e){let n=new Qa(Si.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new so(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bp(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new RB("Invalid base64 string: "+i):i}})(e);return new ji(n)}static fromUint8Array(e){const n=(function(a){let i="";for(let o=0;o<a.length;++o)i+=String.fromCharCode(a[o]);return i})(e);return new ji(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return An(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ji.EMPTY_BYTE_STRING=new ji("");const Xfe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bd(t){if(lr(!!t,39018),typeof t=="string"){let e=0;const n=Xfe.exec(t);if(lr(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ya(t.seconds),nanos:ya(t.nanos)}}function ya(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fd(t){return typeof t=="string"?ji.fromBase64String(t):ji.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB="server_timestamp",LB="__type__",MB="__previous_value__",BB="__local_write_time__";function N4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[LB])===null||n===void 0?void 0:n.stringValue)===DB}function Ux(t){const e=t.mapValue.fields[MB];return N4(e)?Ux(e):e}function yg(t){const e=Bd(t.mapValue.fields[BB].timestampValue);return new Ur(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qfe{constructor(e,n,r,a,i,o,u,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p}}const Vy="(default)";class xg{constructor(e,n){this.projectId=e,this.database=n||Vy}static empty(){return new xg("","")}get isDefaultDatabase(){return this.database===Vy}isEqual(e){return e instanceof xg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB="__type__",Jfe="__max__",n1={mapValue:{}},qB="__vector__",Uy="value";function qd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?N4(t)?4:ehe(t)?9007199254740991:Zfe(t)?10:11:nn(28295,{value:t})}function Nc(t,e){if(t===e)return!0;const n=qd(t);if(n!==qd(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yg(t).isEqual(yg(e));case 3:return(function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const o=Bd(a.timestampValue),u=Bd(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,i){return Fd(a.bytesValue).isEqual(Fd(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,i){return ya(a.geoPointValue.latitude)===ya(i.geoPointValue.latitude)&&ya(a.geoPointValue.longitude)===ya(i.geoPointValue.longitude)})(t,e);case 2:return(function(a,i){if("integerValue"in a&&"integerValue"in i)return ya(a.integerValue)===ya(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const o=ya(a.doubleValue),u=ya(i.doubleValue);return o===u?zy(o)===zy(u):isNaN(o)&&isNaN(u)}return!1})(t,e);case 9:return Bp(t.arrayValue.values||[],e.arrayValue.values||[],Nc);case 10:case 11:return(function(a,i){const o=a.mapValue.fields||{},u=i.mapValue.fields||{};if(V8(o)!==V8(u))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(u[d]===void 0||!Nc(o[d],u[d])))return!1;return!0})(t,e);default:return nn(52216,{left:t})}}function bg(t,e){return(t.values||[]).find((n=>Nc(n,e)))!==void 0}function Fp(t,e){if(t===e)return 0;const n=qd(t),r=qd(e);if(n!==r)return An(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return An(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const u=ya(i.integerValue||i.doubleValue),d=ya(o.integerValue||o.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return $8(t.timestampValue,e.timestampValue);case 4:return $8(yg(t),yg(e));case 5:return OS(t.stringValue,e.stringValue);case 6:return(function(i,o){const u=Fd(i),d=Fd(o);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const u=i.split("/"),d=o.split("/");for(let f=0;f<u.length&&f<d.length;f++){const p=An(u[f],d[f]);if(p!==0)return p}return An(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const u=An(ya(i.latitude),ya(o.latitude));return u!==0?u:An(ya(i.longitude),ya(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return H8(t.arrayValue,e.arrayValue);case 10:return(function(i,o){var u,d,f,p;const g=i.fields||{},y=o.fields||{},x=(u=g[Uy])===null||u===void 0?void 0:u.arrayValue,E=(d=y[Uy])===null||d===void 0?void 0:d.arrayValue,w=An(((f=x==null?void 0:x.values)===null||f===void 0?void 0:f.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:H8(x,E)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===n1.mapValue&&o===n1.mapValue)return 0;if(i===n1.mapValue)return 1;if(o===n1.mapValue)return-1;const u=i.fields||{},d=Object.keys(u),f=o.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const y=OS(d[g],p[g]);if(y!==0)return y;const x=Fp(u[d[g]],f[p[g]]);if(x!==0)return x}return An(d.length,p.length)})(t.mapValue,e.mapValue);default:throw nn(23264,{le:n})}}function $8(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return An(t,e);const n=Bd(t),r=Bd(e),a=An(n.seconds,r.seconds);return a!==0?a:An(n.nanos,r.nanos)}function H8(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const i=Fp(n[a],r[a]);if(i)return i}return An(n.length,r.length)}function qp(t){return kS(t)}function kS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Bd(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Fd(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ht.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const i of n.values||[])a?a=!1:r+=",",r+=kS(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",i=!0;for(const o of r)i?i=!1:a+=",",a+=`${o}:${kS(n.fields[o])}`;return a+"}"})(t.mapValue):nn(61005,{value:t})}function y1(t){switch(qd(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ux(t);return e?16+y1(e):16;case 5:return 2*t.stringValue.length;case 6:return Fd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,i)=>a+y1(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return Qd(r.fields,((i,o)=>{a+=i.length+y1(o)})),a})(t.mapValue);default:throw nn(13486,{value:t})}}function G8(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function CS(t){return!!t&&"integerValue"in t}function S4(t){return!!t&&"arrayValue"in t}function W8(t){return!!t&&"nullValue"in t}function K8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function x1(t){return!!t&&"mapValue"in t}function Zfe(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[FB])===null||n===void 0?void 0:n.stringValue)===qB}function b0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qd(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=b0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=b0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ehe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Jfe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.value=e}static empty(){return new Cs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!x1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=b0(n)}setAll(e){let n=Si.emptyPath(),r={},a=[];e.forEach(((o,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=u.popLast()}o?r[u.lastSegment()]=b0(o):a.push(u.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,a)}delete(e){const n=this.field(e.popLast());x1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];x1(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Qd(n,((a,i)=>e[a]=i));for(const a of r)delete e[a]}clone(){return new Cs(b0(this.value))}}function zB(t){const e=[];return Qd(t.fields,((n,r)=>{const a=new Si([n]);if(x1(r)){const i=zB(r.mapValue).fields;if(i.length===0)e.push(a);else for(const o of i)e.push(a.child(o))}else e.push(a)})),new so(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,r,a,i,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Xi(e,0,ln.min(),ln.min(),ln.min(),Cs.empty(),0)}static newFoundDocument(e,n,r,a){return new Xi(e,1,n,ln.min(),r,a,0)}static newNoDocument(e,n){return new Xi(e,2,n,ln.min(),ln.min(),Cs.empty(),0)}static newUnknownDocument(e,n){return new Xi(e,3,n,ln.min(),ln.min(),Cs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ln.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ln.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n){this.position=e,this.inclusive=n}}function Y8(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const i=e[a],o=t.position[a];if(i.field.isKeyField()?r=Ht.comparator(Ht.fromName(o.referenceValue),n.key):r=Fp(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function X8(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nc(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n="asc"){this.field=e,this.dir=n}}function the(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{}class La extends VB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rhe(e,n,r):n==="array-contains"?new she(e,r):n==="in"?new ohe(e,r):n==="not-in"?new lhe(e,r):n==="array-contains-any"?new che(e,r):new La(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ahe(e,r):new ihe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fp(n,this.value)):n!==null&&qd(this.value)===qd(n)&&this.matchesComparison(Fp(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return nn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bl extends VB{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new bl(e,n)}matches(e){return UB(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function UB(t){return t.op==="and"}function $B(t){return nhe(t)&&UB(t)}function nhe(t){for(const e of t.filters)if(e instanceof bl)return!1;return!0}function IS(t){if(t instanceof La)return t.field.canonicalString()+t.op.toString()+qp(t.value);if($B(t))return t.filters.map((e=>IS(e))).join(",");{const e=t.filters.map((n=>IS(n))).join(",");return`${t.op}(${e})`}}function HB(t,e){return t instanceof La?(function(r,a){return a instanceof La&&r.op===a.op&&r.field.isEqual(a.field)&&Nc(r.value,a.value)})(t,e):t instanceof bl?(function(r,a){return a instanceof bl&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((i,o,u)=>i&&HB(o,a.filters[u])),!0):!1})(t,e):void nn(19439)}function GB(t){return t instanceof La?(function(n){return`${n.field.canonicalString()} ${n.op} ${qp(n.value)}`})(t):t instanceof bl?(function(n){return n.op.toString()+" {"+n.getFilters().map(GB).join(" ,")+"}"})(t):"Filter"}class rhe extends La{constructor(e,n,r){super(e,n,r),this.key=Ht.fromName(r.referenceValue)}matches(e){const n=Ht.comparator(e.key,this.key);return this.matchesComparison(n)}}class ahe extends La{constructor(e,n){super(e,"in",n),this.keys=WB("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ihe extends La{constructor(e,n){super(e,"not-in",n),this.keys=WB("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function WB(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Ht.fromName(r.referenceValue)))}class she extends La{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return S4(n)&&bg(n.arrayValue,this.value)}}class ohe extends La{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bg(this.value.arrayValue,n)}}class lhe extends La{constructor(e,n){super(e,"not-in",n)}matches(e){if(bg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bg(this.value.arrayValue,n)}}class che extends La{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!S4(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>bg(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uhe{constructor(e,n=null,r=[],a=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=i,this.startAt=o,this.endAt=u,this.Pe=null}}function Q8(t,e=null,n=[],r=[],a=null,i=null,o=null){return new uhe(t,e,n,r,a,i,o)}function E4(t){const e=dn(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>IS(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Vx(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>qp(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>qp(r))).join(",")),e.Pe=n}return e.Pe}function j4(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!the(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!X8(t.startAt,e.startAt)&&X8(t.endAt,e.endAt)}function PS(t){return Ht.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n=null,r=[],a=[],i=null,o="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function dhe(t,e,n,r,a,i,o,u){return new sm(t,e,n,r,a,i,o,u)}function T4(t){return new sm(t)}function J8(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KB(t){return t.collectionGroup!==null}function _0(t){const e=dn(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Qa(Si.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new _g(i,r))})),n.has(Si.keyField().canonicalString())||e.Te.push(new _g(Si.keyField(),r))}return e.Te}function vc(t){const e=dn(t);return e.Ie||(e.Ie=fhe(e,_0(t))),e.Ie}function fhe(t,e){if(t.limitType==="F")return Q8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const i=a.dir==="desc"?"asc":"desc";return new _g(a.field,i)}));const n=t.endAt?new $y(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $y(t.startAt.position,t.startAt.inclusive):null;return Q8(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function RS(t,e){const n=t.filters.concat([e]);return new sm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hy(t,e,n){return new sm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $x(t,e){return j4(vc(t),vc(e))&&t.limitType===e.limitType}function YB(t){return`${E4(vc(t))}|lt:${t.limitType}`}function $h(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>GB(a))).join(", ")}]`),Vx(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>qp(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>qp(a))).join(",")),`Target(${r})`})(vc(t))}; limitType=${t.limitType})`}function Hx(t,e){return e.isFoundDocument()&&(function(r,a){const i=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ht.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,a){for(const i of _0(r))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const i of r.filters)if(!i.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(o,u,d){const f=Y8(o,u,d);return o.inclusive?f<=0:f<0})(r.startAt,_0(r),a)||r.endAt&&!(function(o,u,d){const f=Y8(o,u,d);return o.inclusive?f>=0:f>0})(r.endAt,_0(r),a))})(t,e)}function hhe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XB(t){return(e,n)=>{let r=!1;for(const a of _0(t)){const i=phe(a,e,n);if(i!==0)return i;r=r||a.field.isKeyField()}return 0}}function phe(t,e,n){const r=t.field.isKeyField()?Ht.comparator(e.key,n.key):(function(i,o,u){const d=o.data.field(i),f=u.data.field(i);return d!==null&&f!==null?Fp(d,f):nn(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return nn(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,i]of r)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Qd(this.inner,((n,r)=>{for(const[a,i]of r)e(a,i)}))}isEmpty(){return PB(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mhe=new ra(Ht.comparator);function _u(){return mhe}const QB=new ra(Ht.comparator);function l0(...t){let e=QB;for(const n of t)e=e.insert(n.key,n);return e}function JB(t){let e=QB;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function jf(){return w0()}function ZB(){return w0()}function w0(){return new Zf((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ghe=new ra(Ht.comparator),vhe=new Qa(Ht.comparator);function Ln(...t){let e=vhe;for(const n of t)e=e.add(n);return e}const yhe=new Qa(An);function xhe(){return yhe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zy(e)?"-0":e}}function eF(t){return{integerValue:""+t}}function bhe(t,e){return Wfe(e)?eF(e):O4(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this._=void 0}}function _he(t,e,n){return t instanceof Gy?(function(a,i){const o={fields:{[LB]:{stringValue:DB},[BB]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&N4(i)&&(i=Ux(i)),i&&(o.fields[MB]=i),{mapValue:o}})(n,e):t instanceof wg?nF(t,e):t instanceof Ag?rF(t,e):(function(a,i){const o=tF(a,i),u=Z8(o)+Z8(a.Ee);return CS(o)&&CS(a.Ee)?eF(u):O4(a.serializer,u)})(t,e)}function whe(t,e,n){return t instanceof wg?nF(t,e):t instanceof Ag?rF(t,e):n}function tF(t,e){return t instanceof Wy?(function(r){return CS(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Gy extends Gx{}class wg extends Gx{constructor(e){super(),this.elements=e}}function nF(t,e){const n=aF(e);for(const r of t.elements)n.some((a=>Nc(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Ag extends Gx{constructor(e){super(),this.elements=e}}function rF(t,e){let n=aF(e);for(const r of t.elements)n=n.filter((a=>!Nc(a,r)));return{arrayValue:{values:n}}}class Wy extends Gx{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Z8(t){return ya(t.integerValue||t.doubleValue)}function aF(t){return S4(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ahe(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof wg&&a instanceof wg||r instanceof Ag&&a instanceof Ag?Bp(r.elements,a.elements,Nc):r instanceof Wy&&a instanceof Wy?Nc(r.Ee,a.Ee):r instanceof Gy&&a instanceof Gy})(t.transform,e.transform)}class Nhe{constructor(e,n){this.version=e,this.transformResults=n}}class hs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hs}static exists(e){return new hs(void 0,e)}static updateTime(e){return new hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function b1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wx{}function iF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kx(t.key,hs.none()):new Bg(t.key,t.data,hs.none());{const n=t.data,r=Cs.empty();let a=new Qa(Si.comparator);for(let i of e.fields)if(!a.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),a=a.add(i)}return new Jd(t.key,r,new so(a.toArray()),hs.none())}}function She(t,e,n){t instanceof Bg?(function(a,i,o){const u=a.value.clone(),d=tD(a.fieldTransforms,i,o.transformResults);u.setAll(d),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Jd?(function(a,i,o){if(!b1(a.precondition,i))return void i.convertToUnknownDocument(o.version);const u=tD(a.fieldTransforms,i,o.transformResults),d=i.data;d.setAll(sF(a)),d.setAll(u),i.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,n):(function(a,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function A0(t,e,n,r){return t instanceof Bg?(function(i,o,u,d){if(!b1(i.precondition,o))return u;const f=i.value.clone(),p=nD(i.fieldTransforms,d,o);return f.setAll(p),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Jd?(function(i,o,u,d){if(!b1(i.precondition,o))return u;const f=nD(i.fieldTransforms,d,o),p=o.data;return p.setAll(sF(i)),p.setAll(f),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(i,o,u){return b1(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u})(t,e,n)}function Ehe(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),i=tF(r.transform,a||null);i!=null&&(n===null&&(n=Cs.empty()),n.set(r.field,i))}return n||null}function eD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Bp(r,a,((i,o)=>Ahe(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bg extends Wx{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Jd extends Wx{constructor(e,n,r,a,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sF(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function tD(t,e,n){const r=new Map;lr(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let a=0;a<n.length;a++){const i=t[a],o=i.transform,u=e.data.field(i.field);r.set(i.field,whe(o,u,n[a]))}return r}function nD(t,e,n){const r=new Map;for(const a of t){const i=a.transform,o=n.data.field(a.field);r.set(a.field,_he(i,o,e))}return r}class Kx extends Wx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jhe extends Wx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class The{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&She(i,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=A0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=A0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZB();return this.mutations.forEach((a=>{const i=e.get(a.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=n.has(a.key)?null:u;const d=iF(o,u);d!==null&&r.set(a.key,d),o.isValidDocument()||o.convertToNoDocument(ln.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ln())}isEqual(e){return this.batchId===e.batchId&&Bp(this.mutations,e.mutations,((n,r)=>eD(n,r)))&&Bp(this.baseMutations,e.baseMutations,((n,r)=>eD(n,r)))}}class k4{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){lr(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let a=(function(){return ghe})();const i=e.mutations;for(let o=0;o<i.length;o++)a=a.insert(i[o].key,r[o].version);return new k4(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ohe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class khe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ra,$n;function Che(t){switch(t){case lt.OK:return nn(64938);case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0;default:return nn(15467,{code:t})}}function oF(t){if(t===void 0)return bu("GRPC error has no .code"),lt.UNKNOWN;switch(t){case Ra.OK:return lt.OK;case Ra.CANCELLED:return lt.CANCELLED;case Ra.UNKNOWN:return lt.UNKNOWN;case Ra.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Ra.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Ra.INTERNAL:return lt.INTERNAL;case Ra.UNAVAILABLE:return lt.UNAVAILABLE;case Ra.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Ra.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Ra.NOT_FOUND:return lt.NOT_FOUND;case Ra.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Ra.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Ra.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Ra.ABORTED:return lt.ABORTED;case Ra.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Ra.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Ra.DATA_LOSS:return lt.DATA_LOSS;default:return nn(39323,{code:t})}}($n=Ra||(Ra={}))[$n.OK=0]="OK",$n[$n.CANCELLED=1]="CANCELLED",$n[$n.UNKNOWN=2]="UNKNOWN",$n[$n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$n[$n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$n[$n.NOT_FOUND=5]="NOT_FOUND",$n[$n.ALREADY_EXISTS=6]="ALREADY_EXISTS",$n[$n.PERMISSION_DENIED=7]="PERMISSION_DENIED",$n[$n.UNAUTHENTICATED=16]="UNAUTHENTICATED",$n[$n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$n[$n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$n[$n.ABORTED=10]="ABORTED",$n[$n.OUT_OF_RANGE=11]="OUT_OF_RANGE",$n[$n.UNIMPLEMENTED=12]="UNIMPLEMENTED",$n[$n.INTERNAL=13]="INTERNAL",$n[$n.UNAVAILABLE=14]="UNAVAILABLE",$n[$n.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ihe=new kd([4294967295,4294967295],0);function rD(t){const e=OB().encode(t),n=new _B;return n.update(e),new Uint8Array(n.digest())}function aD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new kd([n,r],0),new kd([a,i],0)]}class C4{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new c0(`Invalid padding: ${n}`);if(r<0)throw new c0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new c0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new c0(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=kd.fromNumber(this.fe)}pe(e,n,r){let a=e.add(n.multiply(kd.fromNumber(r)));return a.compare(Ihe)===1&&(a=new kd([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=rD(e),[r,a]=aD(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,a,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new C4(i,a,n);return r.forEach((u=>o.insert(u))),o}insert(e){if(this.fe===0)return;const n=rD(e),[r,a]=aD(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,a,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class c0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,r,a,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Fg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yx(ln.min(),a,new ra(An),_u(),Ln())}}class Fg{constructor(e,n,r,a,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fg(r,n,Ln(),Ln(),Ln())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,r,a){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=a}}class lF{constructor(e,n){this.targetId=e,this.De=n}}class cF{constructor(e,n,r=ji.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class iD{constructor(){this.ve=0,this.Ce=sD(),this.Fe=ji.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ln(),n=Ln(),r=Ln();return this.Ce.forEach(((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:nn(38017,{changeType:i})}})),new Fg(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=sD()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,lr(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Phe{constructor(e){this.We=e,this.Ge=new Map,this.ze=_u(),this.je=r1(),this.Je=r1(),this.He=new ra(An)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:nn(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((r,a)=>{this.nt(a)&&n(a)}))}it(e){const n=e.targetId,r=e.De.count,a=this.st(n);if(a){const i=a.target;if(PS(i))if(r===0){const o=new Ht(i.path);this.Xe(n,o,Xi.newNoDocument(o,ln.min()))}else lr(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const u=this._t(e),d=u?this.ut(u,e,o):1;if(d!==0){this.rt(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,f)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:i=0}=n;let o,u;try{o=Fd(r).toUint8Array()}catch(d){if(d instanceof RB)return Ld("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new C4(o,a,i)}catch(d){return Ld(d instanceof c0?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.fe===0?null:u}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let a=0;return r.forEach((i=>{const o=this.We.lt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.Xe(n,i,null),a++)})),a}Pt(e){const n=new Map;this.Ge.forEach(((i,o)=>{const u=this.st(o);if(u){if(i.current&&PS(u.target)){const d=new Ht(u.target.path);this.Tt(d).has(o)||this.It(o,d)||this.Xe(o,d,Xi.newNoDocument(d,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}}));let r=Ln();this.Je.forEach(((i,o)=>{let u=!0;o.forEachWhile((d=>{const f=this.st(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.ze.forEach(((i,o)=>o.setReadTime(e)));const a=new Yx(e,n,this.He,this.ze,r);return this.ze=_u(),this.je=r1(),this.Je=r1(),this.He=new ra(An),a}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const a=this.tt(e);this.It(e,n)?a.qe(n,1):a.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new iD,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Qa(An),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Qa(An),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Ct("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new iD),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function r1(){return new ra(Ht.comparator)}function sD(){return new ra(Ht.comparator)}const Rhe={asc:"ASCENDING",desc:"DESCENDING"},Dhe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lhe={and:"AND",or:"OR"};class Mhe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function DS(t,e){return t.useProto3Json||Vx(e)?e:{value:e}}function Ky(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Bhe(t,e){return Ky(t,e.toTimestamp())}function yc(t){return lr(!!t,49232),ln.fromTimestamp((function(n){const r=Bd(n);return new Ur(r.seconds,r.nanos)})(t))}function I4(t,e){return LS(t,e).canonicalString()}function LS(t,e){const n=(function(a){return new Dr(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function dF(t){const e=Dr.fromString(t);return lr(gF(e),10190,{key:e.toString()}),e}function MS(t,e){return I4(t.databaseId,e.path)}function LA(t,e){const n=dF(e);if(n.get(1)!==t.databaseId.projectId)throw new Tt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Tt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ht(hF(n))}function fF(t,e){return I4(t.databaseId,e)}function Fhe(t){const e=dF(t);return e.length===4?Dr.emptyPath():hF(e)}function BS(t){return new Dr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hF(t){return lr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function oD(t,e,n){return{name:MS(t,e),fields:n.value.mapValue.fields}}function qhe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:nn(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=(function(f,p){return f.useProto3Json?(lr(p===void 0||typeof p=="string",58123),ji.fromBase64String(p||"")):(lr(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),ji.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(f){const p=f.code===void 0?lt.UNKNOWN:oF(f.code);return new Tt(p,f.message||"")})(o);n=new cF(r,a,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=LA(t,r.document.name),i=yc(r.document.updateTime),o=r.document.createTime?yc(r.document.createTime):ln.min(),u=new Cs({mapValue:{fields:r.document.fields}}),d=Xi.newFoundDocument(a,i,o,u),f=r.targetIds||[],p=r.removedTargetIds||[];n=new _1(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=LA(t,r.document),i=r.readTime?yc(r.readTime):ln.min(),o=Xi.newNoDocument(a,i),u=r.removedTargetIds||[];n=new _1([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=LA(t,r.document),i=r.removedTargetIds||[];n=new _1([],i,a,null)}else{if(!("filter"in e))return nn(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:i}=r,o=new khe(a,i),u=r.targetId;n=new lF(u,o)}}return n}function zhe(t,e){let n;if(e instanceof Bg)n={update:oD(t,e.key,e.value)};else if(e instanceof Kx)n={delete:MS(t,e.key)};else if(e instanceof Jd)n={update:oD(t,e.key,e.data),updateMask:Xhe(e.fieldMask)};else{if(!(e instanceof jhe))return nn(16599,{Rt:e.type});n={verify:MS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const u=o.transform;if(u instanceof Gy)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof wg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ag)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Wy)return{fieldPath:o.field.canonicalString(),increment:u.Ee};throw nn(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,i){return i.updateTime!==void 0?{updateTime:Bhe(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:nn(27497)})(t,e.precondition)),n}function Vhe(t,e){return t&&t.length>0?(lr(e!==void 0,14353),t.map((n=>(function(a,i){let o=a.updateTime?yc(a.updateTime):yc(i);return o.isEqual(ln.min())&&(o=yc(i)),new Nhe(o,a.transformResults||[])})(n,e)))):[]}function Uhe(t,e){return{documents:[fF(t,e.path)]}}function $he(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fF(t,a);const i=(function(f){if(f.length!==0)return mF(bl.create(f,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(f){if(f.length!==0)return f.map((p=>(function(y){return{field:Hh(y.field),direction:Whe(y.dir)}})(p)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=DS(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{Vt:n,parent:a}}function Hhe(t){let e=Fhe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){lr(r===1,65062);const p=n.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=(function(g){const y=pF(g);return y instanceof bl&&$B(y)?y.getFilters():[y]})(n.where));let o=[];n.orderBy&&(o=(function(g){return g.map((y=>(function(E){return new _g(Gh(E.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(y)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let y;return y=typeof g=="object"?g.value:g,Vx(y)?null:y})(n.limit));let d=null;n.startAt&&(d=(function(g){const y=!!g.before,x=g.values||[];return new $y(x,y)})(n.startAt));let f=null;return n.endAt&&(f=(function(g){const y=!g.before,x=g.values||[];return new $y(x,y)})(n.endAt)),dhe(e,a,o,i,u,"F",d,f)}function Ghe(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nn(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pF(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gh(n.unaryFilter.field);return La.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Gh(n.unaryFilter.field);return La.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Gh(n.unaryFilter.field);return La.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gh(n.unaryFilter.field);return La.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return nn(61313);default:return nn(60726)}})(t):t.fieldFilter!==void 0?(function(n){return La.create(Gh(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return nn(58110);default:return nn(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return bl.create(n.compositeFilter.filters.map((r=>pF(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return nn(1026)}})(n.compositeFilter.op))})(t):nn(30097,{filter:t})}function Whe(t){return Rhe[t]}function Khe(t){return Dhe[t]}function Yhe(t){return Lhe[t]}function Hh(t){return{fieldPath:t.canonicalString()}}function Gh(t){return Si.fromServerFormat(t.fieldPath)}function mF(t){return t instanceof La?(function(n){if(n.op==="=="){if(K8(n.value))return{unaryFilter:{field:Hh(n.field),op:"IS_NAN"}};if(W8(n.value))return{unaryFilter:{field:Hh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K8(n.value))return{unaryFilter:{field:Hh(n.field),op:"IS_NOT_NAN"}};if(W8(n.value))return{unaryFilter:{field:Hh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hh(n.field),op:Khe(n.op),value:n.value}}})(t):t instanceof bl?(function(n){const r=n.getFilters().map((a=>mF(a)));return r.length===1?r[0]:{compositeFilter:{op:Yhe(n.op),filters:r}}})(t):nn(54877,{filter:t})}function Xhe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function gF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r,a,i=ln.min(),o=ln.min(),u=ji.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new wd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qhe{constructor(e){this.gt=e}}function Jhe(t){const e=Hhe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zhe{constructor(){this.Dn=new epe}addToCollectionParentIndex(e,n){return this.Dn.add(n),dt.resolve()}getCollectionParents(e,n){return dt.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return dt.resolve()}deleteFieldIndex(e,n){return dt.resolve()}deleteAllFieldIndexes(e){return dt.resolve()}createTargetIndexes(e,n){return dt.resolve()}getDocumentsMatchingTarget(e,n){return dt.resolve(null)}getIndexType(e,n){return dt.resolve(0)}getFieldIndexes(e,n){return dt.resolve([])}getNextCollectionGroupToUpdate(e){return dt.resolve(null)}getMinOffset(e,n){return dt.resolve(Md.min())}getMinOffsetFromCollectionGroup(e,n){return dt.resolve(Md.min())}updateCollectionGroup(e,n,r){return dt.resolve()}updateIndexEntries(e,n){return dt.resolve()}}class epe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Qa(Dr.comparator),i=!a.has(r);return this.index[n]=a.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Qa(Dr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vF=41943040;class ks{static withCacheSize(e){return new ks(e,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(vF,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new zp(0)}static ur(){return new zp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="LruGarbageCollector",tpe=1048576;function uD([t,e],[n,r]){const a=An(t,n);return a===0?An(e,r):a}class npe{constructor(e){this.Tr=e,this.buffer=new Qa(uD),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();uD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rpe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ct(cD,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){im(n)?Ct(cD,"Ignoring IndexedDB error during garbage collection: ",n):await am(n)}await this.Rr(3e5)}))}}class ape{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return dt.resolve(zx.ue);const r=new npe(n);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.gr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),dt.resolve(lD)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lD):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,a,i,o,u,d,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,o=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(f=Date.now(),Uh()<=Dn.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${a} in `+(u-o)+`ms
	Removed ${i} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),dt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:g}))))}}function ipe(t,e){return new ape(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class spe{constructor(){this.changes=new Zf((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?dt.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ope{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lpe{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&A0(r.mutation,a,so.empty(),Ur.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ln()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ln()){const a=jf();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((i=>{let o=l0();return i.forEach(((u,d)=>{o=o.insert(u,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=jf();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ln())))}populateOverlays(e,n,r){const a=[];return r.forEach((i=>{n.has(i)||a.push(i)})),this.documentOverlayCache.getOverlays(e,a).next((i=>{i.forEach(((o,u)=>{n.set(o,u)}))}))}computeViews(e,n,r,a){let i=_u();const o=w0(),u=(function(){return w0()})();return n.forEach(((d,f)=>{const p=r.get(f.key);a.has(f.key)&&(p===void 0||p.mutation instanceof Jd)?i=i.insert(f.key,f):p!==void 0?(o.set(f.key,p.mutation.getFieldMask()),A0(p.mutation,f,p.mutation.getFieldMask(),Ur.now())):o.set(f.key,so.empty())})),this.recalculateAndSaveOverlays(e,i).next((d=>(d.forEach(((f,p)=>o.set(f,p))),n.forEach(((f,p)=>{var g;return u.set(f,new ope(p,(g=o.get(f))!==null&&g!==void 0?g:null))})),u)))}recalculateAndSaveOverlays(e,n){const r=w0();let a=new ra(((o,u)=>o-u)),i=Ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const u of o)u.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let p=r.get(d)||so.empty();p=u.applyToLocalView(f,p),r.set(d,p);const g=(a.get(u.batchId)||Ln()).add(d);a=a.insert(u.batchId,g)}))})).next((()=>{const o=[],u=a.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,p=d.value,g=ZB();p.forEach((y=>{if(!i.has(y)){const x=iF(n.get(y),r.get(y));x!==null&&g.set(y,x),i=i.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,f,g))}return dt.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(o){return Ht.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((i=>{const o=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-i.size):dt.resolve(jf());let u=vg,d=i;return o.next((f=>dt.forEach(f,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),i.get(p)?dt.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{d=d.insert(p,y)}))))).next((()=>this.populateOverlays(e,f,i))).next((()=>this.computeViews(e,d,f,Ln()))).next((p=>({batchId:u,changes:JB(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ht(n)).next((r=>{let a=l0();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const i=n.collectionGroup;let o=l0();return this.indexManager.getCollectionParents(e,i).next((u=>dt.forEach(u,(d=>{const f=(function(g,y){return new sm(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(i));return this.getDocumentsMatchingCollectionQuery(e,f,r,a).next((p=>{p.forEach(((g,y)=>{o=o.insert(g,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,a)))).next((o=>{i.forEach(((d,f)=>{const p=f.getKey();o.get(p)===null&&(o=o.insert(p,Xi.newInvalidDocument(p)))}));let u=l0();return o.forEach(((d,f)=>{const p=i.get(d);p!==void 0&&A0(p.mutation,f,so.empty(),Ur.now()),Hx(n,f)&&(u=u.insert(d,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cpe{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return dt.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:yc(a.createTime)}})(n)),dt.resolve()}getNamedQuery(e,n){return dt.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(a){return{name:a.name,query:Jhe(a.bundledQuery),readTime:yc(a.readTime)}})(n)),dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class upe{constructor(){this.overlays=new ra(Ht.comparator),this.kr=new Map}getOverlay(e,n){return dt.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jf();return dt.forEach(n,(a=>this.getOverlay(e,a).next((i=>{i!==null&&r.set(a,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,i)=>{this.wt(e,n,i)})),dt.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.kr.get(r);return a!==void 0&&(a.forEach((i=>this.overlays=this.overlays.remove(i))),this.kr.delete(r)),dt.resolve()}getOverlaysForCollection(e,n,r){const a=jf(),i=n.length+1,o=new Ht(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===i&&d.largestBatchId>r&&a.set(d.getKey(),d)}return dt.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let i=new ra(((f,p)=>f-p));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=i.get(f.largestBatchId);p===null&&(p=jf(),i=i.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=jf(),d=i.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,p)=>u.set(f,p))),!(u.size()>=a)););return dt.resolve(u)}wt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const o=this.kr.get(a.largestBatchId).delete(r.key);this.kr.set(a.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ohe(n,r));let i=this.kr.get(n);i===void 0&&(i=Ln(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dpe{constructor(){this.sessionToken=ji.EMPTY_BYTE_STRING}getSessionToken(e){return dt.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,dt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.qr=new Qa(ui.Qr),this.$r=new Qa(ui.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new ui(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new ui(e,n))}Gr(e,n){e.forEach((r=>this.removeReference(r,n)))}zr(e){const n=new Ht(new Dr([])),r=new ui(n,e),a=new ui(n,e+1),i=[];return this.$r.forEachInRange([r,a],(o=>{this.Wr(o),i.push(o.key)})),i}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ht(new Dr([])),r=new ui(n,e),a=new ui(n,e+1);let i=Ln();return this.$r.forEachInRange([r,a],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new ui(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ui{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ht.comparator(e.key,n.key)||An(e.Hr,n.Hr)}static Ur(e,n){return An(e.Hr,n.Hr)||Ht.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fpe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Qa(ui.Qr)}checkEmpty(e){return dt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new The(i,n,r,a);this.mutationQueue.push(o);for(const u of a)this.Yr=this.Yr.add(new ui(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return dt.resolve(o)}lookupMutationBatch(e,n){return dt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Xr(r),i=a<0?0:a;return dt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(this.mutationQueue.length===0?A4:this.er-1)}getAllMutationBatches(e){return dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ui(n,0),a=new ui(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,a],(o=>{const u=this.Zr(o.Hr);i.push(u)})),dt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qa(An);return n.forEach((a=>{const i=new ui(a,0),o=new ui(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],(u=>{r=r.add(u.Hr)}))})),dt.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let i=r;Ht.isDocumentKey(i)||(i=i.child(""));const o=new ui(new Ht(i),0);let u=new Qa(An);return this.Yr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===a&&(u=u.add(d.Hr)),!0)}),o),dt.resolve(this.ei(u))}ei(e){const n=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){lr(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return dt.forEach(n.mutations,(a=>{const i=new ui(a.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,n){const r=new ui(n,0),a=this.Yr.firstAfterOrEqual(r);return dt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,dt.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hpe{constructor(e){this.ni=e,this.docs=(function(){return new ra(Ht.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),i=a?a.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return dt.resolve(r?r.document.mutableCopy():Xi.newInvalidDocument(n))}getEntries(e,n){let r=_u();return n.forEach((a=>{const i=this.docs.get(a);r=r.insert(a,i?i.document.mutableCopy():Xi.newInvalidDocument(a))})),dt.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let i=_u();const o=n.path,u=new Ht(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||Ufe(Vfe(p),r)<=0||(a.has(p.key)||Hx(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return dt.resolve(i)}getAllFromCollectionGroup(e,n,r,a){nn(9500)}ri(e,n){return dt.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new ppe(this)}getSize(e){return dt.resolve(this.size)}}class ppe extends spe{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Or.addEntry(e,a)):this.Or.removeEntry(r)})),dt.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mpe{constructor(e){this.persistence=e,this.ii=new Zf((n=>E4(n)),j4),this.lastRemoteSnapshotVersion=ln.min(),this.highestTargetId=0,this.si=0,this.oi=new P4,this.targetCount=0,this._i=zp.ar()}forEachTarget(e,n){return this.ii.forEach(((r,a)=>n(a))),dt.resolve()}getLastRemoteSnapshotVersion(e){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return dt.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),dt.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new zp(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,dt.resolve()}updateTargetData(e,n){return this.hr(n),dt.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,dt.resolve()}removeTargets(e,n,r){let a=0;const i=[];return this.ii.forEach(((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)})),dt.waitFor(i).next((()=>a))}getTargetCount(e){return dt.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return dt.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),dt.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const a=this.persistence.referenceDelegate,i=[];return a&&n.forEach((o=>{i.push(a.markPotentiallyOrphaned(e,o))})),dt.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),dt.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return dt.resolve(r)}containsKey(e,n){return dt.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n){this.ai={},this.overlays={},this.ui=new zx(0),this.ci=!1,this.ci=!0,this.li=new dpe,this.referenceDelegate=e(this),this.hi=new mpe(this),this.indexManager=new Zhe,this.remoteDocumentCache=(function(a){return new hpe(a)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new Qhe(n),this.Ti=new cpe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new upe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new fpe(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Ct("MemoryPersistence","Starting transaction:",e);const a=new gpe(this.ui.next());return this.referenceDelegate.Ii(),r(a).next((i=>this.referenceDelegate.di(a).next((()=>i)))).toPromise().then((i=>(a.raiseOnCommittedEvent(),i)))}Ei(e,n){return dt.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,n))))}}class gpe extends Hfe{constructor(e){super(),this.currentSequenceNumber=e}}class R4{constructor(e){this.persistence=e,this.Ai=new P4,this.Ri=null}static Vi(e){return new R4(e)}get mi(){if(this.Ri)return this.Ri;throw nn(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),dt.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),dt.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),dt.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((a=>this.mi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((i=>this.mi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.mi,(r=>{const a=Ht.fromPath(r);return this.fi(e,a).next((i=>{i||n.removeEntry(a,ln.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return dt.or([()=>dt.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Yy{constructor(e,n){this.persistence=e,this.gi=new Zf((r=>Kfe(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=ipe(this,n)}static Vi(e,n){return new Yy(e,n)}Ii(){}di(e){return dt.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}yr(e){let n=0;return this.gr(e,(r=>{n++})).next((()=>n))}gr(e,n){return dt.forEach(this.gi,((r,a)=>this.Sr(e,r,a).next((i=>i?dt.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ri(e,(o=>this.Sr(e,o,n).next((u=>{u||(r++,i.removeEntry(o,ln.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),dt.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),dt.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),dt.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),dt.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=y1(e.data.value)),n}Sr(e,n,r){return dt.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.gi.get(n);return dt.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=a}static Es(e,n){let r=Ln(),a=Ln();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new D4(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vpe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ype{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return Qle()?8:Gfe(Zi())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,a){const i={result:null};return this.ps(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ys(e,n,a,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new vpe;return this.ws(e,n,o).next((u=>{if(i.result=u,this.Rs)return this.Ss(e,n,o,u.size)}))})).next((()=>i.result))}Ss(e,n,r,a){return r.documentReadCount<this.Vs?(Uh()<=Dn.DEBUG&&Ct("QueryEngine","SDK will not create cache indexes for query:",$h(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),dt.resolve()):(Uh()<=Dn.DEBUG&&Ct("QueryEngine","Query:",$h(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.fs*a?(Uh()<=Dn.DEBUG&&Ct("QueryEngine","The SDK decides to create cache indexes for query:",$h(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vc(n))):dt.resolve())}ps(e,n){if(J8(n))return dt.resolve(null);let r=vc(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Hy(n,null,"F"),r=vc(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=Ln(...i);return this.gs.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.bs(n,u);return this.Ds(n,f,o,d.readTime)?this.ps(e,Hy(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ys(e,n,r,a){return J8(n)||a.isEqual(ln.min())?dt.resolve(null):this.gs.getDocuments(e,r).next((i=>{const o=this.bs(n,i);return this.Ds(n,o,r,a)?dt.resolve(null):(Uh()<=Dn.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),$h(n)),this.vs(e,o,n,zfe(a,vg)).next((u=>u)))}))}bs(e,n){let r=new Qa(XB(e));return n.forEach(((a,i)=>{Hx(e,i)&&(r=r.add(i))})),r}Ds(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}ws(e,n,r){return Uh()<=Dn.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",$h(n)),this.gs.getDocumentsMatchingQuery(e,n,Md.min(),r)}vs(e,n,r,a){return this.gs.getDocumentsMatchingQuery(e,r,a).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="LocalStore",xpe=3e8;class bpe{constructor(e,n,r,a){this.persistence=e,this.Cs=n,this.serializer=a,this.Fs=new ra(An),this.Ms=new Zf((i=>E4(i)),j4),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lpe(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function _pe(t,e,n,r){return new bpe(t,e,n,r)}async function xF(t,e){const n=dn(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((i=>(a=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],u=[];let d=Ln();for(const f of a){o.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of i){u.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Bs:f,removedBatchIds:o,addedBatchIds:u})))}))}))}function wpe(t,e){const n=dn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,p){const g=f.batch,y=g.keys();let x=dt.resolve();return y.forEach((E=>{x=x.next((()=>p.getEntry(d,E))).next((w=>{const N=f.docVersions.get(E);lr(N!==null,48541),w.version.compareTo(N)<0&&(g.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),p.addEntry(w)))}))})),x.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=Ln();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function bF(t){const e=dn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function Ape(t,e){const n=dn(t),r=e.snapshotVersion;let a=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});a=n.Fs;const u=[];e.targetChanges.forEach(((p,g)=>{const y=a.get(g);if(!y)return;u.push(n.hi.removeMatchingKeys(i,p.removedDocuments,g).next((()=>n.hi.addMatchingKeys(i,p.addedDocuments,g))));let x=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(ji.EMPTY_BYTE_STRING,ln.min()).withLastLimboFreeSnapshotVersion(ln.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,r)),a=a.insert(g,x),(function(w,N,T){return w.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=xpe?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(y,x,p)&&u.push(n.hi.updateTargetData(i,x))}));let d=_u(),f=Ln();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))})),u.push(Npe(i,o,e.documentUpdates).next((p=>{d=p.Ls,f=p.ks}))),!r.isEqual(ln.min())){const p=n.hi.getLastRemoteSnapshotVersion(i).next((g=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(p)}return dt.waitFor(u).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,d,f))).next((()=>d))})).then((i=>(n.Fs=a,i)))}function Npe(t,e,n){let r=Ln(),a=Ln();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=_u();return n.forEach(((u,d)=>{const f=i.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(u)),d.isNoDocument()&&d.version.isEqual(ln.min())?(e.removeEntry(u,d.readTime),o=o.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),o=o.insert(u,d)):Ct(L4,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{Ls:o,ks:a}}))}function Spe(t,e){const n=dn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=A4),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Epe(t,e){const n=dn(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.hi.getTargetData(r,e).next((i=>i?(a=i,dt.resolve(a)):n.hi.allocateTargetId(r).next((o=>(a=new wd(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Fs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r}))}async function FS(t,e,n){const r=dn(t),a=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,a)))}catch(o){if(!im(o))throw o;Ct(L4,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(a.target)}function dD(t,e,n){const r=dn(t);let a=ln.min(),i=Ln();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,f,p){const g=dn(d),y=g.Ms.get(p);return y!==void 0?dt.resolve(g.Fs.get(y)):g.hi.getTargetData(f,p)})(r,o,vc(e)).next((u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,u.targetId).next((d=>{i=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(o,e,n?a:ln.min(),n?i:Ln()))).next((u=>(jpe(r,hhe(e),u),{documents:u,qs:i})))))}function jpe(t,e,n){let r=t.xs.get(e)||ln.min();n.forEach(((a,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.xs.set(e,r)}class fD{constructor(){this.activeTargetIds=xhe()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tpe{constructor(){this.Fo=new fD,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new fD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ope{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="ConnectivityMonitor";class pD{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ct(hD,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ct(hD,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a1=null;function qS(){return a1===null?a1=(function(){return 268435456+Math.round(2147483648*Math.random())})():a1++,"0x"+a1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="RestConnection",kpe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cpe{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.Ko=this.databaseId.database===Vy?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,n,r,a,i){const o=qS(),u=this.Go(e,n.toUriEncodedString());Ct(MA,`Sending RPC '${e}' ${o}:`,u,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,a,i);const{host:f}=new URL(u),p=Yd(f);return this.jo(e,u,d,r,p).then((g=>(Ct(MA,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw Ld(MA,`RPC '${e}' ${o} failed with error: `,g,"url: ",u,"request:",r),g}))}Jo(e,n,r,a,i,o){return this.Wo(e,n,r,a,i)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,i)=>e[i]=a)),r&&r.headers.forEach(((a,i)=>e[i]=a))}Go(e,n){const r=kpe[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ipe{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="WebChannelConnection";class Ppe extends Cpe{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,a,i){const o=qS();return new Promise(((u,d)=>{const f=new wB;f.setWithCredentials(!0),f.listenOnce(AB.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case v1.NO_ERROR:const g=f.getResponseJson();Ct(Hi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case v1.TIMEOUT:Ct(Hi,`RPC '${e}' ${o} timed out`),d(new Tt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case v1.HTTP_ERROR:const y=f.getStatus();if(Ct(Hi,`RPC '${e}' ${o} failed with status:`,y,"response text:",f.getResponseText()),y>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const E=x==null?void 0:x.error;if(E&&E.status&&E.message){const w=(function(T){const C=T.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(C)>=0?C:lt.UNKNOWN})(E.status);d(new Tt(w,E.message))}else d(new Tt(lt.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Tt(lt.UNAVAILABLE,"Connection failed."));break;default:nn(9055,{c_:e,streamId:o,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{Ct(Hi,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(a);Ct(Hi,`RPC '${e}' ${o} sending request:`,a),f.send(n,"POST",p,r,15)}))}P_(e,n,r){const a=qS(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=EB(),u=SB(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=i.join("");Ct(Hi,`Creating RPC '${e}' stream ${a}: ${p}`,d);const g=o.createWebChannel(p,d);this.T_(g);let y=!1,x=!1;const E=new Ipe({Ho:N=>{x?Ct(Hi,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(y||(Ct(Hi,`Opening RPC '${e}' stream ${a} transport.`),g.open(),y=!0),Ct(Hi,`RPC '${e}' stream ${a} sending:`,N),g.send(N))},Yo:()=>g.close()}),w=(N,T,C)=>{N.listen(T,(B=>{try{C(B)}catch(q){setTimeout((()=>{throw q}),0)}}))};return w(g,o0.EventType.OPEN,(()=>{x||(Ct(Hi,`RPC '${e}' stream ${a} transport opened.`),E.s_())})),w(g,o0.EventType.CLOSE,(()=>{x||(x=!0,Ct(Hi,`RPC '${e}' stream ${a} transport closed`),E.__(),this.I_(g))})),w(g,o0.EventType.ERROR,(N=>{x||(x=!0,Ld(Hi,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),E.__(new Tt(lt.UNAVAILABLE,"The operation could not be completed")))})),w(g,o0.EventType.MESSAGE,(N=>{var T;if(!x){const C=N.data[0];lr(!!C,16349);const B=C,q=(B==null?void 0:B.error)||((T=B[0])===null||T===void 0?void 0:T.error);if(q){Ct(Hi,`RPC '${e}' stream ${a} received error:`,q);const D=q.status;let F=(function(V){const U=Ra[V];if(U!==void 0)return oF(U)})(D),k=q.message;F===void 0&&(F=lt.INTERNAL,k="Unknown error status: "+D+" with message "+q.message),x=!0,E.__(new Tt(F,k)),g.close()}else Ct(Hi,`RPC '${e}' stream ${a} received:`,C),E.a_(C)}})),w(u,NB.STAT_EVENT,(N=>{N.stat===TS.PROXY?Ct(Hi,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===TS.NOPROXY&&Ct(Hi,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{E.o_()}),0),E}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function BA(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t){return new Mhe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,n,r=1e3,a=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=a,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),a=Math.max(0,n-r);a>0&&Ct("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="PersistentStream";class wF{constructor(e,n,r,a,i,o,u,d){this.Fi=e,this.w_=r,this.S_=a,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new _F(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===lt.RESOURCE_EXHAUSTED?(bu(n.toString()),bu("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.b_===n&&this.W_(r,a)}),(r=>{e((()=>{const a=new Tt(lt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(a)}))}))}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((a=>{r((()=>this.G_(a)))})),this.stream.onMessage((a=>{r((()=>++this.C_==1?this.j_(a):this.onNext(a)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return Ct(mD,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(Ct(mD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Rpe extends wF{constructor(e,n,r,a,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=qhe(this.serializer,e),r=(function(i){if(!("targetChange"in i))return ln.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ln.min():o.readTime?yc(o.readTime):ln.min()})(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=BS(this.serializer),n.addTarget=(function(i,o){let u;const d=o.target;if(u=PS(d)?{documents:Uhe(i,d)}:{query:$he(i,d).Vt},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=uF(i,o.resumeToken);const f=DS(i,o.expectedCount);f!==null&&(u.expectedCount=f)}else if(o.snapshotVersion.compareTo(ln.min())>0){u.readTime=Ky(i,o.snapshotVersion.toTimestamp());const f=DS(i,o.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=Ghe(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=BS(this.serializer),n.removeTarget=e,this.k_(n)}}class Dpe extends wF{constructor(e,n,r,a,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return lr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){lr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Vhe(e.writeResults,e.commitTime),r=yc(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=BS(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>zhe(this.serializer,r)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lpe{}class Mpe extends Lpe{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new Tt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Wo(e,LS(n,r),a,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Tt(lt.UNKNOWN,i.toString())}))}Jo(e,n,r,a,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Jo(e,LS(n,r),a,o,u,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Tt(lt.UNKNOWN,o.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class Bpe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(bu(n),this._a=!1):Ct("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="RemoteStore";class Fpe{constructor(e,n,r,a,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo((o=>{r.enqueueAndForget((async()=>{eh(this)&&(Ct($f,"Restarting streams for network reachability change."),await(async function(d){const f=dn(d);f.Ia.add(4),await qg(f),f.Aa.set("Unknown"),f.Ia.delete(4),await Qx(f)})(this))}))})),this.Aa=new Bpe(r,a)}}async function Qx(t){if(eh(t))for(const e of t.da)await e(!0)}async function qg(t){for(const e of t.da)await e(!1)}function AF(t,e){const n=dn(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),q4(n)?F4(n):om(n).x_()&&B4(n,e))}function M4(t,e){const n=dn(t),r=om(n);n.Ta.delete(e),r.x_()&&NF(n,e),n.Ta.size===0&&(r.x_()?r.B_():eh(n)&&n.Aa.set("Unknown"))}function B4(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ln.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}om(t).H_(e)}function NF(t,e){t.Ra.$e(e),om(t).Y_(e)}function F4(t){t.Ra=new Phe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),om(t).start(),t.Aa.aa()}function q4(t){return eh(t)&&!om(t).M_()&&t.Ta.size>0}function eh(t){return dn(t).Ia.size===0}function SF(t){t.Ra=void 0}async function qpe(t){t.Aa.set("Online")}async function zpe(t){t.Ta.forEach(((e,n)=>{B4(t,e)}))}async function Vpe(t,e){SF(t),q4(t)?(t.Aa.la(e),F4(t)):t.Aa.set("Unknown")}async function Upe(t,e,n){if(t.Aa.set("Online"),e instanceof cF&&e.state===2&&e.cause)try{await(async function(a,i){const o=i.cause;for(const u of i.targetIds)a.Ta.has(u)&&(await a.remoteSyncer.rejectListen(u,o),a.Ta.delete(u),a.Ra.removeTarget(u))})(t,e)}catch(r){Ct($f,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xy(t,r)}else if(e instanceof _1?t.Ra.Ye(e):e instanceof lF?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ln.min()))try{const r=await bF(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const u=i.Ra.Pt(o);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=i.Ta.get(f);p&&i.Ta.set(f,p.withResumeToken(d.resumeToken,o))}})),u.targetMismatches.forEach(((d,f)=>{const p=i.Ta.get(d);if(!p)return;i.Ta.set(d,p.withResumeToken(ji.EMPTY_BYTE_STRING,p.snapshotVersion)),NF(i,d);const g=new wd(p.target,d,f,p.sequenceNumber);B4(i,g)})),i.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Ct($f,"Failed to raise snapshot:",r),await Xy(t,r)}}async function Xy(t,e,n){if(!im(e))throw e;t.Ia.add(1),await qg(t),t.Aa.set("Offline"),n||(n=()=>bF(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ct($f,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Qx(t)}))}function EF(t,e){return e().catch((n=>Xy(t,n,e)))}async function Jx(t){const e=dn(t),n=zd(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:A4;for(;$pe(e);)try{const a=await Spe(e.localStore,r);if(a===null){e.Pa.length===0&&n.B_();break}r=a.batchId,Hpe(e,a)}catch(a){await Xy(e,a)}jF(e)&&TF(e)}function $pe(t){return eh(t)&&t.Pa.length<10}function Hpe(t,e){t.Pa.push(e);const n=zd(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function jF(t){return eh(t)&&!zd(t).M_()&&t.Pa.length>0}function TF(t){zd(t).start()}async function Gpe(t){zd(t).na()}async function Wpe(t){const e=zd(t);for(const n of t.Pa)e.X_(n.mutations)}async function Kpe(t,e,n){const r=t.Pa.shift(),a=k4.from(r,e,n);await EF(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Jx(t)}async function Ype(t,e){e&&zd(t).Z_&&await(async function(r,a){if((function(o){return Che(o)&&o!==lt.ABORTED})(a.code)){const i=r.Pa.shift();zd(r).N_(),await EF(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,a))),await Jx(r)}})(t,e),jF(t)&&TF(t)}async function gD(t,e){const n=dn(t);n.asyncQueue.verifyOperationInProgress(),Ct($f,"RemoteStore received new credentials");const r=eh(n);n.Ia.add(3),await qg(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Qx(n)}async function Xpe(t,e){const n=dn(t);e?(n.Ia.delete(2),await Qx(n)):e||(n.Ia.add(2),await qg(n),n.Aa.set("Unknown"))}function om(t){return t.Va||(t.Va=(function(n,r,a){const i=dn(n);return i.ia(),new Rpe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)})(t.datastore,t.asyncQueue,{Zo:qpe.bind(null,t),e_:zpe.bind(null,t),n_:Vpe.bind(null,t),J_:Upe.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),q4(t)?F4(t):t.Aa.set("Unknown")):(await t.Va.stop(),SF(t))}))),t.Va}function zd(t){return t.ma||(t.ma=(function(n,r,a){const i=dn(n);return i.ia(),new Dpe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Gpe.bind(null,t),n_:Ype.bind(null,t),ea:Wpe.bind(null,t),ta:Kpe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await Jx(t)):(await t.ma.stop(),t.Pa.length>0&&(Ct($f,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n,r,a,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=i,this.deferred=new Cd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,i){const o=Date.now()+r,u=new z4(e,n,o,a,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V4(t,e){if(bu("AsyncQueue",`${e}: ${t}`),im(t))return new Tt(lt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{static emptySet(e){return new dp(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ht.comparator(n.key,r.key):(n,r)=>Ht.comparator(n.key,r.key),this.keyedMap=l0(),this.sortedSet=new ra(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,i=r.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new dp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.fa=new ra(Ht.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):nn(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Vp{constructor(e,n,r,a,i,o,u,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,a,i){const o=[];return n.forEach((u=>{o.push({type:0,doc:u})})),new Vp(e,n,dp.emptySet(n),o,r,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$x(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qpe{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class Jpe{constructor(){this.queries=yD(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const a=dn(n),i=a.queries;a.queries=yD(),i.forEach(((o,u)=>{for(const d of u.wa)d.onError(r)}))})(this,new Tt(lt.ABORTED,"Firestore shutting down"))}}function yD(){return new Zf((t=>YB(t)),$x)}async function OF(t,e){const n=dn(t);let r=3;const a=e.query;let i=n.queries.get(a);i?!i.Sa()&&e.ba()&&(r=2):(i=new Qpe,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(a,!0);break;case 1:i.ya=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(o){const u=V4(o,`Initialization of query '${$h(e.query)}' failed`);return void e.onError(u)}n.queries.set(a,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&U4(n)}async function kF(t,e){const n=dn(t),r=e.query;let a=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?a=e.ba()?0:1:!i.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Zpe(t,e){const n=dn(t);let r=!1;for(const a of e){const i=a.query,o=n.queries.get(i);if(o){for(const u of o.wa)u.Ca(a)&&(r=!0);o.ya=a}}r&&U4(n)}function eme(t,e,n){const r=dn(t),a=r.queries.get(e);if(a)for(const i of a.wa)i.onError(n);r.queries.delete(e)}function U4(t){t.Da.forEach((e=>{e.next()}))}var zS,xD;(xD=zS||(zS={})).Fa="default",xD.Cache="cache";class CF{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Vp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Vp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==zS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.key=e}}class PF{constructor(e){this.key=e}}class tme{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ln(),this.mutatedKeys=Ln(),this.Xa=XB(e),this.eu=new dp(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new vD,a=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=a,u=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,g)=>{const y=a.get(p),x=Hx(this.query,g)?g:null,E=!!y&&this.mutatedKeys.has(y.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;y&&x?y.data.isEqual(x.data)?E!==w&&(r.track({type:3,doc:x}),N=!0):this.iu(y,x)||(r.track({type:2,doc:x}),N=!0,(d&&this.Xa(x,d)>0||f&&this.Xa(x,f)<0)&&(u=!0)):!y&&x?(r.track({type:0,doc:x}),N=!0):y&&!x&&(r.track({type:1,doc:y}),N=!0,(d||f)&&(u=!0)),N&&(x?(o=o.add(x),i=w?i.add(p):i.delete(p)):(o=o.delete(p),i=i.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{eu:o,ru:r,Ds:u,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort(((p,g)=>(function(x,E){const w=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn(20277,{At:N})}};return w(x)-w(E)})(p.type,g.type)||this.Xa(p.doc,g.doc))),this.su(r),a=a!=null&&a;const u=n&&!a?this.ou():[],d=this.Za.size===0&&this.current&&!a?1:0,f=d!==this.Ya;return this.Ya=d,o.length!==0||f?{snapshot:new Vp(this.query,e.eu,i,o,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new vD,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ln(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const n=[];return e.forEach((r=>{this.Za.has(r)||n.push(new PF(r))})),this.Za.forEach((r=>{e.has(r)||n.push(new IF(r))})),n}uu(e){this.Ha=e.qs,this.Za=Ln();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Vp.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const $4="SyncEngine";class nme{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rme{constructor(e){this.key=e,this.lu=!1}}class ame{constructor(e,n,r,a,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Zf((u=>YB(u)),$x),this.Tu=new Map,this.Iu=new Set,this.du=new ra(Ht.comparator),this.Eu=new Map,this.Au=new P4,this.Ru={},this.Vu=new Map,this.mu=zp.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function ime(t,e,n=!0){const r=FF(t);let a;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.cu()):a=await RF(r,e,n,!0),a}async function sme(t,e){const n=FF(t);await RF(n,e,!0,!1)}async function RF(t,e,n,r){const a=await Epe(t.localStore,vc(e)),i=a.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await ome(t,e,i,o==="current",a.resumeToken)),t.isPrimaryClient&&n&&AF(t.remoteStore,a),u}async function ome(t,e,n,r,a){t.gu=(g,y,x)=>(async function(w,N,T,C){let B=N.view.nu(T);B.Ds&&(B=await dD(w.localStore,N.query,!1).then((({documents:k})=>N.view.nu(k,B))));const q=C&&C.targetChanges.get(N.targetId),D=C&&C.targetMismatches.get(N.targetId)!=null,F=N.view.applyChanges(B,w.isPrimaryClient,q,D);return _D(w,N.targetId,F._u),F.snapshot})(t,g,y,x);const i=await dD(t.localStore,e,!0),o=new tme(e,i.qs),u=o.nu(i.documents),d=Fg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),f=o.applyChanges(u,t.isPrimaryClient,d);_D(t,n,f._u);const p=new nme(e,n,o);return t.Pu.set(e,p),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),f.snapshot}async function lme(t,e,n){const r=dn(t),a=r.Pu.get(e),i=r.Tu.get(a.targetId);if(i.length>1)return r.Tu.set(a.targetId,i.filter((o=>!$x(o,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await FS(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&M4(r.remoteStore,a.targetId),VS(r,a.targetId)})).catch(am)):(VS(r,a.targetId),await FS(r.localStore,a.targetId,!0))}async function cme(t,e){const n=dn(t),r=n.Pu.get(e),a=n.Tu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),M4(n.remoteStore,r.targetId))}async function ume(t,e,n){const r=vme(t);try{const a=await(function(o,u){const d=dn(o),f=Ur.now(),p=u.reduce(((x,E)=>x.add(E.key)),Ln());let g,y;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let E=_u(),w=Ln();return d.Os.getEntries(x,p).next((N=>{E=N,E.forEach(((T,C)=>{C.isValidDocument()||(w=w.add(T))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,E))).next((N=>{g=N;const T=[];for(const C of u){const B=Ehe(C,g.get(C.key).overlayedDocument);B!=null&&T.push(new Jd(C.key,B,zB(B.value.mapValue),hs.exists(!0)))}return d.mutationQueue.addMutationBatch(x,f,T,u)})).next((N=>{y=N;const T=N.applyToLocalDocumentSet(g,w);return d.documentOverlayCache.saveOverlays(x,N.batchId,T)}))})).then((()=>({batchId:y.batchId,changes:JB(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(o,u,d){let f=o.Ru[o.currentUser.toKey()];f||(f=new ra(An)),f=f.insert(u,d),o.Ru[o.currentUser.toKey()]=f})(r,a.batchId,n),await zg(r,a.changes),await Jx(r.remoteStore)}catch(a){const i=V4(a,"Failed to persist write");n.reject(i)}}async function DF(t,e){const n=dn(t);try{const r=await Ape(n.localStore,e);e.targetChanges.forEach(((a,i)=>{const o=n.Eu.get(i);o&&(lr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?o.lu=!0:a.modifiedDocuments.size>0?lr(o.lu,14607):a.removedDocuments.size>0&&(lr(o.lu,42227),o.lu=!1))})),await zg(n,r,e)}catch(r){await am(r)}}function bD(t,e,n){const r=dn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Pu.forEach(((i,o)=>{const u=o.view.va(e);u.snapshot&&a.push(u.snapshot)})),(function(o,u){const d=dn(o);d.onlineState=u;let f=!1;d.queries.forEach(((p,g)=>{for(const y of g.wa)y.va(u)&&(f=!0)})),f&&U4(d)})(r.eventManager,e),a.length&&r.hu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dme(t,e,n){const r=dn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Eu.get(e),i=a&&a.key;if(i){let o=new ra(Ht.comparator);o=o.insert(i,Xi.newNoDocument(i,ln.min()));const u=Ln().add(i),d=new Yx(ln.min(),new Map,new ra(An),o,u);await DF(r,d),r.du=r.du.remove(i),r.Eu.delete(e),H4(r)}else await FS(r.localStore,e,!1).then((()=>VS(r,e,n))).catch(am)}async function fme(t,e){const n=dn(t),r=e.batch.batchId;try{const a=await wpe(n.localStore,e);MF(n,r,null),LF(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zg(n,a)}catch(a){await am(a)}}async function hme(t,e,n){const r=dn(t);try{const a=await(function(o,u){const d=dn(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return d.mutationQueue.lookupMutationBatch(f,u).next((g=>(lr(g!==null,37113),p=g.keys(),d.mutationQueue.removeMutationBatch(f,g)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>d.localDocuments.getDocuments(f,p)))}))})(r.localStore,e);MF(r,e,n),LF(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zg(r,a)}catch(a){await am(a)}}function LF(t,e){(t.Vu.get(e)||[]).forEach((n=>{n.resolve()})),t.Vu.delete(e)}function MF(t,e,n){const r=dn(t);let a=r.Ru[r.currentUser.toKey()];if(a){const i=a.get(e);i&&(n?i.reject(n):i.resolve(),a=a.remove(e)),r.Ru[r.currentUser.toKey()]=a}}function VS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((r=>{t.Au.containsKey(r)||BF(t,r)}))}function BF(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(M4(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),H4(t))}function _D(t,e,n){for(const r of n)r instanceof IF?(t.Au.addReference(r.key,e),pme(t,r)):r instanceof PF?(Ct($4,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||BF(t,r.key)):nn(19791,{yu:r})}function pme(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(Ct($4,"New document in limbo: "+n),t.Iu.add(r),H4(t))}function H4(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ht(Dr.fromString(e)),r=t.mu.next();t.Eu.set(r,new rme(n)),t.du=t.du.insert(n,r),AF(t.remoteStore,new wd(vc(T4(n.path)),r,"TargetPurposeLimboResolution",zx.ue))}}async function zg(t,e,n){const r=dn(t),a=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach(((u,d)=>{o.push(r.gu(d,e,n).then((f=>{var p;if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){a.push(f);const g=D4.Es(d.targetId,f);i.push(g)}})))})),await Promise.all(o),r.hu.J_(a),await(async function(d,f){const p=dn(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>dt.forEach(f,(y=>dt.forEach(y.Is,(x=>p.persistence.referenceDelegate.addReference(g,y.targetId,x))).next((()=>dt.forEach(y.ds,(x=>p.persistence.referenceDelegate.removeReference(g,y.targetId,x)))))))))}catch(g){if(!im(g))throw g;Ct(L4,"Failed to update sequence numbers: "+g)}for(const g of f){const y=g.targetId;if(!g.fromCache){const x=p.Fs.get(y),E=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(E);p.Fs=p.Fs.insert(y,w)}}})(r.localStore,i))}async function mme(t,e){const n=dn(t);if(!n.currentUser.isEqual(e)){Ct($4,"User change. New user:",e.toKey());const r=await xF(n.localStore,e);n.currentUser=e,(function(i,o){i.Vu.forEach((u=>{u.forEach((d=>{d.reject(new Tt(lt.CANCELLED,o))}))})),i.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zg(n,r.Bs)}}function gme(t,e){const n=dn(t),r=n.Eu.get(e);if(r&&r.lu)return Ln().add(r.key);{let a=Ln();const i=n.Tu.get(e);if(!i)return a;for(const o of i){const u=n.Pu.get(o);a=a.unionWith(u.view.tu)}return a}}function FF(t){const e=dn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gme.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dme.bind(null,e),e.hu.J_=Zpe.bind(null,e.eventManager),e.hu.pu=eme.bind(null,e.eventManager),e}function vme(t){const e=dn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fme.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hme.bind(null,e),e}class Qy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xx(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return _pe(this.persistence,new ype,e.initialUser,this.serializer)}Du(e){return new yF(R4.Vi,this.serializer)}bu(e){return new Tpe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qy.provider={build:()=>new Qy};class yme extends Qy{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){lr(this.persistence.referenceDelegate instanceof Yy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rpe(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new yF((r=>Yy.Vi(r,n)),this.serializer)}}class US{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mme.bind(null,this.syncEngine),await Xpe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Jpe})()}createDatastore(e){const n=Xx(e.databaseInfo.databaseId),r=(function(i){return new Ppe(i)})(e.databaseInfo);return(function(i,o,u,d){return new Mpe(i,o,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,i,o,u){return new Fpe(r,a,i,o,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>bD(this.syncEngine,n,0)),(function(){return pD.C()?new pD:new Ope})())}createSyncEngine(e,n){return(function(a,i,o,u,d,f,p){const g=new ame(a,i,o,u,d,f);return p&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const i=dn(a);Ct($f,"RemoteStore shutting down."),i.Ia.add(5),await qg(i),i.Ea.shutdown(),i.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}US.provider={build:()=>new US};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):bu("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="FirestoreClient";class xme{constructor(e,n,r,a,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Wi.UNAUTHENTICATED,this.clientId=w4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{Ct(Vd,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Ct(Vd,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=V4(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function FA(t,e){t.asyncQueue.verifyOperationInProgress(),Ct(Vd,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await xF(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>{Ld("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{Ct("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((a=>{Ld("Terminating Firestore due to IndexedDb database deletion failed",a)}))})),t._offlineComponents=e}async function wD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bme(t);Ct(Vd,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>gD(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>gD(e.remoteStore,a))),t._onlineComponents=e}async function bme(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ct(Vd,"Using user provided OfflineComponentProvider");try{await FA(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===lt.FAILED_PRECONDITION||a.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ld("Error using user provided cache. Falling back to memory cache: "+n),await FA(t,new Qy)}}else Ct(Vd,"Using default OfflineComponentProvider"),await FA(t,new yme(void 0));return t._offlineComponents}async function zF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ct(Vd,"Using user provided OnlineComponentProvider"),await wD(t,t._uninitializedComponentsProvider._online)):(Ct(Vd,"Using default OnlineComponentProvider"),await wD(t,new US))),t._onlineComponents}function _me(t){return zF(t).then((e=>e.syncEngine))}async function $S(t){const e=await zF(t),n=e.eventManager;return n.onListen=ime.bind(null,e.syncEngine),n.onUnlisten=lme.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sme.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cme.bind(null,e.syncEngine),n}function wme(t,e,n={}){const r=new Cd;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,u,d,f){const p=new qF({next:y=>{p.Ou(),o.enqueueAndForget((()=>kF(i,g))),y.fromCache&&d.source==="server"?f.reject(new Tt(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),g=new CF(u,p,{includeMetadataChanges:!0,ka:!0});return OF(i,g)})(await $S(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF="firestore.googleapis.com",ND=!0;class SD{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Tt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UF,this.ssl=ND}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ND;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tpe)throw new Tt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ffe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Tt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Tt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Tt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zx{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Tt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Tt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kfe;switch(r.type){case"firstParty":return new Rfe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Tt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=AD.get(n);r&&(Ct("ComponentProvider","Removing Datastore"),AD.delete(n),r.terminate())})(this),Promise.resolve()}}function Ame(t,e,n,r={}){var a;t=lo(t,Zx);const i=Yd(e),o=t._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;i&&(o4(`https://${d}`),l4("Firestore",!0)),o.host!==UF&&o.host!==d&&Ld("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:d,ssl:i,emulatorOptions:r});if(!qf(f,u)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Wi.MOCK_USER;else{p=L9(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Tt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Wi(y)}t._authCredentials=new Cfe(new TB(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Eu(this.firestore,e,this._query)}}class wa{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Id(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wa(this.firestore,e,this._key)}toJSON(){return{type:wa._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Mg(n,wa._jsonSchema))return new wa(e,r||null,new Ht(Dr.fromString(n.referencePath)))}}wa._jsonSchemaVersion="firestore/documentReference/1.0",wa._jsonSchema={type:Ma("string",wa._jsonSchemaVersion),referencePath:Ma("string")};class Id extends Eu{constructor(e,n,r){super(e,n,T4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wa(this.firestore,null,new Ht(e))}withConverter(e){return new Id(this.firestore,e,this._path)}}function Qn(t,e,...n){if(t=Hr(t),kB("collection","path",e),t instanceof Zx){const r=Dr.fromString(e,...n);return B8(r),new Id(t,null,r)}{if(!(t instanceof wa||t instanceof Id))throw new Tt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dr.fromString(e,...n));return B8(r),new Id(t.firestore,null,r)}}function wn(t,e,...n){if(t=Hr(t),arguments.length===1&&(e=w4.newId()),kB("doc","path",e),t instanceof Zx){const r=Dr.fromString(e,...n);return M8(r),new wa(t,null,new Ht(r))}{if(!(t instanceof wa||t instanceof Id))throw new Tt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dr.fromString(e,...n));return M8(r),new wa(t.firestore,t instanceof Id?t.converter:null,new Ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="AsyncQueue";class jD{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new _F(this,"async_queue_retry"),this.oc=()=>{const r=BA();r&&Ct(ED,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=BA();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=BA();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Cd;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!im(e))throw e;Ct(ED,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,bu("INTERNAL UNHANDLED ERROR: ",TD(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const a=z4.createAndSchedule(this,e,n,r,(i=>this.lc(i)));return this.ec.push(a),a}ac(){this.tc&&nn(47125,{hc:TD(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function TD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const i of r)if(i in a&&typeof a[i]=="function")return!0;return!1})(t,["next","error","complete"])}class wu extends Zx{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new jD,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jD(e),this._firestoreClient=void 0,await e}}}function Nme(t,e){const n=typeof t=="object"?t:d4(),r=typeof t=="string"?t:Vy,a=Dx(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const i=P9("firestore");i&&Ame(a,...i)}return a}function eb(t){if(t._terminated)throw new Tt(lt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Sme(t),t._firestoreClient}function Sme(t){var e,n,r;const a=t._freezeSettings(),i=(function(u,d,f,p){return new Qfe(u,d,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,VF(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new xme(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Do(ji.fromBase64String(e))}catch(n){throw new Tt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Do(ji.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Do._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mg(e,Do._jsonSchema))return Do.fromBase64String(e.bytes)}}Do._jsonSchemaVersion="firestore/bytes/1.0",Do._jsonSchema={type:Ma("string",Do._jsonSchemaVersion),bytes:Ma("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Tt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Si(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Tt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Tt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return An(this._lat,e._lat)||An(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xc._jsonSchemaVersion}}static fromJSON(e){if(Mg(e,xc._jsonSchema))return new xc(e.latitude,e.longitude)}}xc._jsonSchemaVersion="firestore/geoPoint/1.0",xc._jsonSchema={type:Ma("string",xc._jsonSchemaVersion),latitude:Ma("number"),longitude:Ma("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==a[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mg(e,bc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new bc(e.vectorValues);throw new Tt(lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bc._jsonSchemaVersion="firestore/vectorValue/1.0",bc._jsonSchema={type:Ma("string",bc._jsonSchemaVersion),vectorValues:Ma("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eme=/^__.*__$/;class jme{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jd(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bg(e,this.data,n,this.fieldTransforms)}}class $F{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Jd(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn(40011,{Ec:t})}}class W4{constructor(e,n,r,a,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new W4(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:r,mc:!1});return a.fc(e),a}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:r,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Jy(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(HF(this.Ec)&&Eme.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Tme{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xx(e)}Dc(e,n,r,a=!1){return new W4({Ec:e,methodName:n,bc:r,path:Si.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ug(t){const e=t._freezeSettings(),n=Xx(t._databaseId);return new Tme(t._databaseId,!!e.ignoreUndefinedProperties,n)}function K4(t,e,n,r,a,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,a);Y4("Data must be an object, but it was:",o,r);const u=KF(r,o);let d,f;if(i.merge)d=new so(o.fieldMask),f=o.fieldTransforms;else if(i.mergeFields){const p=[];for(const g of i.mergeFields){const y=HS(e,g,n);if(!o.contains(y))throw new Tt(lt.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);XF(p,y)||p.push(y)}d=new so(p),f=o.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,f=o.fieldTransforms;return new jme(new Cs(u),d,f)}class tb extends G4{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tb}}function GF(t,e,n,r){const a=t.Dc(1,e,n);Y4("Data must be an object, but it was:",a,r);const i=[],o=Cs.empty();Qd(r,((d,f)=>{const p=X4(e,d,n);f=Hr(f);const g=a.gc(p);if(f instanceof tb)i.push(p);else{const y=$g(f,g);y!=null&&(i.push(p),o.set(p,y))}}));const u=new so(i);return new $F(o,u,a.fieldTransforms)}function WF(t,e,n,r,a,i){const o=t.Dc(1,e,n),u=[HS(e,r,n)],d=[a];if(i.length%2!=0)throw new Tt(lt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)u.push(HS(e,i[y])),d.push(i[y+1]);const f=[],p=Cs.empty();for(let y=u.length-1;y>=0;--y)if(!XF(f,u[y])){const x=u[y];let E=d[y];E=Hr(E);const w=o.gc(x);if(E instanceof tb)f.push(x);else{const N=$g(E,w);N!=null&&(f.push(x),p.set(x,N))}}const g=new so(f);return new $F(p,g,o.fieldTransforms)}function Ome(t,e,n,r=!1){return $g(n,t.Dc(r?4:3,e))}function $g(t,e){if(YF(t=Hr(t)))return Y4("Unsupported field value:",e,t),KF(t,e);if(t instanceof G4)return(function(r,a){if(!HF(a.Ec))throw a.wc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(a);i&&a.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,a){const i=[];let o=0;for(const u of r){let d=$g(u,a.yc(o));d==null&&(d={nullValue:"NULL_VALUE"}),i.push(d),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,a){if((r=Hr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bhe(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ur.fromDate(r);return{timestampValue:Ky(a.serializer,i)}}if(r instanceof Ur){const i=new Ur(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ky(a.serializer,i)}}if(r instanceof xc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Do)return{bytesValue:uF(a.serializer,r._byteString)};if(r instanceof wa){const i=a.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw a.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:I4(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof bc)return(function(o,u){return{mapValue:{fields:{[FB]:{stringValue:qB},[Uy]:{arrayValue:{values:o.toArray().map((f=>{if(typeof f!="number")throw u.wc("VectorValues must only contain numeric values.");return O4(u.serializer,f)}))}}}}}})(r,a);throw a.wc(`Unsupported field value: ${qx(r)}`)})(t,e)}function KF(t,e){const n={};return PB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qd(t,((r,a)=>{const i=$g(a,e.Vc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function YF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ur||t instanceof xc||t instanceof Do||t instanceof wa||t instanceof G4||t instanceof bc)}function Y4(t,e,n){if(!YF(n)||!CB(n)){const r=qx(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function HS(t,e,n){if((e=Hr(e))instanceof Vg)return e._internalPath;if(typeof e=="string")return X4(t,e);throw Jy("Field path arguments must be of type string or ",t,!1,void 0,n)}const kme=new RegExp("[~\\*/\\[\\]]");function X4(t,e,n){if(e.search(kme)>=0)throw Jy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vg(...e.split("."))._internalPath}catch{throw Jy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jy(t,e,n,r,a){const i=r&&!r.isEmpty(),o=a!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(i||o)&&(d+=" (found",i&&(d+=` in field ${r}`),o&&(d+=` in document ${a}`),d+=")"),new Tt(lt.INVALID_ARGUMENT,u+t+d)}function XF(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,n,r,a,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new wa(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Cme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Q4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Cme extends QF{data(){return super.data()}}function Q4(t,e){return typeof e=="string"?X4(t,e):e instanceof Vg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Tt(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J4{}class Z4 extends J4{}function ZF(t,e,...n){let r=[];e instanceof J4&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((d=>d instanceof tj)).length,u=i.filter((d=>d instanceof ej)).length;if(o>1||o>0&&u>0)throw new Tt(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class ej extends Z4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ej(e,n,r)}_apply(e){const n=this._parse(e);return tq(e._query,n),new Eu(e.firestore,e.converter,RS(e._query,n))}_parse(e){const n=Ug(e.firestore);return(function(i,o,u,d,f,p,g){let y;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Tt(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){CD(g,p);const E=[];for(const w of g)E.push(kD(d,i,w));y={arrayValue:{values:E}}}else y=kD(d,i,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||CD(g,p),y=Ome(u,o,g,p==="in"||p==="not-in");return La.create(f,p,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class tj extends J4{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tj(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:bl.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,i){let o=a;const u=i.getFlattenedFilters();for(const d of u)tq(o,d),o=RS(o,d)})(e._query,n),new Eu(e.firestore,e.converter,RS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nj extends Z4{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new nj(e,n)}_apply(e){const n=(function(a,i,o){if(a.startAt!==null)throw new Tt(lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Tt(lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _g(i,o)})(e._query,this._field,this._direction);return new Eu(e.firestore,e.converter,(function(a,i){const o=a.explicitOrderBy.concat([i]);return new sm(a.path,a.collectionGroup,o,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Ime(t,e="asc"){const n=e,r=Q4("orderBy",t);return nj._create(r,n)}class rj extends Z4{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new rj(e,n,r)}_apply(e){return new Eu(e.firestore,e.converter,Hy(e._query,this._limit,this._limitType))}}function eq(t){return qfe("limit",t),rj._create("limit",t,"F")}function kD(t,e,n){if(typeof(n=Hr(n))=="string"){if(n==="")throw new Tt(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KB(e)&&n.indexOf("/")!==-1)throw new Tt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dr.fromString(n));if(!Ht.isDocumentKey(r))throw new Tt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return G8(t,new Ht(r))}if(n instanceof wa)return G8(t,n._key);throw new Tt(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qx(n)}.`)}function CD(t,e){if(!Array.isArray(t)||t.length===0)throw new Tt(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tq(t,e){const n=(function(a,i){for(const o of a)for(const u of o.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Tt(lt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Tt(lt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Pme{convertValue(e,n="none"){switch(qd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ya(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw nn(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qd(e,((a,i)=>{r[a]=this.convertValue(i,n)})),r}convertVectorValue(e){var n,r,a;const i=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[Uy].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map((o=>ya(o.doubleValue)));return new bc(i)}convertGeoPoint(e){return new xc(ya(e.latitude),ya(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ux(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yg(e));default:return null}}convertTimestamp(e){const n=Bd(e);return new Ur(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dr.fromString(e);lr(gF(r),9688,{name:e});const a=new xg(r.get(1),r.get(3)),i=new Ht(r.popFirst(5));return a.isEqual(n)||bu(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class u0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class If extends QF{constructor(e,n,r,a,i,o){super(e,n,r,a,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new w1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Q4("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=If._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}If._jsonSchemaVersion="firestore/documentSnapshot/1.0",If._jsonSchema={type:Ma("string",If._jsonSchemaVersion),bundleSource:Ma("string","DocumentSnapshot"),bundleName:Ma("string"),bundle:Ma("string")};class w1 extends If{data(e={}){return super.data(e)}}class Pf{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new u0(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new w1(this._firestore,this._userDataWriter,r.key,r,new u0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Tt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,i){if(a._snapshot.oldDocs.isEmpty()){let o=0;return a._snapshot.docChanges.map((u=>{const d=new w1(a._firestore,a._userDataWriter,u.doc.key,u.doc,new u0(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((u=>i||u.type!==3)).map((u=>{const d=new w1(a._firestore,a._userDataWriter,u.doc.key,u.doc,new u0(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,p=-1;return u.type!==0&&(f=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),p=o.indexOf(u.doc.key)),{type:Rme(u.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=w4.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Rme(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn(61501,{type:t})}}Pf._jsonSchemaVersion="firestore/querySnapshot/1.0",Pf._jsonSchema={type:Ma("string",Pf._jsonSchemaVersion),bundleSource:Ma("string","QuerySnapshot"),bundleName:Ma("string"),bundle:Ma("string")};class ij extends Pme{constructor(e){super(),this.firestore=e}convertBytes(e){return new Do(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wa(this.firestore,null,n)}}function va(t){t=lo(t,Eu);const e=lo(t.firestore,wu),n=eb(e),r=new ij(e);return JF(t._query),wme(n,t._query).then((a=>new Pf(e,r,t,a)))}function Co(t,e,n){t=lo(t,wa);const r=lo(t.firestore,wu),a=aj(t.converter,e,n);return Hg(r,[K4(Ug(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,hs.none())])}function us(t,e,n,...r){t=lo(t,wa);const a=lo(t.firestore,wu),i=Ug(a);let o;return o=typeof(e=Hr(e))=="string"||e instanceof Vg?WF(i,"updateDoc",t._key,e,n,r):GF(i,"updateDoc",t._key,e),Hg(a,[o.toMutation(t._key,hs.exists(!0))])}function Dme(t){return Hg(lo(t.firestore,wu),[new Kx(t._key,hs.none())])}function GS(t,e){const n=lo(t.firestore,wu),r=wn(t),a=aj(t.converter,e);return Hg(n,[K4(Ug(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,hs.exists(!1))]).then((()=>r))}function cd(t,...e){var n,r,a;t=Hr(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||OD(e[o])||(i=e[o++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(OD(e[o])){const g=e[o];e[o]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[o+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[o+2]=(a=g.complete)===null||a===void 0?void 0:a.bind(g)}let d,f,p;if(t instanceof wa)f=lo(t.firestore,wu),p=T4(t._key.path),d={next:g=>{e[o]&&e[o](Lme(f,t,g))},error:e[o+1],complete:e[o+2]};else{const g=lo(t,Eu);f=lo(g.firestore,wu),p=g._query;const y=new ij(f);d={next:x=>{e[o]&&e[o](new Pf(f,y,g,x))},error:e[o+1],complete:e[o+2]},JF(t._query)}return(function(y,x,E,w){const N=new qF(w),T=new CF(x,N,E);return y.asyncQueue.enqueueAndForget((async()=>OF(await $S(y),T))),()=>{N.Ou(),y.asyncQueue.enqueueAndForget((async()=>kF(await $S(y),T)))}})(eb(f),p,u,d)}function Hg(t,e){return(function(r,a){const i=new Cd;return r.asyncQueue.enqueueAndForget((async()=>ume(await _me(r),a,i))),i.promise})(eb(t),e)}function Lme(t,e,n){const r=n.docs.get(e._key),a=new ij(t);return new If(t,a,e._key,r,new u0(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mme{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ug(e)}set(e,n,r){this._verifyNotCommitted();const a=qA(e,this._firestore),i=aj(a.converter,n,r),o=K4(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,r);return this._mutations.push(o.toMutation(a._key,hs.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const i=qA(e,this._firestore);let o;return o=typeof(n=Hr(n))=="string"||n instanceof Vg?WF(this._dataReader,"WriteBatch.update",i._key,n,r,a):GF(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,hs.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=qA(e,this._firestore);return this._mutations=this._mutations.concat(new Kx(n._key,hs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Tt(lt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qA(t,e){if((t=Hr(t)).firestore!==e)throw new Tt(lt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t){return eb(t=lo(t,wu)),new Mme(t,(e=>Hg(t,e)))}(function(e,n=!0){(function(a){rm=a})(Qf),zf(new Dd("firestore",((r,{instanceIdentifier:a,options:i})=>{const o=r.getProvider("app").getImmediate(),u=new wu(new Ife(r.getProvider("auth-internal")),new Dfe(o,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Tt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xg(f.options.projectId,p)})(o,a),o);return i=Object.assign({useFetchStreams:n},i),u._setSettings(i),u}),"PUBLIC").setMultipleInstances(!0)),pc(I8,P8,e),pc(I8,P8,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq="firebasestorage.googleapis.com",rq="storageBucket",Bme=120*1e3,Fme=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends jc{constructor(e,n,r=0){super(zA(e),`Firebase Storage: ${n} (${zA(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ha.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fa;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fa||(fa={}));function zA(t){return"storage/"+t}function sj(){const t="An unknown error occurred, please check the error payload for server response.";return new ha(fa.UNKNOWN,t)}function qme(t){return new ha(fa.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function zme(t){return new ha(fa.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Vme(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ha(fa.UNAUTHENTICATED,t)}function Ume(){return new ha(fa.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function $me(t){return new ha(fa.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Hme(){return new ha(fa.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Gme(){return new ha(fa.CANCELED,"User canceled the upload/download.")}function Wme(t){return new ha(fa.INVALID_URL,"Invalid URL '"+t+"'.")}function Kme(t){return new ha(fa.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Yme(){return new ha(fa.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rq+"' property when initializing the app?")}function Xme(){return new ha(fa.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Qme(){return new ha(fa.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Jme(t){return new ha(fa.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function WS(t){return new ha(fa.INVALID_ARGUMENT,t)}function aq(){return new ha(fa.APP_DELETED,"The Firebase app was deleted.")}function Zme(t){return new ha(fa.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function S0(t,e){return new ha(fa.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Zm(t){throw new ha(fa.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=oo.makeFromUrl(e,n)}catch{return new oo(e,"")}if(r.path==="")return r;throw Kme(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function i(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+a+o,"i"),d={bucket:1,path:3};function f(q){q.path_=decodeURIComponent(q.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",x=new RegExp(`^https?://${g}/${p}/b/${a}/o${y}`,"i"),E={bucket:1,path:3},w=n===nq?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",T=new RegExp(`^https?://${w}/${a}/${N}`,"i"),B=[{regex:u,indices:d,postModify:i},{regex:x,indices:E,postModify:f},{regex:T,indices:{bucket:1,path:2},postModify:f}];for(let q=0;q<B.length;q++){const D=B[q],F=D.regex.exec(e);if(F){const k=F[D.indices.bucket];let I=F[D.indices.path];I||(I=""),r=new oo(k,I),D.postModify(r);break}}if(r==null)throw Wme(e);return r}}class e0e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0e(t,e,n){let r=1,a=null,i=null,o=!1,u=0;function d(){return u===2}let f=!1;function p(...N){f||(f=!0,e.apply(null,N))}function g(N){a=setTimeout(()=>{a=null,t(x,d())},N)}function y(){i&&clearTimeout(i)}function x(N,...T){if(f){y();return}if(N){y(),p.call(null,N,...T);return}if(d()||o){y(),p.call(null,N,...T);return}r<64&&(r*=2);let B;u===1?(u=2,B=0):B=(r+Math.random())*1e3,g(B)}let E=!1;function w(N){E||(E=!0,y(),!f&&(a!==null?(N||(u=2),clearTimeout(a),g(0)):N||(u=1)))}return g(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function n0e(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0e(t){return t!==void 0}function a0e(t){return typeof t=="object"&&!Array.isArray(t)}function oj(t){return typeof t=="string"||t instanceof String}function ID(t){return lj()&&t instanceof Blob}function lj(){return typeof Blob<"u"}function PD(t,e,n,r){if(r<e)throw WS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw WS(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function iq(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Rf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Rf||(Rf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0e(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0e{constructor(e,n,r,a,i,o,u,d,f,p,g,y=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,w)=>{this.resolve_=E,this.reject_=w,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new i1(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=u=>{const d=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const u=i.getErrorCode()===Rf.NO_ERROR,d=i.getStatus();if(!u||i0e(d,this.additionalRetryCodes_)&&this.retry){const p=i.getErrorCode()===Rf.ABORT;r(!1,new i1(!1,null,p));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new i1(f,i))})},n=(r,a)=>{const i=this.resolve_,o=this.reject_,u=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());r0e(d)?i(d):i()}catch(d){o(d)}else if(u!==null){const d=sj();d.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,d)):o(d)}else if(a.canceled){const d=this.appDelete_?aq():Gme();o(d)}else{const d=Hme();o(d)}};this.canceled_?n(!1,new i1(!1,null,!0)):this.backoffId_=t0e(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&n0e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class i1{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function o0e(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function l0e(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function c0e(t,e){e&&(t["X-Firebase-GMPID"]=e)}function u0e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function d0e(t,e,n,r,a,i,o=!0,u=!1){const d=iq(t.urlParams),f=t.url+d,p=Object.assign({},t.headers);return c0e(p,e),o0e(p,n),l0e(p,i),u0e(p,r),new s0e(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function h0e(...t){const e=f0e();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(lj())return new Blob(t);throw new ha(fa.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function p0e(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0e(t){if(typeof atob>"u")throw Jme("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class VA{constructor(e,n){this.data=e,this.contentType=n||null}}function g0e(t,e){switch(t){case cc.RAW:return new VA(sq(e));case cc.BASE64:case cc.BASE64URL:return new VA(oq(t,e));case cc.DATA_URL:return new VA(y0e(e),x0e(e))}throw sj()}function sq(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function v0e(t){let e;try{e=decodeURIComponent(t)}catch{throw S0(cc.DATA_URL,"Malformed data URL.")}return sq(e)}function oq(t,e){switch(t){case cc.BASE64:{const a=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(a||i)throw S0(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case cc.BASE64URL:{const a=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(a||i)throw S0(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=m0e(e)}catch(a){throw a.message.includes("polyfill")?a:S0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}class lq{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw S0(cc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=b0e(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function y0e(t){const e=new lq(t);return e.base64?oq(cc.BASE64,e.rest):v0e(e.rest)}function x0e(t){return new lq(t).contentType}function b0e(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){let r=0,a="";ID(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(ID(this.data_)){const r=this.data_,a=p0e(r,e,n);return a===null?null:new yd(a)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new yd(r,!0)}}static getBlob(...e){if(lj()){const n=e.map(r=>r instanceof yd?r.data_:r);return new yd(h0e.apply(null,n))}else{const n=e.map(o=>oj(o)?g0e(cc.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const a=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let u=0;u<o.length;u++)a[i++]=o[u]}),new yd(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t){let e;try{e=JSON.parse(t)}catch{return null}return a0e(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function w0e(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function uq(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0e(t,e){return e}class ds{constructor(e,n,r,a){this.server=e,this.local=n||e,this.writable=!!r,this.xform=a||A0e}}let s1=null;function N0e(t){return!oj(t)||t.length<2?t:uq(t)}function dq(){if(s1)return s1;const t=[];t.push(new ds("bucket")),t.push(new ds("generation")),t.push(new ds("metageneration")),t.push(new ds("name","fullPath",!0));function e(i,o){return N0e(o)}const n=new ds("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const a=new ds("size");return a.xform=r,t.push(a),t.push(new ds("timeCreated")),t.push(new ds("updated")),t.push(new ds("md5Hash",null,!0)),t.push(new ds("cacheControl",null,!0)),t.push(new ds("contentDisposition",null,!0)),t.push(new ds("contentEncoding",null,!0)),t.push(new ds("contentLanguage",null,!0)),t.push(new ds("contentType",null,!0)),t.push(new ds("metadata","customMetadata",!0)),s1=t,s1}function S0e(t,e){function n(){const r=t.bucket,a=t.fullPath,i=new oo(r,a);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function E0e(t,e,n){const r={};r.type="file";const a=n.length;for(let i=0;i<a;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return S0e(r,t),r}function fq(t,e,n){const r=cq(e);return r===null?null:E0e(t,r,n)}function j0e(t,e,n,r){const a=cq(e);if(a===null||!oj(a.downloadTokens))return null;const i=a.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(f=>{const p=t.bucket,g=t.fullPath,y="/b/"+o(p)+"/o/"+o(g),x=cj(y,n,r),E=iq({alt:"media",token:f});return x+E})[0]}function T0e(t,e){const n={},r=e.length;for(let a=0;a<r;a++){const i=e[a];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class hq{constructor(e,n,r,a){this.url=e,this.method=n,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(t){if(!t)throw sj()}function O0e(t,e){function n(r,a){const i=fq(t,a,e);return pq(i!==null),i}return n}function k0e(t,e){function n(r,a){const i=fq(t,a,e);return pq(i!==null),j0e(i,a,t.host,t._protocol)}return n}function mq(t){function e(n,r){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=Ume():a=Vme():n.getStatus()===402?a=zme(t.bucket):n.getStatus()===403?a=$me(t.path):a=r,a.status=n.getStatus(),a.serverResponse=r.serverResponse,a}return e}function C0e(t){const e=mq(t);function n(r,a){let i=e(r,a);return r.getStatus()===404&&(i=qme(t.path)),i.serverResponse=a.serverResponse,i}return n}function I0e(t,e,n){const r=e.fullServerUrl(),a=cj(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,u=new hq(a,i,k0e(t,n),o);return u.errorHandler=C0e(e),u}function P0e(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function R0e(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=P0e(null,e)),r}function D0e(t,e,n,r,a){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){let B="";for(let q=0;q<2;q++)B=B+Math.random().toString().slice(2);return B}const d=u();o["Content-Type"]="multipart/related; boundary="+d;const f=R0e(e,r,a),p=T0e(f,n),g="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+d+"--",x=yd.getBlob(g,r,y);if(x===null)throw Xme();const E={name:f.fullPath},w=cj(i,t.host,t._protocol),N="POST",T=t.maxUploadRetryTime,C=new hq(w,N,O0e(t,n),T);return C.urlParams=E,C.headers=o,C.body=x.uploadData(),C.errorHandler=mq(e),C}class L0e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Rf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Rf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Rf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,a,i){if(this.sent_)throw Zm("cannot .send() more than once");if(Yd(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class M0e extends L0e{initXhr(){this.xhr_.responseType="text"}}function gq(){return new M0e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n){this._service=e,n instanceof oo?this._location=n:this._location=oo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hf(e,n)}get root(){const e=new oo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uq(this._location.path)}get storage(){return this._service}get parent(){const e=_0e(this._location.path);if(e===null)return null;const n=new oo(this._location.bucket,e);return new Hf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Zme(e)}}function B0e(t,e,n){t._throwIfRoot("uploadBytes");const r=D0e(t.storage,t._location,dq(),new yd(e,!0),n);return t.storage.makeRequestWithTokens(r,gq).then(a=>({metadata:a,ref:t}))}function F0e(t){t._throwIfRoot("getDownloadURL");const e=I0e(t.storage,t._location,dq());return t.storage.makeRequestWithTokens(e,gq).then(n=>{if(n===null)throw Qme();return n})}function q0e(t,e){const n=w0e(t._location.path,e),r=new oo(t._location.bucket,n);return new Hf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0e(t){return/^[A-Za-z]+:\/\//.test(t)}function V0e(t,e){return new Hf(t,e)}function vq(t,e){if(t instanceof uj){const n=t;if(n._bucket==null)throw Yme();const r=new Hf(n,n._bucket);return e!=null?vq(r,e):r}else return e!==void 0?q0e(t,e):t}function U0e(t,e){if(e&&z0e(e)){if(t instanceof uj)return V0e(t,e);throw WS("To use ref(service, url), the first argument must be a Storage instance.")}else return vq(t,e)}function RD(t,e){const n=e==null?void 0:e[rq];return n==null?null:oo.makeFromBucketSpec(n,t)}function $0e(t,e,n,r={}){t.host=`${e}:${n}`;const a=Yd(e);a&&(o4(`https://${t.host}/b`),l4("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:L9(i,t.app.options.projectId))}class uj{constructor(e,n,r,a,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=nq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Bme,this._maxUploadRetryTime=Fme,this._requests=new Set,a!=null?this._bucket=oo.makeFromBucketSpec(a,this._host):this._bucket=RD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=oo.makeFromBucketSpec(this._url,e):this._bucket=RD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){PD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){PD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ro(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hf(this,e)}_makeRequest(e,n,r,a,i=!0){if(this._deleted)return new e0e(aq());{const o=d0e(e,this._appId,r,a,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const DD="@firebase/storage",LD="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq="storage";function H0e(t,e,n){return t=Hr(t),B0e(t,e,n)}function G0e(t){return t=Hr(t),F0e(t)}function W0e(t,e){return t=Hr(t),U0e(t,e)}function K0e(t=d4(),e){t=Hr(t);const r=Dx(t,yq).getImmediate({identifier:e}),a=P9("storage");return a&&Y0e(r,...a),r}function Y0e(t,e,n,r={}){$0e(t,e,n,r)}function X0e(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new uj(n,r,a,e,Qf)}function Q0e(){zf(new Dd(yq,X0e,"PUBLIC").setMultipleInstances(!0)),pc(DD,LD,""),pc(DD,LD,"esm2017")}Q0e();const o1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_AI_API_KEY:"AIzaSyDnoO0w1w6Z4tSwY50IA11pAhWooIkuyyI",VITE_EVOLUTION_API_KEY:"",VITE_EVOLUTION_API_URL:"",VITE_EVOLUTION_INSTANCE:"",VITE_FIREBASE_API_KEY:"AIzaSyD5cALBG9ZCoptVK2A8_mCYsVSOE6y6vV4",VITE_FIREBASE_APP_ID:"1:389741054647:web:9f2873c8392c01c9135b32",VITE_FIREBASE_AUTH_DOMAIN:"gestfri.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"389741054647",VITE_FIREBASE_PROJECT_ID:"gestfri",VITE_FIREBASE_STORAGE_BUCKET:"gestfri.firebasestorage.app",VITE_OFFLINE_MODE:"false",VITE_SHEETS_WEBAPP_URL:"https://script.google.com/macros/s/AKfycbz5KXdpnszhwjivVuA0kKnaLnix5jrRVJCygde3qRHvtOmribrxdGySVTgNm5BGpiVi/exec"};var MD={};const qh=t=>{if(typeof process<"u"&&MD[t])return MD[t];if(typeof import.meta<"u"&&(o1!=null&&o1[t]))return o1[t]},KS={apiKey:qh("VITE_FIREBASE_API_KEY"),authDomain:qh("VITE_FIREBASE_AUTH_DOMAIN"),projectId:qh("VITE_FIREBASE_PROJECT_ID"),storageBucket:qh("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:qh("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:qh("VITE_FIREBASE_APP_ID")},xq=KS.apiKey&&KS.projectId;xq||console.warn(" Firebase configuration not found. Please set environment variables.");const Up=xq?F9(KS):null,Ad=Up?Tfe(Up):null,gt=Up?Nme(Up):null,BD=Up?K0e(Up):null,J0e=({onLoginSuccess:t})=>{const[e,n]=ve.useState(""),[r,a]=ve.useState(""),[i,o]=ve.useState(!1),[u,d]=ve.useState(!1),[f,p]=ve.useState(null),[g,y]=ve.useState(!1);ve.useEffect(()=>{const w=localStorage.getItem("fg_saved_email"),N=localStorage.getItem("fg_saved_password");w&&(n(w),o(!0),N&&a(N)),window.PublicKeyCredential&&PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().then(T=>y(T))},[]),ve.useEffect(()=>{f&&p(null)},[e,r]);const x=async w=>{var N;w.preventDefault(),d(!0),p(null);try{if(!Ad)throw new Error("FIREBASE_CORE_OFFLINE");await _8(Ad,e.trim(),r),i?(localStorage.setItem("fg_saved_email",e),localStorage.setItem("fg_saved_password",r)):(localStorage.removeItem("fg_saved_email"),localStorage.removeItem("fg_saved_password")),t()}catch(T){console.error(T),p((N=T.code)!=null&&N.includes("auth/")?"CREDENCIAIS INVLIDAS":"ERRO DE PROTOCOLO DE REDE")}finally{d(!1)}},E=async()=>{d(!0),p(null);try{const w=localStorage.getItem("fg_saved_email"),N=localStorage.getItem("fg_saved_password");if(!w||!N){p("Faa login normal primeiro para habilitar biometria"),d(!1);return}const T={challenge:new Uint8Array(32),rpId:window.location.hostname,timeout:6e4,userVerification:"required"};if(await navigator.credentials.get({publicKey:T}),!Ad)throw new Error("FIREBASE_CORE_OFFLINE");await _8(Ad,w,N),t()}catch(w){console.error(w),p("Autenticao biomtrica falhou. Use login normal.")}finally{d(!1)}};return c.jsxs("div",{className:"min-h-screen bg-[#fcfdff] technical-grid flex items-center justify-center p-6 relative overflow-hidden font-sans",children:[c.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-100 rounded-full blur-[120px] opacity-40 animate-pulse"}),c.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-emerald-100 rounded-full blur-[120px] opacity-40 animate-pulse",style:{animationDelay:"1s"}}),c.jsx("div",{className:"bg-white/80 backdrop-blur-xl border border-white rounded-[48px] w-full max-w-lg shadow-[0_32px_64px_-16px_rgba(37,99,235,0.1)] relative overflow-hidden animate-reveal p-1",children:c.jsxs("div",{className:"p-10 md:p-14",children:[c.jsxs("div",{className:"mb-12 text-center md:text-left",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-50 text-blue-600 rounded-full mb-6",children:[c.jsx(wc,{size:14}),c.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Acesso Restrito"})]}),c.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tight text-slate-900 leading-none",children:["Frigo",c.jsx("span",{className:"text-blue-600",children:"Gest"}),c.jsx("span",{className:"text-emerald-500",children:"."})]}),c.jsx("p",{className:"text-sm font-medium text-slate-400 mt-4 leading-relaxed max-w-sm",children:"Entre com suas credenciais para gerenciar a inteligncia operacional do seu frigorfico."})]}),f&&c.jsxs("div",{className:"mb-8 border border-red-100 bg-red-50 p-4 rounded-2xl flex items-center gap-4 animate-reveal",children:[c.jsx(YD,{size:20,className:"text-red-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-red-600 uppercase tracking-widest",children:"Falha na Autenticao"}),c.jsx("p",{className:"text-xs font-bold text-red-800",children:f})]})]}),c.jsxs("form",{onSubmit:x,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"E-mail Corporativo"}),c.jsxs("div",{className:"relative group",children:[c.jsx("input",{type:"email",required:!0,value:e,onChange:w=>n(w.target.value),placeholder:"ex: admin@sistema.com",className:"modern-input h-14 pl-12 bg-slate-50 border-slate-200 focus:bg-white transition-all text-slate-900 font-semibold"}),c.jsx(uU,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors",size:20})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Senha de Acesso"}),c.jsxs("div",{className:"relative group",children:[c.jsx("input",{type:"password",required:!0,value:r,onChange:w=>a(w.target.value),placeholder:"",className:"modern-input h-14 pl-12 bg-slate-50 border-slate-200 focus:bg-white transition-all text-slate-900 font-semibold"}),c.jsx(E1,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors",size:20})]})]}),c.jsxs("div",{className:"flex items-center gap-3 px-1",children:[c.jsx("input",{type:"checkbox",id:"rememberMe",checked:i,onChange:w=>o(w.target.checked),className:"w-5 h-5 rounded-lg accent-blue-600 cursor-pointer"}),c.jsx("label",{htmlFor:"rememberMe",className:"text-xs font-bold text-slate-600 cursor-pointer select-none",children:"Lembrar minhas credenciais neste dispositivo"})]}),c.jsxs("div",{className:"pt-6 space-y-4",children:[c.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold h-14 rounded-2xl shadow-xl shadow-blue-200 hover:shadow-2xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:u?c.jsx(Jh,{className:"animate-spin",size:20}):c.jsxs(c.Fragment,{children:[c.jsx(Ps,{size:18}),c.jsx("span",{children:"Acessar Painel"})]})}),g&&c.jsx("button",{type:"button",onClick:E,disabled:u,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold h-14 rounded-2xl shadow-xl shadow-emerald-200 hover:shadow-2xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:u?c.jsx(Jh,{className:"animate-spin",size:20}):c.jsxs(c.Fragment,{children:[c.jsx(DV,{size:20}),c.jsx(RU,{size:18}),c.jsx("span",{children:"Login Biomtrico"})]})}),c.jsxs("div",{className:"mt-8 flex items-center justify-center gap-3 opacity-30",children:[c.jsx("div",{className:"h-px w-8 bg-slate-300"}),c.jsxs("span",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:[ZS," Enterprise"]}),c.jsx("div",{className:"h-px w-8 bg-slate-300"})]})]})]})]})})]})},FD=({onBack:t,refreshData:e})=>{const[n,r]=ve.useState(""),[a,i]=ve.useState(!1),[o,u]=ve.useState(1),[d,f]=ve.useState(""),[p,g]=ve.useState(!0),y=async()=>{if(d!=="ZERAR SISTEMA")return alert("Confirmao incorreta");if(window.confirm("AO CRTICA: Deseja realmente apagar todos os dados de operao?")){i(!0),r("Inicializando sequncia de limpeza...");try{const w=["batches","sales","stock_items","transactions","scheduled_orders","daily_reports","payables"];for(const N of w){r(`Limpando base: ${N.toUpperCase()}...`);const T=await va(Qn(gt,N));if(T.empty)continue;const C=N0(gt);T.docs.forEach(B=>C.delete(B.ref)),await C.commit()}alert("Sistema reiniciado com sucesso. Cadastros preservados."),e(),u(1),f(""),t()}catch{r("Erro durante a operao de limpeza")}finally{i(!1)}}},x=async()=>{if(window.confirm(` Limpar dados de teste?

Isto remover:
 Todos os lotes
 Todo o estoque
 Todas as vendas
 Todas as transaes

Mas MANTER:
 Clientes
 Fornecedores

Deseja continuar?`)){i(!0),r("Limpando dados de teste...");try{const w=["batches","sales","stock_items","transactions","scheduled_orders","daily_reports","payables"];for(const N of w){r(`Limpando: ${N.toUpperCase()}...`);const T=await va(Qn(gt,N));if(T.empty)continue;const C=N0(gt);T.docs.forEach(B=>C.delete(B.ref)),await C.commit()}r(" Sistema limpo! Clientes e fornecedores preservados."),alert(` Dados de teste removidos!

Sistema pronto para produo.
Clientes e fornecedores foram preservados.`),e(),t()}catch(w){console.error(w),r(" Erro durante limpeza")}finally{i(!1)}}},E=async()=>{if(window.confirm("Protocolo de Simulao: Deseja carregar o cenrio de teste estratgico (Guerra)?")){i(!0),r("Injetando dados de guerra no FG-CORE...");try{const w=N0(gt),N=new Date,T=new Date(N.getTime()-600*60*60*1e3).toISOString().split("T")[0],C=new Date(N.getTime()-360*60*60*1e3).toISOString().split("T")[0],B=new Date(N.getTime()-7200*60*1e3).toISOString().split("T")[0],q=new Date(N.getTime()+1440*60*1e3).toISOString().split("T")[0],D={id_lote:"L-TOP-01",fornecedor:"FAZENDA ELITE",data_recebimento:C,peso_total_romaneio:500,valor_compra_total:1e4,frete:200,gastos_extras:0,custo_real_kg:20.4,status:"FECHADO"},F={id_lote:"L-LOSS-02",fornecedor:"FORNECEDOR C",data_recebimento:B,peso_total_romaneio:500,valor_compra_total:1e4,frete:200,gastos_extras:0,custo_real_kg:20.4,status:"FECHADO"},k={id_lote:"L-OLD-99",fornecedor:"ESTOQUE ESQUECIDO",data_recebimento:T,peso_total_romaneio:1e3,valor_compra_total:2e4,frete:500,gastos_extras:0,custo_real_kg:20.5,status:"FECHADO"};w.set(wn(gt,"batches",D.id_lote),D),w.set(wn(gt,"batches",F.id_lote),F),w.set(wn(gt,"batches",k.id_lote),k);const I={id_completo:"L-TOP-01-01-INTEIRO",id_lote:"L-TOP-01",sequencia:1,tipo:hn.INTEIRO,peso_entrada:250,status:"VENDIDO",data_entrada:C},V={id_completo:"L-LOSS-02-01-INTEIRO",id_lote:"L-LOSS-02",sequencia:1,tipo:hn.INTEIRO,peso_entrada:250,status:"VENDIDO",data_entrada:B},U={id_completo:"L-OLD-99-01-INTEIRO",id_lote:"L-OLD-99",sequencia:1,tipo:hn.INTEIRO,peso_entrada:245,status:"DISPONIVEL",data_entrada:T},M={id_completo:"L-OLD-99-02-BANDA_A",id_lote:"L-OLD-99",sequencia:2,tipo:hn.BANDA_A,peso_entrada:122,status:"DISPONIVEL",data_entrada:T};w.set(wn(gt,"stock_items",I.id_completo),I),w.set(wn(gt,"stock_items",V.id_completo),V),w.set(wn(gt,"stock_items",U.id_completo),U),w.set(wn(gt,"stock_items",M.id_completo),M);const R={id_venda:"V-FUMO-01",id_cliente:"77",id_completo:V.id_completo,peso_real_saida:230,preco_venda_kg:35,data_venda:C,data_vencimento:B,status_pagamento:"PENDENTE",quebra_kg:20,lucro_liquido_unitario:10,forma_pagamento:"OUTROS",valor_pago:0},j={id_venda:"V-ELITE-01",id_cliente:"15",id_completo:I.id_completo,peso_real_saida:248,preco_venda_kg:38,data_venda:B,data_vencimento:q,status_pagamento:"PAGO",quebra_kg:2,lucro_liquido_unitario:15,forma_pagamento:"PIX",valor_pago:9424};w.set(wn(gt,"sales",R.id_venda),R),w.set(wn(gt,"sales",j.id_venda),j),w.set(wn(gt,"transactions","TR-SIM-01"),{id:"TR-SIM-01",data:C,descricao:"Saldo Inicial Simulao",tipo:"ENTRADA",categoria:"OUTROS",valor:5e4}),await w.commit(),e(),alert("Cenrio de Guerra atualizado: IA detectar Risco de Crdito, Quebra Industrial e Estoque Antigo!"),t()}catch(w){console.error(w),r("Falha na injeo de dados")}finally{i(!1)}}};return c.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid flex items-center justify-center animate-reveal",children:[p&&c.jsx("div",{className:"fixed inset-0 z-[999] bg-black/90 backdrop-blur-xl flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-[32px] max-w-lg w-full overflow-hidden shadow-2xl border-4 border-rose-500",children:[c.jsxs("div",{className:"bg-gradient-to-r from-rose-600 to-red-700 p-8 text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:c.jsx(pp,{size:48,className:"text-white"})}),c.jsx("h1",{className:"text-3xl font-black text-white uppercase tracking-tight",children:" ALTO RISCO "}),c.jsx("p",{className:"text-rose-100 text-sm font-bold mt-2",children:"REA RESTRITA - ACESSO ADMINISTRATIVO"})]}),c.jsxs("div",{className:"p-8 space-y-6",children:[c.jsxs("div",{className:"bg-rose-50 border-2 border-rose-200 rounded-2xl p-6",children:[c.jsx("h3",{className:"text-rose-700 font-black text-sm uppercase mb-3",children:" ATENO - LEIA COM CUIDADO:"}),c.jsxs("ul",{className:"space-y-3 text-sm text-slate-700",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-rose-500 font-bold",children:""}),c.jsxs("span",{children:["Esta rea ",c.jsx("strong",{className:"text-rose-600",children:"APAGA DADOS PERMANENTEMENTE"})]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-rose-500 font-bold",children:""}),c.jsxs("span",{children:["Pode ",c.jsx("strong",{className:"text-rose-600",children:"BAGUNAR TODO O FLUXO DE CAIXA"})]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-rose-500 font-bold",children:""}),c.jsxs("span",{children:["Dados apagados ",c.jsx("strong",{className:"text-rose-600",children:"NO PODEM SER RECUPERADOS"})]})]})]})]}),c.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-2xl p-6",children:[c.jsx("h3",{className:"text-blue-700 font-black text-sm uppercase mb-3",children:" RECOMENDAO:"}),c.jsxs("p",{className:"text-sm text-slate-700",children:["Para limpezas de dados, use o ",c.jsx("strong",{className:"text-blue-600",children:"Firebase Console"})," diretamente:"]}),c.jsx("p",{className:"text-xs text-blue-600 font-mono mt-2 bg-blue-100 p-2 rounded-lg",children:"console.firebase.google.com"})]}),c.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-6",children:[c.jsx("h3",{className:"text-green-700 font-black text-sm uppercase mb-3",children:" SOLICITAR LIMPEZA:"}),c.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Envie uma solicitao para o administrador limpar os dados pelo Firebase:"}),c.jsx("button",{onClick:()=>{const w=encodeURIComponent(` *SOLICITAO DE LIMPEZA - FRIGOGEST*

 Um usurio est solicitando limpeza de dados do sistema.

 Data: ${new Date().toLocaleString("pt-BR")}

 Por favor, acesse o Firebase Console e verifique se  necessrio limpar alguma collection.

 console.firebase.google.com`);window.open(`https://wa.me/5577999226268?text=${w}`,"_blank"),alert(` Solicitao enviada!

O administrador ir verificar e limpar os dados pelo Firebase se necessrio.`),t()},className:"w-full py-4 bg-green-600 hover:bg-green-700 text-white font-black text-sm uppercase rounded-2xl transition-all shadow-lg flex items-center justify-center gap-2",children:" Solicitar Limpeza via WhatsApp"})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:t,className:"flex-1 py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-black text-sm uppercase rounded-2xl transition-all shadow-lg",children:" SAIR (RECOMENDADO)"}),c.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-4 bg-slate-200 hover:bg-rose-600 hover:text-white text-slate-600 font-black text-sm uppercase rounded-2xl transition-all",children:"Continuar mesmo assim"})]})]})]})}),c.jsxs("div",{className:"bg-white rounded-[48px] border border-slate-100 w-full max-w-xl shadow-2xl overflow-hidden relative",children:[c.jsxs("div",{className:"bg-slate-900 p-6 text-white flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-rose-600 flex items-center justify-center text-white shadow-lg shadow-rose-900/40",children:c.jsx(YD,{size:16})}),c.jsx("span",{className:"text-[10px] font-black tracking-widest uppercase",children:"Autorizao de Nvel 05"})]}),c.jsxs("div",{className:"flex gap-1.5 translate-x-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rose-500 animate-pulse"}),c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700"}),c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700"})]})]}),c.jsx("div",{className:"p-10 md:p-16",children:o===1?c.jsxs("div",{className:"space-y-10",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("h1",{className:"text-4xl font-black tracking-tight text-slate-900 mb-2",children:["Zona de ",c.jsx("span",{className:"text-rose-600",children:"Perigo"})]}),c.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Protocolo de Expurgo FG-CORE"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"rounded-[32px] border border-rose-100 p-8 bg-rose-50/20",children:[c.jsx("label",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest mb-4 block px-1",children:"Dados a Apagar"}),c.jsxs("ul",{className:"text-[10px] font-black text-slate-900 space-y-3 uppercase tracking-tighter",children:[c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Lotes Ativos"]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Estoque Frio"]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Histrico de Vendas"]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Fluxo Financeiro"]})]})]}),c.jsxs("div",{className:"rounded-[32px] border border-emerald-100 p-8 bg-emerald-50/20",children:[c.jsx("label",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest mb-4 block px-1",children:"Dados Preservados"}),c.jsxs("ul",{className:"text-[10px] font-black text-slate-900 space-y-3 uppercase tracking-tighter",children:[c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-600"})," Clientes"]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-600"})," Fornecedores"]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-600"})," Contas e Bancos"]})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>u(2),className:"w-full btn-modern bg-white border border-rose-100 text-rose-600 py-4 rounded-2xl hover:bg-rose-50 gap-4 shadow-sm transition-all font-black text-[10px] uppercase tracking-[0.2em]",children:[c.jsx(QS,{size:16})," Protocolo de Expurgo"]}),c.jsxs("button",{onClick:x,className:"w-full btn-modern bg-white border border-blue-100 text-blue-600 py-4 rounded-2xl hover:bg-blue-50 gap-4 shadow-sm transition-all font-black text-[10px] uppercase tracking-[0.2em]",children:[c.jsx(S1,{size:16})," Limpar Dados de Teste"]}),c.jsxs("div",{className:"relative py-4",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-slate-100"})}),c.jsx("div",{className:"relative flex justify-center text-[8px] font-black uppercase text-slate-300 bg-white px-4 tracking-[0.4em]",children:"Ou"})]}),c.jsxs("button",{onClick:E,className:"w-full btn-modern bg-slate-900 text-white py-5 rounded-2xl hover:bg-blue-600 gap-4 shadow-xl transition-all font-black text-xs uppercase tracking-[0.2em]",children:[c.jsx(QU,{size:20,className:"text-blue-400"})," Simular Cenrio de Guerra"]}),c.jsxs("button",{onClick:t,className:"w-full text-[10px] font-black text-slate-400 uppercase tracking-widest py-3 hover:text-slate-900 transition-colors flex items-center justify-center gap-2",children:[c.jsx(Ji,{size:12})," Abortar e Voltar"]})]})]}):c.jsxs("div",{className:"space-y-10 animate-reveal",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-rose-50 text-rose-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:c.jsx(E1,{size:32})}),c.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em] mb-4",children:"Confirmao de Segurana Requerida"}),c.jsx("div",{className:"bg-slate-50 border border-slate-100 p-4 rounded-2xl font-black text-slate-900 uppercase tracking-widest mb-8 text-sm",children:'"ZERAR SISTEMA"'}),c.jsx("input",{value:d,onChange:w=>f(w.target.value),className:"modern-input h-16 text-center font-black text-2xl uppercase",placeholder:"DIGITAR CADEIA"})]}),a?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Ps,{className:"animate-spin text-rose-600 mx-auto mb-6",size:48}),c.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:n})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:y,disabled:d!=="ZERAR SISTEMA",className:"w-full btn-modern bg-rose-600 text-white py-6 rounded-2xl hover:bg-slate-900 disabled:opacity-20 transition-all font-black text-xs uppercase tracking-[0.2em] shadow-xl shadow-rose-900/30",children:[c.jsx(Rs,{size:20})," Confirmar Expurgo"]}),c.jsx("button",{onClick:()=>u(1),disabled:a,className:"w-full text-[10px] font-black text-slate-400 uppercase tracking-widest py-3 hover:text-slate-900 transition-colors",children:" Voltar ao Incio"})]})]})})]})]})},Z0e=({suppliers:t,addSupplier:e,updateSupplier:n,deleteSupplier:r,onBack:a})=>{const[i,o]=ve.useState(""),[u,d]=ve.useState(!1),[f,p]=ve.useState({id:"",nome_fantasia:"",cpf_cnpj:"",inscricao_estadual:"",telefone:"",endereco:"",cidade:"",estado:"",dados_bancarios:"",observacoes:""}),[g,y]=ve.useState(null),[x,E]=ve.useState(!1),[w,N]=ve.useState(null),T=t.filter(D=>D.status!=="INATIVO"&&(D.nome_fantasia.toLowerCase().includes(i.toLowerCase())||D.cpf_cnpj.includes(i))).sort((D,F)=>D.nome_fantasia.localeCompare(F.nome_fantasia)),C=D=>{D.preventDefault(),f.nome_fantasia&&(e({...f,id:Date.now().toString()}),d(!1),p({id:"",nome_fantasia:"",cpf_cnpj:"",inscricao_estadual:"",telefone:"",endereco:"",cidade:"",estado:"",dados_bancarios:"",observacoes:""}))},B=D=>{D.preventDefault(),w&&n&&(n(w),y(w),E(!1))},q=D=>`https://wa.me/55${D.replace(/\D/g,"")}`;return c.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[c.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("button",{onClick:a,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-indigo-600 hover:border-indigo-200 transition-all shadow-sm",children:[c.jsx(Ji,{size:14})," Voltar ao Incio"]}),c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsx("div",{className:"bg-indigo-600 p-3 rounded-2xl text-white shadow-xl shadow-indigo-100",children:c.jsx(uc,{size:28})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Gesto de ",c.jsx("span",{className:"text-indigo-600",children:"Fornecedores"})]}),c.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Unidade de Cadeia de Suprimentos / ID-SUP"})]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto",children:[c.jsxs("div",{className:"relative group w-full sm:w-80",children:[c.jsx(Hp,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-600 transition-colors",size:16}),c.jsx("input",{type:"text",placeholder:"Buscar parceiro ou documento...",className:"modern-input pl-12 bg-white",value:i,onChange:D=>o(D.target.value)})]}),c.jsxs("button",{onClick:()=>d(!0),className:"btn-modern btn-brand px-8 py-3.5 gap-3 bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-100",children:[c.jsx(XD,{size:18})," Novo Fornecedor"]})]})]}),c.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden animate-reveal",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"technical-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Origem / Parceiro"}),c.jsx("th",{className:"hidden md:table-cell",children:"Documentao"}),c.jsx("th",{className:"hidden sm:table-cell",children:"Geolocalizao"}),c.jsx("th",{className:"hidden sm:table-cell",children:"Contato"}),c.jsx("th",{className:"w-32 text-center",children:"Operaes"})]})}),c.jsx("tbody",{children:T.map(D=>c.jsxs("tr",{className:"hover:bg-indigo-50/30 transition-colors group",children:[c.jsx("td",{children:c.jsxs("div",{onClick:()=>{y(D),E(!1)},className:"cursor-pointer",children:[c.jsx("p",{className:"font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:D.nome_fantasia}),D.cpf_cnpj&&c.jsx("p",{className:"text-[10px] text-gray-400 font-medium tracking-wider",children:D.cpf_cnpj})]})}),c.jsx("td",{className:"hidden md:table-cell",children:c.jsx("div",{className:"flex flex-col text-[10px] font-bold text-slate-500 uppercase",children:c.jsxs("span",{children:["IE: ",D.inscricao_estadual||"ISENTO"]})})}),c.jsx("td",{className:"hidden sm:table-cell",children:D.cidade?c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("span",{className:"text-xs font-semibold text-gray-600 flex items-center gap-1",children:[c.jsx(j1,{size:12,className:"text-indigo-500"})," ",D.cidade," - ",D.estado]}),c.jsx("span",{className:"text-[10px] text-gray-400",children:D.endereco})]}):c.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"NO MAPEADO"})}),c.jsx("td",{className:"hidden sm:table-cell",children:D.telefone?c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-xs font-bold text-gray-700",children:D.telefone}),c.jsx("a",{href:q(D.telefone),target:"_blank",className:"text-[10px] text-emerald-600 font-bold hover:underline",children:"WhatsApp Link"})]}):c.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"SEM CONTATO"})}),c.jsx("td",{className:"text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>{y(D),E(!1)},className:"p-2 text-gray-300 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all",title:"Ver Detalhes",children:c.jsx(_c,{size:20})}),c.jsx("button",{onClick:F=>{F.stopPropagation(),confirm(`Inativar este fornecedor?

O registro ser mantido no histrico mas no aparecer mais nas listas.`)&&r(D.id)},className:"p-2 text-gray-200 hover:text-amber-600 hover:bg-amber-50 rounded-xl transition-all",title:"Inativar",children:c.jsx(QS,{size:18})})]})})]},D.id))})]})})}),u&&c.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-reveal",children:c.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl w-full max-w-4xl overflow-hidden relative border border-white",children:[c.jsxs("div",{className:"bg-indigo-600 p-8 text-white flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:"Registro de Parceiro"}),c.jsx("p",{className:"text-[10px] text-indigo-100 font-bold uppercase tracking-widest mt-1",children:"Buffer de Entrada / SUP-01"})]}),c.jsx("button",{onClick:()=>d(!1),className:"bg-white/10 p-2 rounded-xl hover:bg-white/20 transition-colors",children:c.jsx(hu,{size:20})})]}),c.jsxs("form",{onSubmit:C,className:"p-8 space-y-6 max-h-[75vh] overflow-y-auto",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:c.jsxs("div",{className:"md:col-span-12 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Nome Social da Entidade / Fazenda"}),c.jsx("input",{required:!0,type:"text",className:"modern-input font-bold text-lg",placeholder:"EX: FAZENDA BOI GORDO",value:f.nome_fantasia,onChange:D=>p({...f,nome_fantasia:D.target.value.toUpperCase()})})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"CPF / CNPJ"}),c.jsx("input",{type:"text",className:"modern-input",placeholder:"000.000.000-00",value:f.cpf_cnpj,onChange:D=>p({...f,cpf_cnpj:D.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Ins. Estadual"}),c.jsx("input",{type:"text",className:"modern-input",placeholder:"IE Number",value:f.inscricao_estadual,onChange:D=>p({...f,inscricao_estadual:D.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Contato Principal"}),c.jsx("input",{type:"text",className:"modern-input",placeholder:"(00) 00000-0000",value:f.telefone,onChange:D=>p({...f,telefone:D.target.value})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 pt-4",children:[c.jsxs("div",{className:"md:col-span-8 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Endereo Fiscal / Operacional"}),c.jsx("input",{type:"text",className:"modern-input",value:f.endereco,onChange:D=>p({...f,endereco:D.target.value.toUpperCase()})})]}),c.jsxs("div",{className:"md:col-span-4 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Cidade / UF"}),c.jsx("input",{type:"text",className:"modern-input",placeholder:"CIDADE - UF",value:f.cidade,onChange:D=>p({...f,cidade:D.target.value.toUpperCase()})})]})]}),c.jsxs("div",{className:"pt-4 space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest px-1",children:"Dados Bancrios / PIX"}),c.jsx("textarea",{className:"modern-input bg-emerald-50 border-emerald-100 font-mono text-xs h-32 resize-none",placeholder:"BANCO / AGNCIA / CONTA / CHAVE PIX",value:f.dados_bancarios,onChange:D=>p({...f,dados_bancarios:D.target.value.toUpperCase()})})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[c.jsx("button",{type:"button",onClick:()=>d(!1),className:"btn-modern bg-gray-100 text-gray-500 hover:bg-gray-200 px-8",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn-modern btn-brand px-12 bg-indigo-600 hover:bg-indigo-700",children:"Confirmar Registro"})]})]})]})}),g&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-reveal",children:c.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col relative border border-white",children:[c.jsxs("div",{className:`p-8 flex justify-between items-center ${x?"bg-amber-50":"bg-slate-50"}`,children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center text-slate-800 shadow-sm border border-slate-100",children:c.jsx(uc,{size:32})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:x?"Editor de Fornecedor":g.nome_fantasia}),c.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:x?"Protocolo de Alterao Master":`Registro Industrial #${g.cpf_cnpj||"---"}`})]})]}),c.jsx("button",{onClick:()=>y(null),className:"p-3 bg-white hover:bg-slate-100 rounded-2xl text-slate-400 transition-colors shadow-sm border border-slate-100",children:c.jsx(hu,{size:24})})]}),c.jsx("div",{className:"p-10 overflow-y-auto bg-white flex-1",children:x?c.jsxs("form",{id:"edit-form",onSubmit:B,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Identificao / Razo Social"}),c.jsx("input",{required:!0,type:"text",className:"modern-input font-bold",value:(w==null?void 0:w.nome_fantasia)||"",onChange:D=>N(F=>F?{...F,nome_fantasia:D.target.value.toUpperCase()}:null)})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Documento"}),c.jsx("input",{type:"text",className:"modern-input",value:(w==null?void 0:w.cpf_cnpj)||"",onChange:D=>N(F=>F?{...F,cpf_cnpj:D.target.value}:null)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Insc. Estadual"}),c.jsx("input",{type:"text",className:"modern-input",value:(w==null?void 0:w.inscricao_estadual)||"",onChange:D=>N(F=>F?{...F,inscricao_estadual:D.target.value}:null)})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Telefone"}),c.jsx("input",{type:"text",className:"modern-input",value:(w==null?void 0:w.telefone)||"",onChange:D=>N(F=>F?{...F,telefone:D.target.value}:null)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Cidade - UF"}),c.jsx("input",{type:"text",className:"modern-input",value:(w==null?void 0:w.cidade)||"",onChange:D=>N(F=>F?{...F,cidade:D.target.value.toUpperCase()}:null)})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Logradouro"}),c.jsx("input",{type:"text",className:"modern-input",value:(w==null?void 0:w.endereco)||"",onChange:D=>N(F=>F?{...F,endereco:D.target.value.toUpperCase()}:null)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest px-1",children:"Dados Bancrios / Fluxo Financeiro"}),c.jsx("textarea",{className:"modern-input h-32 resize-none bg-emerald-50 border-emerald-100 font-mono text-xs font-bold text-emerald-900",value:(w==null?void 0:w.dados_bancarios)||"",onChange:D=>N(F=>F?{...F,dados_bancarios:D.target.value.toUpperCase()}:null)})]})]}):c.jsx("div",{className:"space-y-10",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Comunicao e Suporte"}),c.jsxs("div",{children:[c.jsx("a",{href:q(g.telefone),target:"_blank",className:"text-2xl font-extrabold text-slate-900 hover:text-indigo-600 transition-colors block tracking-tight",children:g.telefone||"SEM TELEFONE"}),c.jsx("p",{className:"text-[11px] text-slate-400 font-bold mt-1 uppercase tracking-wider",children:"Canal Primrio WhatsApp"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Dados de Localidade"}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 mt-1",children:c.jsx(j1,{size:18})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold text-slate-700 leading-tight uppercase",children:g.endereco||"Endereo no informado"}),c.jsxs("p",{className:"text-xs text-slate-400 font-bold uppercase mt-1 tracking-widest",children:[g.cidade," - ",g.estado]})]})]})]})]}),c.jsxs("div",{className:"bg-indigo-50/50 rounded-3xl p-8 border border-indigo-100 flex flex-col h-full",children:[c.jsxs("h4",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[c.jsx(k0,{size:16})," Liquidao Financeira"]}),c.jsx("div",{className:"font-mono text-xs text-indigo-900 font-bold whitespace-pre-wrap uppercase leading-relaxed h-full overflow-y-auto pr-2",children:g.dados_bancarios||"NENHUM DADO BANCRIO REGISTRADO NO SISTEMA"})]})]})})}),c.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex justify-between items-center z-20",children:x?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>E(!1),className:"text-slate-400 font-bold text-sm px-6",children:"Descartar"}),c.jsxs("button",{form:"edit-form",type:"submit",className:"btn-modern btn-brand px-10 bg-indigo-600 hover:bg-indigo-700 flex items-center gap-2",children:[c.jsx(k1,{size:18})," Salvar Alteraes"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{N(g),E(!0)},className:"flex items-center gap-2 text-slate-400 font-bold text-sm hover:text-slate-800 transition-colors",children:[c.jsx(KD,{size:18})," Substituir Dados"]}),c.jsx("div",{className:"text-[9px] font-bold text-slate-300 uppercase tracking-[0.2em]",children:"ltima Sincronizao: Hoje"})]})})]})})]})},ca=async(t,e,n,r,a)=>{var i;if(!(!gt||!t))try{const o={timestamp:new Date().toISOString(),userId:t.uid||"unknown",userEmail:t.email||"unknown",userName:t.displayName||((i=t.email)==null?void 0:i.split("@")[0])||"Unknown User",action:e,entity:n,details:r,metadata:a||{}};await GS(Qn(gt,"audit_logs"),o),console.log(`[AUDIT] ${e} ${n}: ${r}`)}catch(o){console.error("Failed to log action:",o)}},ege=async(t=100)=>{if(!gt)return[];try{const e=ZF(Qn(gt,"audit_logs"),Ime("timestamp","desc"),eq(t));return(await va(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Failed to fetch audit logs:",e),[]}},bq=()=>{try{if(typeof import.meta<"u")return"https://script.google.com/macros/s/AKfycbz5KXdpnszhwjivVuA0kKnaLnix5jrRVJCygde3qRHvtOmribrxdGySVTgNm5BGpiVi/exec"}catch{}return null};let A1=0;const qD=3e4;let UA=!1;function tge(t){return t.map(e=>({id_ferro:e.id_ferro||"",nome_social:e.nome_social||"",whatsapp:e.whatsapp||"",cpf_cnpj:e.cpf_cnpj||"",telefone_residencial:e.telefone_residencial||"",endereco:e.endereco||"",bairro:e.bairro||"",cidade:e.cidade||"",cep:e.cep||"",limite_credito:String(e.limite_credito||0),saldo_devedor:String(e.saldo_devedor||0),observacoes:e.observacoes||""}))}function nge(t){return t.map(e=>({id:e.id||"",nome_fantasia:e.nome_fantasia||"",cpf_cnpj:e.cpf_cnpj||"",inscricao_estadual:e.inscricao_estadual||"",telefone:e.telefone||"",endereco:e.endereco||"",cidade:e.cidade||"",estado:e.estado||"",dados_bancarios:e.dados_bancarios||"",observacoes:e.observacoes||""}))}function rge(t){return t.map(e=>({id_lote:e.id_lote||"",fornecedor:e.fornecedor||"",data_recebimento:e.data_recebimento||"",peso_total_romaneio:String(e.peso_total_romaneio||0),valor_compra_total:String(e.valor_compra_total||0),frete:String(e.frete||0),gastos_extras:String(e.gastos_extras||0),custo_real_kg:String(e.custo_real_kg||0),status:e.status||"",valor_entrada:String(e.valor_entrada||0),observacoes:""}))}function age(t){const e={1:"INTEIRO",2:"BANDA_A",3:"BANDA_B"};return t.map(n=>({id_completo:n.id_completo||"",id_lote:n.id_lote||"",sequencia:String(n.sequencia||0),tipo:e[n.tipo]||String(n.tipo),peso_entrada:String(n.peso_entrada||0),status:n.status||"",data_entrada:n.data_entrada||""}))}function ige(t){return t.map(e=>({id_venda:e.id_venda||"",id_cliente:e.id_cliente||"",nome_cliente:e.nome_cliente||"",id_completo:e.id_completo||"",peso_real_saida:String(e.peso_real_saida||0),preco_venda_kg:String(e.preco_venda_kg||0),data_venda:e.data_venda||"",quebra_kg:String(e.quebra_kg||0),custo_extras_total:String(e.custo_extras_total||0),prazo_dias:String(e.prazo_dias||0),data_vencimento:e.data_vencimento||"",forma_pagamento:e.forma_pagamento||"",status_pagamento:e.status_pagamento||""}))}function sge(t){return t.map(e=>({id:e.id||"",data:e.data||"",descricao:e.descricao||"",tipo:e.tipo||"",categoria:e.categoria||"",valor:String(e.valor||0),referencia_id:e.referencia_id||"",metodo_pagamento:e.metodo_pagamento||""}))}function oge(t){return t.map(e=>({id:e.id||"",descricao:e.descricao||"",categoria:e.categoria||"",valor:String(e.valor||0),valor_pago:String(e.valor_pago||0),data_vencimento:e.data_vencimento||"",data_pagamento:e.data_pagamento||"",status:e.status||"",fornecedor_id:e.fornecedor_id||"",id_lote:e.id_lote||"",observacoes:e.observacoes||"",recorrente:String(e.recorrente||!1)}))}function lge(t){return t.map(e=>({id:e.id||"",id_cliente:e.id_cliente||"",nome_cliente:e.nome_cliente||"",data_entrega:e.data_entrega||"",hora_entrega:e.hora_entrega||"",itens:e.itens||"",status:e.status||"",data_criacao:e.data_criacao||"",alerta_madrugada:String(e.alerta_madrugada||!1)}))}async function _q(t){const e=bq();if(!e)return{success:!1,message:"VITE_SHEETS_WEBAPP_URL no configurada"};const n=Date.now();if(n-A1<qD)return{success:!1,message:`Throttle: aguarde ${Math.ceil((qD-(n-A1))/1e3)}s`};if(UA)return{success:!1,message:"Sync j em andamento"};UA=!0,A1=n;try{const r={allData:{Clientes:tge(t.clients),Fornecedores:nge(t.suppliers),Lotes:rge(t.batches),Estoque:age(t.stock),Vendas:ige(t.sales),"Fluxo de Caixa":sge(t.transactions),"Contas a Pagar":oge(t.payables),Agendamentos:lge(t.scheduledOrders)}},a=await fetch(e,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(r),redirect:"follow"});let i={};try{const o=await a.text();i=JSON.parse(o),console.log(" Sheets sync resposta:",i)}catch{console.log(" Sheets sync: enviado (status:",a.status,")")}return a.ok||a.status===0?(console.log(" Sheets sync:  sucesso!"),{success:!0,message:`Dados sincronizados! ${i.timestamp||""}`}):(console.warn(" Sheets sync:  status",a.status),{success:!1,message:`HTTP ${a.status}: ${i.message||"erro desconhecido"}`})}catch(r){return console.warn(" Sheets sync erro:",r.message),{success:!1,message:r.message}}finally{UA=!1}}async function cge(t){return A1=0,_q(t)}function zD(){return!!bq()}const VD=({isRecording:t,color:e,stream:n})=>{const r=ve.useRef(null),a=ve.useRef(null);return ve.useEffect(()=>{if(!t||!n||!r.current)return;const i=new(window.AudioContext||window.webkitAudioContext),o=i.createMediaStreamSource(n),u=i.createAnalyser();u.fftSize=64,o.connect(u);const d=u.frequencyBinCount,f=new Uint8Array(d),p=()=>{const g=r.current;if(!g)return;const y=g.getContext("2d");if(!y)return;const x=g.width,E=g.height;u.getByteFrequencyData(f),y.clearRect(0,0,x,E);const w=x/d*1.5;let N=0;for(let T=0;T<d;T++){const C=f[T]/255*E*.8;y.fillStyle=e,y.fillRect(N,(E-C)/2,w-2,C),N+=w}a.current=requestAnimationFrame(p)};return p(),()=>{a.current&&cancelAnimationFrame(a.current),i.close()}},[t,n,e]),t?c.jsx("canvas",{ref:r,width:300,height:60,className:"w-full h-12 animate-reveal"}):null},uge=({onBack:t,onSubmit:e,reports:n=[]})=>{const[r,a]=ve.useState("normal"),[i,o]=ve.useState(""),[u,d]=ve.useState(!1),[f,p]=ve.useState(!1),[g,y]=ve.useState(null),[x,E]=ve.useState(!1),[w,N]=ve.useState(!1),[T,C]=ve.useState(!1),[B,q]=ve.useState(null),[D,F]=ve.useState(null),[k,I]=ve.useState(null),[V,U]=ve.useState({}),[M,R]=ve.useState(0),[j,G]=ve.useState(null),re=ve.useRef(null),J=ve.useRef([]),Z=ve.useRef(null),oe=ve.useRef(null),ye=async(X,me)=>{if(!BD)throw new Error("Firebase Storage no configurado");const be=`reports/${Date.now()}_${me}.${X.type.split("/")[1]}`,ee=W0e(BD,be);U(_e=>({..._e,[me]:!0}));try{const _e=await H0e(ee,X);return await G0e(_e.ref)}finally{U(_e=>({..._e,[me]:!1}))}},ge=async X=>{try{const me={audio:!0,video:X==="video"?{facingMode:"user"}:!1},be=await navigator.mediaDevices.getUserMedia(me);G(be),X==="video"&&Z.current&&(Z.current.srcObject=be);const ee=new MediaRecorder(be);re.current=ee,J.current=[],ee.ondataavailable=_e=>{_e.data.size>0&&J.current.push(_e.data)},ee.onstop=async()=>{const _e=X==="video"?"video/webm":"audio/webm",Se=new Blob(J.current,{type:_e});try{const Ae=await ye(Se,X);X==="journey"?q(Ae):X==="client"?F(Ae):I(Ae)}catch(Ae){alert("Erro ao salvar no servidor. Tente novamente."),console.error(Ae)}be.getTracks().forEach(Ae=>Ae.stop()),G(null),Z.current&&(Z.current.srcObject=null)},ee.start(),R(0),oe.current=setInterval(()=>{R(_e=>_e+1)},1e3),X==="journey"?E(!0):X==="client"?N(!0):C(!0)}catch{alert("Erro ao acessar cmera/microfone. Verifique as permisses.")}},le=X=>{re.current&&re.current.state==="recording"&&(re.current.stop(),oe.current&&clearInterval(oe.current),X==="journey"?E(!1):X==="client"?N(!1):C(!1))},P=X=>{const me=Math.floor(X/60),be=X%60;return`${me.toString().padStart(2,"0")}:${be.toString().padStart(2,"0")}`},H=async(X,me)=>{var ee;const be=(ee=X.target.files)==null?void 0:ee[0];if(be)try{const _e=await ye(be,me);me==="journey"?q(_e):me==="client"?F(_e):I(_e)}catch{alert("Erro ao fazer upload do arquivo.")}},Q=async X=>{if(e){p(!0);try{await e({intensity:r,notes:i,type:X,extra_movement:!1,technical_issues:u,audio_url:B||void 0,client_complaint_audio_url:D||void 0,video_url:k||void 0}),y("Sucesso"),o(""),d(!1),a("normal"),q(null),F(null),I(null),setTimeout(()=>y(null),2500)}finally{p(!1)}}},K=[...n].sort((X,me)=>me.timestamp.localeCompare(X.timestamp));return g?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-white to-emerald-50 flex items-center justify-center p-8 animate-reveal",children:c.jsxs("div",{className:"bg-white rounded-[48px] p-16 text-center shadow-[0_32px_64px_-16px_rgba(251,191,36,0.2)] max-w-sm w-full border border-yellow-100",children:[c.jsx("div",{className:"w-24 h-24 bg-gradient-to-tr from-emerald-400 to-teal-500 text-white rounded-[32px] flex items-center justify-center mx-auto mb-8 shadow-xl shadow-emerald-200",children:c.jsx(ic,{size:56})}),c.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-2 italic",children:"Tudo Certo!"}),c.jsx("p",{className:"text-[11px] font-bold text-emerald-600 uppercase tracking-widest mt-4",children:"Sua jornada multimdia foi registrada "})]})}):c.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-gradient-to-b from-slate-50 to-orange-50/30 technical-grid animate-reveal pb-40 font-sans",children:[c.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-12 gap-8",children:[c.jsxs("div",{className:"flex flex-col gap-6",children:[c.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-3 px-6 py-2 bg-white/80 backdrop-blur-md border border-amber-100 rounded-full text-[10px] font-black text-amber-600 uppercase tracking-widest hover:bg-amber-500 hover:text-white transition-all shadow-sm",children:[c.jsx(Ji,{size:14})," Incio"]}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"bg-gradient-to-tr from-amber-400 to-orange-500 p-4 rounded-[28px] text-white shadow-2xl shadow-orange-200 hover:rotate-6 transition-transform",children:c.jsx(tV,{size:32})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-4xl font-black tracking-tight text-slate-800 leading-none",children:["Meu Dirio de ",c.jsx("span",{className:"text-orange-500 italic",children:"Jornada"})]}),c.jsx("p",{className:"text-[10px] font-bold text-amber-600 uppercase tracking-[0.3em] mt-2",children:"Registro Multimdia & Energia"})]})]})]}),c.jsx("div",{className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-[10px] font-black uppercase tracking-widest shadow-xl shadow-blue-200 border-none",children:"Operador Oficial"})]}),c.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[c.jsx("div",{className:"lg:col-span-12 xl:col-span-5 space-y-10",children:c.jsxs("div",{className:"bg-white rounded-[40px] p-10 shadow-2xl shadow-orange-100/50 space-y-12 border border-white",children:[c.jsxs("div",{className:"space-y-5",children:[c.jsxs("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[c.jsx(Ps,{size:14,className:"text-emerald-500"})," Como est a operao?"]}),c.jsxs("div",{className:"flex p-1.5 bg-slate-50 rounded-3xl border border-slate-100 shadow-inner",children:[c.jsx("button",{onClick:()=>d(!1),className:`flex-1 py-4 rounded-[20px] text-[10px] font-black uppercase tracking-widest transition-all ${u?"text-slate-400 hover:text-emerald-600":"bg-gradient-to-r from-emerald-500 to-teal-600 text-white shadow-lg"}`,children:"Tudo Perfeito"}),c.jsx("button",{onClick:()=>d(!0),className:`flex-1 py-4 rounded-[20px] text-[10px] font-black uppercase tracking-widest transition-all ${u?"bg-gradient-to-r from-rose-500 to-orange-600 text-white shadow-lg":"text-slate-400 hover:text-rose-600"}`,children:"Houve Falhas"})]})]}),c.jsxs("div",{className:"space-y-5 p-8 bg-indigo-50/50 rounded-[32px] border border-indigo-100/50",children:[c.jsxs("label",{className:"text-[11px] font-black text-indigo-600 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[c.jsx(W3,{size:14})," Registro em Vdeo (Opcional)"]}),T&&c.jsx("div",{className:"rounded-2xl overflow-hidden bg-black aspect-video mb-4 shadow-inner",children:c.jsx("video",{ref:Z,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"flex flex-col gap-4",children:[T&&c.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-indigo-900 rounded-2xl animate-pulse",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-2.5 h-2.5 bg-rose-500 rounded-full animate-ping"}),c.jsx("span",{className:"font-mono text-xs font-bold text-indigo-100 uppercase tracking-widest",children:"Gravando"})]}),c.jsx("span",{className:"font-mono text-sm font-black text-white",children:P(M)})]}),k?c.jsxs("div",{className:"flex-1 space-y-4",children:[c.jsx("video",{src:k,controls:!0,className:"w-full rounded-2xl shadow-lg"}),c.jsxs("button",{onClick:()=>I(null),className:"w-full py-3 rounded-xl bg-orange-50 text-orange-600 text-[10px] font-black uppercase tracking-widest hover:bg-orange-100 flex items-center justify-center gap-2",children:[c.jsx(Rs,{size:14})," Trocar Vdeo"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("button",{disabled:V.video,onClick:()=>T?le("video"):ge("video"),className:`flex-1 min-w-[150px] py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 transition-all ${T?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white shadow-xl shadow-indigo-100"} ${V.video?"opacity-50 cursor-not-allowed":""}`,children:[V.video?c.jsx(Jh,{className:"animate-spin",size:18}):T?c.jsx(m$,{size:18}):c.jsx(W3,{size:18}),V.video?"Salvando...":T?"Parar Vdeo":"Gravar Vdeo"]}),!T&&c.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-6 py-4 rounded-[20px] bg-white border-2 border-indigo-100 text-indigo-600 hover:bg-indigo-50 transition-all ${V.video?"opacity-50":""}`,children:[c.jsx(l1,{size:18}),c.jsx("input",{disabled:V.video,type:"file",accept:"video/*",className:"hidden",onChange:X=>H(X,"video")}),c.jsx("span",{className:"ml-2 text-[10px] font-black uppercase tracking-widest",children:"Upload"})]})]})]})]}),c.jsxs("div",{className:"space-y-5 p-8 bg-blue-50/50 rounded-[32px] border border-blue-100/50",children:[c.jsxs("label",{className:"text-[11px] font-black text-blue-600 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[c.jsx(dd,{size:14})," Relato da Jornada (udio)"]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[x&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center font-mono text-xs font-black text-blue-600 uppercase tracking-widest",children:[c.jsx("span",{children:"Captao Ativa"}),c.jsx("span",{children:P(M)})]}),c.jsx("div",{className:"bg-blue-100/30 rounded-2xl p-4 border border-blue-200/50",children:c.jsx(VD,{isRecording:x,color:"#2563eb",stream:j})})]}),B?c.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[c.jsx("audio",{src:B,controls:!0,className:"flex-1 h-12"}),c.jsx("button",{onClick:()=>q(null),className:"w-12 h-12 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-100",children:c.jsx(dd,{size:18})})]}):c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{disabled:V.journey,onClick:()=>x?le("journey"):ge("journey"),className:`flex-1 py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 transition-all ${x?"bg-rose-500 text-white animate-pulse":"bg-blue-600 text-white shadow-xl shadow-blue-100"} ${V.journey?"opacity-50 cursor-not-allowed":""}`,children:[V.journey?c.jsx(Jh,{className:"animate-spin",size:18}):x?c.jsx(gU,{size:18}):c.jsx(dd,{size:18}),V.journey?"Salvando...":x?"Parar Gravao":"Gravar udio"]}),!x&&c.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-6 py-4 rounded-[20px] bg-white border-2 border-blue-100 text-blue-600 hover:bg-blue-50 transition-all ${V.journey?"opacity-50":""}`,children:[c.jsx(l1,{size:18}),c.jsx("input",{disabled:V.journey,type:"file",accept:"audio/*",className:"hidden",onChange:X=>H(X,"journey")})]})]})]})]}),c.jsxs("div",{className:"space-y-5 p-8 bg-rose-50/50 rounded-[32px] border border-rose-100/50",children:[c.jsxs("label",{className:"text-[11px] font-black text-rose-600 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[c.jsx(E0,{size:14})," Reclamao de Cliente (udio)"]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[w&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center font-mono text-xs font-black text-rose-600 uppercase tracking-widest",children:[c.jsx("span",{children:"Relato Crtico"}),c.jsx("span",{children:P(M)})]}),c.jsx("div",{className:"bg-rose-100/30 rounded-2xl p-4 border border-rose-200/50",children:c.jsx(VD,{isRecording:w,color:"#e11d48",stream:j})})]}),D?c.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[c.jsx("audio",{src:D,controls:!0,className:"flex-1 h-12"}),c.jsx("button",{onClick:()=>F(null),className:"w-12 h-12 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-100",children:c.jsx(dd,{size:18})})]}):c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{disabled:V.client,onClick:()=>w?le("client"):ge("client"),className:`flex-1 py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 transition-all ${w?"bg-rose-600 text-white animate-pulse shadow-xl shadow-rose-200":"bg-white border-2 border-rose-100 text-rose-600 hover:bg-rose-50"} ${V.client?"opacity-50 cursor-not-allowed":""}`,children:[V.client?c.jsx(Jh,{className:"animate-spin",size:18}):w?c.jsx(k1,{size:18}):c.jsx(dd,{size:18}),V.client?"Salvando...":w?"Parar Cliente":"Gravar Cliente"]}),!w&&c.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-6 py-4 rounded-[20px] bg-white border-2 border-rose-100 text-rose-600 hover:bg-rose-50 transition-all ${V.client?"opacity-50":""}`,children:[c.jsx(l1,{size:18}),c.jsx("input",{disabled:V.client,type:"file",accept:"audio/*",className:"hidden",onChange:X=>H(X,"client")})]})]})]})]}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[c.jsx(Rs,{size:14,className:"text-amber-500"})," Ritmo de Trabalho"]}),c.jsx("div",{className:"grid grid-cols-3 p-1.5 bg-slate-50 rounded-3xl border border-slate-100 shadow-inner",children:["tranquilo","normal","intenso"].map(X=>c.jsx("button",{onClick:()=>a(X),className:`py-4 rounded-[20px] text-[10px] font-black uppercase tracking-widest transition-all ${r===X?X==="tranquilo"?"bg-emerald-500 text-white shadow-lg shadow-emerald-100":X==="normal"?"bg-amber-500 text-white shadow-lg shadow-amber-100":"bg-orange-600 text-white shadow-lg shadow-orange-100":"text-slate-400 hover:bg-white/50"}`,children:X==="tranquilo"?"Leve":X==="normal"?"Normal":"Intenso"},X))})]}),c.jsxs("div",{className:"space-y-5",children:[c.jsx("div",{className:"flex justify-between items-center px-2",children:c.jsx("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Observaes (Texto Opcional)"})}),c.jsx("div",{className:"relative",children:c.jsx("textarea",{value:i,onChange:X=>o(X.target.value),className:"w-full h-40 p-8 rounded-[32px] font-bold text-slate-700 bg-slate-50/50 border-2 border-slate-100 outline-none transition-all placeholder:text-slate-300 focus:border-amber-400 focus:bg-white focus:shadow-xl focus:shadow-amber-100/50",placeholder:"Caso queira escrever algo mais..."})})]}),c.jsx("div",{className:"pt-4 flex flex-col sm:flex-row gap-4",children:c.jsxs("button",{onClick:()=>Q("RELATORIO"),disabled:f,className:"flex-1 bg-gradient-to-r from-orange-500 to-amber-500 text-white py-5 rounded-[24px] hover:shadow-2xl hover:shadow-orange-200 transition-all font-black text-[11px] uppercase tracking-widest flex items-center justify-center gap-3 active:scale-95",children:[f?c.jsx(Ps,{size:18,className:"animate-spin"}):c.jsx(k1,{size:18})," Enviar Jornada Completa "]})})]})}),c.jsxs("div",{className:"lg:col-span-12 xl:col-span-7 space-y-8",children:[c.jsxs("h3",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.3em] px-2 flex items-center gap-3",children:[c.jsx(du,{size:18,className:"text-orange-500"})," Histrico Operacional"]}),c.jsx("div",{className:"grid grid-cols-1 gap-6",children:K.length===0?c.jsxs("div",{className:"py-40 flex flex-col items-center justify-center bg-white rounded-[48px] border-2 border-dashed border-slate-100 shadow-sm",children:[c.jsx(Rs,{size:80,className:"mb-6 text-amber-100"}),c.jsx("p",{className:"text-[11px] font-black uppercase text-slate-300 tracking-[0.4em]",children:"Aguardando primeiro registro multimdia"})]}):K.map(X=>c.jsxs("div",{className:"bg-white rounded-[32px] p-8 flex flex-col gap-6 shadow-xl shadow-slate-100 border-l-[8px] border-amber-400 hover:border-orange-500 transition-all hover:-translate-x-1 group",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-slate-50 to-slate-100 text-slate-400 flex items-center justify-center group-hover:from-orange-500 group-hover:to-orange-600 group-hover:text-white transition-all shadow-sm",children:c.jsx(fp,{size:20})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-black text-slate-800 uppercase text-[11px] tracking-tight",children:X.userName||"Operador Feliz"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("span",{className:`text-[8px] font-black px-3 py-1 rounded-full uppercase tracking-widest ${X.type==="RECLAMACAO"?"bg-orange-100 text-orange-600":"bg-emerald-100 text-emerald-600"}`,children:X.type==="RECLAMACAO"?"Ocorrncia":"Tudo Ok"}),c.jsx("span",{className:"text-[8px] font-black px-3 py-1 rounded-full uppercase tracking-widest bg-blue-50 text-blue-500",children:X.intensity.toUpperCase()})]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-[11px] font-black text-slate-700",children:new Date(X.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),c.jsx("p",{className:"text-[9px] font-bold text-slate-300 uppercase",children:new Date(X.timestamp).toLocaleDateString()})]})]}),c.jsxs("div",{className:"space-y-4",children:[X.video_url&&c.jsx("div",{className:"rounded-2xl overflow-hidden shadow-lg border border-indigo-100",children:c.jsx("video",{src:X.video_url,controls:!0,className:"w-full"})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[X.audio_url&&c.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-2xl border border-blue-100/50",children:[c.jsx(dd,{size:14,className:"text-blue-500"}),c.jsx("audio",{src:X.audio_url,controls:!0,className:"flex-1 h-8"})]}),X.client_complaint_audio_url&&c.jsxs("div",{className:"flex items-center gap-3 p-4 bg-rose-50 rounded-2xl border border-rose-100/50",children:[c.jsx(E0,{size:14,className:"text-rose-500"}),c.jsx("audio",{src:X.client_complaint_audio_url,controls:!0,className:"flex-1 h-8"})]})]})]}),X.notes&&c.jsx("div",{className:"p-6 bg-slate-50/50 rounded-2xl border border-slate-100",children:c.jsxs("p",{className:"text-sm font-bold text-slate-600 leading-relaxed italic",children:['"',X.notes,'"']})})]},X.id))})]})]})]})},dge=({onBack:t,onAddOrder:e,existingOrders:n})=>{const[r,a]=ve.useState(new Date(Date.now()+864e5).toISOString().split("T")[0]),[i,o]=ve.useState(""),[u,d]=ve.useState(""),[f,p]=ve.useState(""),[g,y]=ve.useState(""),[x,E]=ve.useState(!1),w=25,N=n.filter(F=>F.data_entrega===r&&F.status!=="CANCELADO"),T=N.reduce((F,k)=>{const I=k.itens.match(/(\d+)/);return F+(I?parseInt(I[0]):1)},0),C=Math.max(0,w-T),B=Math.min(100,T/w*100),q=()=>{if(!i||!f)return;const F=`Quero confirmar o agendamento de ${f} novilhas para o abate dia ${new Date(r).toLocaleDateString()}`;y(`https://wa.me/55${i.replace(/\D/g,"")}?text=${encodeURIComponent(F)}`)},D=async()=>{if(!(!e||!u||!f)){E(!0);try{await e({id:`ORD-${Date.now()}`,id_cliente:"TEMP-"+Date.now(),nome_cliente:u,data_entrega:r,hora_entrega:"08:00",itens:`${f} Novilhas (Agendamento Rpido)`,status:"CONFIRMADO",data_criacao:new Date().toISOString(),alerta_madrugada:!1}),d(""),p(""),y("")}finally{E(!1)}}};return c.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[c.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-red-700 hover:border-red-100 transition-all shadow-sm",children:[c.jsx(Ji,{size:14})," Voltar ao Incio"]}),c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsx("div",{className:"bg-rose-600 p-3 rounded-2xl text-white shadow-xl shadow-rose-100",children:c.jsx(Ps,{size:28})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Controle de ",c.jsx("span",{className:"text-rose-600",children:"Abate"})]}),c.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Planejamento e Escala / ID-ABT"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-4 shadow-sm flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center",children:c.jsx($p,{size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Escala para o dia"}),c.jsx("input",{type:"date",value:r,onChange:F=>a(F.target.value),className:"text-sm font-bold text-slate-900 outline-none bg-transparent cursor-pointer"})]})]})]}),c.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[c.jsxs("div",{className:"lg:col-span-12 xl:col-span-5 space-y-8",children:[c.jsxs("div",{className:"bg-slate-900 rounded-[48px] p-12 text-white relative shadow-2xl overflow-hidden min-h-[300px] flex flex-col justify-center",children:[c.jsx("div",{className:"absolute top-[-10%] right-[-5%] opacity-10 pointer-events-none transform rotate-12",children:c.jsx(Rs,{size:200})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.4em] mb-4",children:"Vagas Disponveis no Lote"}),c.jsx("h2",{className:"text-8xl font-black tracking-tighter text-blue-400",children:C}),c.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-slate-400 mt-2",children:"Novilhas por alocar"})]}),c.jsx("div",{className:"mt-12 bg-white/5 h-2 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000 shadow-[0_0_15px_rgba(59,130,246,0.5)]",style:{width:`${B}%`}})}),c.jsxs("div",{className:"flex justify-between mt-4 text-[10px] font-black uppercase tracking-widest",children:[c.jsxs("span",{className:"text-blue-400",children:[T," Alocadas"]}),c.jsxs("span",{className:"text-slate-500",children:[w," Limite Dirio"]})]})]}),c.jsxs("div",{className:"premium-card p-8",children:[c.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[c.jsx(JS,{size:16,className:"text-rose-600"})," Parceiros Confirmados"]}),c.jsx("div",{className:"grid grid-cols-1 gap-3",children:N.length===0?c.jsx("div",{className:"py-12 flex flex-col items-center justify-center bg-slate-50/50 rounded-2xl border border-dashed border-slate-100",children:c.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Aguardando Lanamentos"})}):N.map(F=>c.jsxs("div",{className:"p-4 rounded-2xl bg-white border border-slate-50 flex justify-between items-center group hover:border-rose-100 transition-all shadow-sm",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-extrabold text-slate-900 uppercase text-sm",children:F.nome_cliente}),c.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-0.5",children:F.itens})]}),c.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-50 text-emerald-600 flex items-center justify-center",children:c.jsx(N1,{size:14})})]},F.id))})]}),c.jsxs("div",{className:"premium-card p-8 bg-blue-600 text-white border-none shadow-xl shadow-blue-200",children:[c.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest mb-4 flex items-center gap-2",children:[c.jsx(Rs,{size:16})," Manual do Colaborador"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"1"}),c.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Selecione a **DATA DO ABATE** no topo da tela."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"2"}),c.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Verifique o painel **VAGAS DISPONVEIS**. Limite: 25 cabeas/dia."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"3"}),c.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Insira o nome do produtor e a quantidade. Clique em **CRIAR LINK**."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"4"}),c.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Envie o link via WhatsApp para o produtor confirmar a entrega."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"5"}),c.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Aps a resposta dele, clique em **VALIDAR NO SISTEMA** para reservar a vaga."})]})]})]})]}),c.jsxs("div",{className:"lg:col-span-12 xl:col-span-7 premium-card overflow-hidden h-full",children:[c.jsxs("div",{className:"bg-slate-900 p-8 flex items-center gap-4 text-white",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center",children:c.jsx(T0,{size:20})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-black uppercase tracking-tight text-lg",children:"Agendamento Remoto"}),c.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest mt-0.5",children:"Terminal via Web/Whatsapp"})]})]}),c.jsxs("div",{className:"p-10 space-y-8",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 block px-1",children:"Seu nmero de Whatsapp"}),c.jsx("input",{type:"text",placeholder:"DDD + Nmero",value:i,onChange:F=>o(F.target.value),className:"modern-input h-14 font-bold text-lg"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Identificador do Parceiro"}),c.jsx("input",{type:"text",placeholder:"Nome ou ID",value:u,onChange:F=>d(F.target.value),className:"modern-input h-14"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Quantidade de Cabeas"}),c.jsx("input",{type:"text",inputMode:"numeric",placeholder:"Qtd",value:f===""?"":f,onChange:F=>{const k=F.target.value;(k===""||/^\d*$/.test(k))&&p(k===""?"":parseInt(k))},className:"modern-input h-14 font-black text-lg"})]})]}),c.jsxs("button",{onClick:q,disabled:!i||!f,className:"w-full btn-modern bg-slate-900 text-white py-5 rounded-2xl hover:bg-blue-600 gap-3 shadow-xl transition-all disabled:opacity-20 active:scale-95",children:[c.jsx(nU,{size:18})," Criar Link de Confirmao"]}),g&&c.jsxs("div",{className:"animate-reveal space-y-6 pt-10 border-t border-slate-50",children:[c.jsx("div",{className:"bg-blue-50/50 rounded-2xl border border-blue-100 p-5 font-mono text-[10px] text-blue-600 break-all leading-relaxed shadow-inner",children:g}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"bg-[#25D366] text-white py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest text-center flex items-center justify-center gap-3 shadow-xl shadow-[rgba(37,211,102,0.2)] hover:bg-[#128C7E] transition-all",children:[c.jsx(T0,{size:18})," Enviar Mensagem"]}),c.jsxs("button",{onClick:D,disabled:x,className:"bg-rose-600 text-white py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 shadow-xl shadow-[rgba(225,29,72,0.2)] hover:bg-slate-900 transition-all",children:[x?c.jsx(Ps,{size:18,className:"animate-spin"}):c.jsx(N1,{size:18})," Validar no Sistema"]})]})]})]})]})]})]})};async function fge(t,e){return console.warn(" Evolution API no configurada. Usando mtodo manual."),window.open(`https://wa.me/${t.replace(/\D/g,"")}?text=${encodeURIComponent(e)}`,"_blank"),{success:!1,error:"API no configurada - enviado via WhatsApp Web"}}async function hge(t){return console.warn(" Evolution API no configurada."),{success:!1,error:"API no configurada"}}const pge=({onBack:t,clients:e})=>{const[n,r]=ve.useState("config"),[a,i]=ve.useState([]),[o,u]=ve.useState(!1),[d,f]=ve.useState(0),[p,g]=ve.useState([]),[y,x]=ve.useState("selection"),[E]=ve.useState([{id:"vendas",name:"BOIADEIRO_DIGITAL",prompt:'Voc  o "Boiadeiro Digital", focado em vendas de gado. Seu tom  rstico e negociador. Use grias do campo.'},{id:"cobranca",name:"AGENTE_COBRANA",prompt:"Voc  um assistente financeiro educado, mas firme. Seu objetivo  lembrar o cliente sobre pagamentos pendentes, oferecendo opes de PIX."},{id:"sac",name:"SUPORTE_FG_CORE",prompt:"Voc  o suporte ao cliente. Tire dvidas sobre entregas e notas fiscais com muita pacincia e educao."}]),[w,N]=ve.useState("vendas"),[T,C]=ve.useState({price:"R$ 210,00",stock:"500 cabeas",delivery:"3 DIAS TEIS",payment:" VISTA / 30 DIAS"}),[B,q]=ve.useState("manual"),[D,F]=ve.useState(E[0].prompt);ve.useEffect(()=>{var ee;F(((ee=E.find(_e=>_e.id===w))==null?void 0:ee.prompt)||"")},[w,E]);const[k,I]=ve.useState(""),[V,U]=ve.useState(!1),[M,R]=ve.useState({}),[j,G]=ve.useState(null),re=ve.useRef(null),J=ve.useRef([]),[Z,oe]=ve.useState([]),[ye,ge]=ve.useState(""),[le,P]=ve.useState(!1),[H]=ve.useState("6728"),[Q]=ve.useState("TOKEN_B838"),K=ee=>{if(w==="vendas"){const _e=[`Ol *${ee}*! 

 *OFERTA ESPECIAL DO DIA*

Estoque fresco, gado premium:
 Preo: *${T.price}*
 Disponvel: ${T.stock}
 Entrega: ${T.delivery}

Garanta j! Estoque limitado. `,`Boa tarde, *${ee}*! 

*Acabou de chegar:*
Lote premium com acabamento perfeito

 Qualidade garantida
 Condies especiais: ${T.payment}
 Entrega em ${T.delivery}

Interesse? Responda aqui! `,`*${ee}*, oportunidade! 

 Carne de primeira
 *${T.price}* /kg
 Lote de ${T.stock}

Preo para CLIENTE VIP!
Reservo para voc? `];return _e[Math.floor(Math.random()*_e.length)]}else return w==="cobranca"?`Ol *${ee}*! 

 *Lembrete Amigvel*

Identificamos um pagamento pendente em nossa base.

 *Formas de pagamento:*
 PIX (instantneo)
 Transferncia bancria
 Boleto

Precisa de ajuda? Estamos  disposio! 

Atenciosamente,
Equipe FrigoGest`:`Ol *${ee}*! 

Como podemos ajudar hoje?

 Suporte FrigoGest
 Atendimento: Seg-Sex, 8h-18h`},X=async(ee,_e)=>{if(k){k.includes(".mp4")||k.includes("video");const Ae=await hge();return Ae.success?(alert(" Mensagem com mdia enviada!"),!0):(alert(" Erro ao enviar: "+Ae.error),!1)}return(await fge(ee,_e)).success||(console.warn("Usando fallback: WhatsApp Web"),window.open(`https://wa.me/${ee.replace(/\D/g,"")}?text=${encodeURIComponent(_e)}`,"_blank")),!0},me=async ee=>{const _e=await navigator.mediaDevices.getUserMedia({audio:!0}),Se=new MediaRecorder(_e);re.current=Se,J.current=[],Se.ondataavailable=Ae=>{Ae.data.size>0&&J.current.push(Ae.data)},Se.onstop=()=>R(Ae=>({...Ae,[ee]:URL.createObjectURL(new Blob(J.current,{type:"audio/mp3"}))})),Se.start(),G(ee)},be=()=>{re.current&&(re.current.stop(),re.current.stream.getTracks().forEach(ee=>ee.stop()),G(null))};return c.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[c.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-700 hover:border-blue-100 transition-all shadow-sm",children:[c.jsx(Ji,{size:14})," Voltar ao Incio"]}),c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsxs("div",{className:"bg-slate-900 p-3 rounded-2xl text-blue-400 shadow-xl shadow-blue-900/40 relative group",children:[c.jsx(e0,{size:28}),c.jsx("div",{className:"absolute inset-0 bg-blue-400/20 blur-xl opacity-0 group-hover:opacity-100 transition-opacity"})]}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Agente ",c.jsx("span",{className:"text-blue-600",children:"Cognitivo"})]}),c.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Automao e Inteligncia de Vendas / ID-AI"})]})]})]}),c.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:c.jsx("nav",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm",children:[{id:"config",icon:BU,label:"Parmetros"},{id:"campaign",icon:t$,label:"Campanha"},{id:"voice",icon:QD,label:"Voz/Media"},{id:"test",icon:T0,label:"Simular"}].map(ee=>c.jsxs("button",{onClick:()=>r(ee.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${n===ee.id?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[c.jsx(ee.icon,{size:14})," ",ee.label]},ee.id))})})]}),c.jsxs("div",{className:"max-w-7xl mx-auto",children:[n==="config"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-reveal",children:[c.jsxs("div",{className:"lg:col-span-7 space-y-8",children:[c.jsxs("div",{className:"premium-card p-10 bg-white",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8 pb-6 border-b border-slate-50",children:[c.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[c.jsx(GD,{size:16,className:"text-blue-600"})," Ncleo de Personalidade"]}),c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-200"}),c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-200"})]})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-10",children:E.map(ee=>c.jsxs("button",{onClick:()=>N(ee.id),className:`p-5 rounded-[24px] border-2 transition-all flex flex-col gap-3 text-left ${w===ee.id?"border-blue-600 bg-blue-50/30":"border-slate-50 bg-slate-50/20 hover:border-slate-200"}`,children:[c.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center ${w===ee.id?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"bg-slate-200 text-slate-400"}`,children:ee.id==="vendas"?c.jsx(Rs,{size:16}):ee.id==="cobranca"?c.jsx(Nd,{size:16}):c.jsx(Ps,{size:16})}),c.jsxs("div",{children:[c.jsx("h4",{className:`font-black text-[10px] uppercase tracking-tighter ${w===ee.id?"text-blue-600":"text-slate-400"}`,children:ee.id}),c.jsx("p",{className:`font-bold text-xs ${w===ee.id?"text-slate-900":"text-slate-400"}`,children:ee.name})]})]},ee.id))}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Instrues de Sistema (Prompt)"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute top-4 left-4 text-blue-500 opacity-20",children:c.jsx(G3,{size:20})}),c.jsx("textarea",{value:D,onChange:ee=>F(ee.target.value),className:"w-full h-40 modern-input p-10 font-medium text-slate-700 bg-slate-50/50"})]})]})]}),c.jsxs("div",{className:"premium-card p-10 bg-white",children:[c.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[c.jsx(UV,{size:16,className:"text-blue-600"})," Protocolo de Conexo"]}),c.jsxs("div",{className:"flex p-1 bg-slate-50 rounded-2xl border border-slate-100 mb-8",children:[c.jsx("button",{onClick:()=>q("manual"),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${B==="manual"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Disparo Individual (WA)"}),c.jsx("button",{onClick:()=>q("auto"),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${B==="auto"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Z-API Automtico"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Instncia ID"}),c.jsx("input",{type:"text",placeholder:"i.e. 6728",className:"modern-input h-12 text-sm bg-slate-50/30"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Token de Acesso"}),c.jsx("input",{type:"password",placeholder:"",className:"modern-input h-12 text-sm bg-slate-50/30"})]})]})]})]}),c.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[c.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-10 text-white relative shadow-2xl overflow-hidden group",children:[c.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-110 transition-transform",children:c.jsx(KU,{size:120})}),c.jsx("h3",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.4em] mb-10",children:"Base de Conhecimento Dinmica"}),c.jsx("div",{className:"space-y-8 relative z-10",children:[{l:"Preo de Referncia (Arroba)",v:T.price,k:"price",icon:Nd},{l:"Capacidade em Estoque",v:T.stock,k:"stock",icon:fu},{l:"Prazo Logstico Mdio",v:T.delivery,k:"delivery",icon:$p},{l:"Flexibilidade de Pagamento",v:T.payment,k:"payment",icon:Ps}].map(ee=>c.jsxs("div",{className:"group/item",children:[c.jsxs("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest block mb-2 px-1 flex items-center gap-2",children:[c.jsx(ee.icon,{size:10,className:"text-blue-500"})," ",ee.l]}),c.jsx("input",{type:"text",value:ee.v,onChange:_e=>C({...T,[ee.k]:_e.target.value}),className:"bg-white/5 border-none w-full px-4 py-3 rounded-xl font-black text-blue-400 uppercase italic tracking-tighter outline-none focus:bg-white/10 transition-all border border-white/5"})]},ee.k))})]}),c.jsxs("div",{className:"premium-card p-10 bg-white",children:[c.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[c.jsx(F3,{size:16,className:"text-blue-600"})," Ativos Visuais (Mdia)"]}),c.jsxs("div",{className:"border-2 border-dashed border-slate-100 rounded-[32px] p-12 text-center relative group hover:border-blue-600 transition-all bg-slate-50/30",children:[c.jsx("input",{type:"file",onChange:ee=>{ee.target.files&&(U(!0),setTimeout(()=>{I("https://fg-media.cloud/temp_001.mp4"),U(!1)},1500))},className:"absolute inset-0 opacity-0 cursor-pointer"}),c.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-6 text-slate-400 group-hover:scale-110 group-hover:text-blue-600 transition-all",children:c.jsx(l1,{size:28})}),c.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:V?"Processando arquivo...":"Arraste uma foto ou vdeo para a campanha"})]}),k&&c.jsxs("div",{className:"mt-6 bg-blue-50 rounded-2xl p-4 flex justify-between items-center border border-blue-100",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white",children:c.jsx(F3,{size:14})}),c.jsx("span",{className:"text-[10px] font-black text-blue-700 truncate max-w-[200px]",children:k})]}),c.jsx("button",{onClick:()=>I(""),className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all",children:c.jsx(hu,{size:14})})]})]})]})]}),n==="campaign"&&c.jsx("div",{className:"animate-reveal max-w-7xl mx-auto",children:y==="selection"?c.jsxs("div",{className:"premium-card p-0 overflow-hidden bg-white",children:[c.jsxs("div",{className:"bg-slate-900 p-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Seleo de Alvos Ativos"}),c.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mt-1",children:["Sincronizando com Base CRM (",e.length," entidades detectadas)"]})]}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Entidades Selecionadas"}),c.jsx("p",{className:"text-2xl font-black text-blue-400 leading-none",children:a.length})]}),c.jsxs("button",{disabled:a.length===0,onClick:()=>{g(a.map(ee=>{var _e;return{clientId:ee,client:e.find(Se=>Se.id_ferro===ee),status:"pending",message:K(((_e=e.find(Se=>Se.id_ferro===ee))==null?void 0:_e.nome_social)||"NONE")}})),x("review")},className:"btn-modern bg-blue-600 text-white px-8 py-4 rounded-2xl hover:bg-blue-500 gap-3 shadow-xl shadow-blue-900/40 disabled:opacity-20 transition-all font-black text-xs uppercase tracking-widest",children:["Iniciar Campanha ",c.jsx(_c,{size:18})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"technical-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"w-16 text-center",children:c.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-lg accent-blue-600",onChange:ee=>i(ee.target.checked?e.map(_e=>_e.id_ferro):[]),checked:a.length===e.length&&e.length>0})}),c.jsx("th",{children:"Parceiro de Negcios"}),c.jsx("th",{children:"Protocolo ID"}),c.jsx("th",{children:"Contato Digital"}),c.jsx("th",{className:"text-center",children:"Vnculo"})]})}),c.jsx("tbody",{children:e.map(ee=>c.jsxs("tr",{onClick:()=>{const _e=new Set(a);_e.has(ee.id_ferro)?_e.delete(ee.id_ferro):_e.add(ee.id_ferro),i(Array.from(_e))},className:`cursor-pointer transition-colors ${a.includes(ee.id_ferro)?"bg-blue-50/30":"hover:bg-slate-50"}`,children:[c.jsx("td",{className:"text-center",children:c.jsx("div",{className:`w-6 h-6 mx-auto rounded-lg border-2 flex items-center justify-center transition-all ${a.includes(ee.id_ferro)?"bg-blue-600 border-blue-600 text-white shadow-lg":"bg-white border-slate-200"}`,children:a.includes(ee.id_ferro)&&c.jsx(ic,{size:14})})}),c.jsx("td",{className:"font-extrabold text-slate-900 uppercase text-xs",children:ee.nome_social}),c.jsxs("td",{className:"font-mono text-[10px] text-slate-400",children:["# ",ee.id_ferro]}),c.jsx("td",{className:"font-black text-slate-900 text-[11px]",children:ee.whatsapp||"SEM_DADO"}),c.jsx("td",{className:"text-center",children:c.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${ee.whatsapp?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-slate-50 text-slate-300 border-slate-100"}`,children:ee.whatsapp?"Online":"Offline"})})]},ee.id_ferro))})]})})]}):c.jsxs("div",{className:"space-y-8 max-w-5xl mx-auto",children:[c.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-8 text-white flex flex-col md:flex-row justify-between items-center shadow-2xl relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-emerald-500 to-rose-500 animate-gradient-x"}),c.jsxs("button",{onClick:()=>x("selection"),className:"flex items-center gap-2 text-[10px] font-black uppercase text-slate-500 hover:text-white transition-colors mb-4 md:mb-0",children:[c.jsx(Ji,{size:14})," Voltar  Seleo"]}),c.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:"Reviso do Manifesto IA"}),c.jsx("div",{className:"flex items-center gap-2 bg-white/5 px-4 py-2 rounded-full border border-white/10",children:c.jsxs("span",{className:"text-[10px] font-black text-blue-400",children:[p.filter(ee=>ee.status==="sent").length," / ",p.length," ENTREGUES"]})})]}),c.jsx("div",{className:"grid grid-cols-1 gap-6",children:p.map((ee,_e)=>{var Se,Ae,Je;return c.jsxs("div",{className:`premium-card p-8 group transition-all ${ee.status==="sent"?"opacity-50 grayscale bg-slate-50/50 cursor-default":"bg-white hover:border-blue-200"}`,children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center font-bold text-lg ${ee.status==="sent"?"bg-emerald-600 text-white":"bg-blue-600 text-white shadow-lg shadow-blue-900/30"}`,children:ee.status==="sent"?c.jsx(ic,{size:24}):(Se=ee.client)==null?void 0:Se.nome_social.charAt(0)}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:(Ae=ee.client)==null?void 0:Ae.nome_social}),c.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:((Je=ee.client)==null?void 0:Je.whatsapp)||"PEND_CONNECTION"})]})]}),c.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[c.jsx("button",{onClick:()=>{var ce;const Le=[...p];Le[_e].message=K(((ce=ee.client)==null?void 0:ce.nome_social)||""),g(Le)},className:"w-12 h-12 rounded-2xl bg-slate-50 text-slate-400 hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center shrink-0 shadow-sm",children:c.jsx(XS,{size:18})}),c.jsx("button",{disabled:ee.status==="sent",onClick:()=>{var ce;X(((ce=ee.client)==null?void 0:ce.whatsapp)||"",ee.message);const Le=[...p];Le[_e].status="sent",g(Le)},className:"flex-1 md:flex-none btn-modern bg-slate-900 text-white px-8 py-3.5 rounded-2xl hover:bg-emerald-600 shadow-xl gap-3 text-xs",children:ee.status==="sent"?"Mensagem Entregue":c.jsxs(c.Fragment,{children:[c.jsx(V3,{size:16})," Enviar agora"]})})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute top-4 left-4 text-blue-500/20",children:c.jsx(T0,{size:18})}),c.jsx("textarea",{disabled:ee.status==="sent",value:ee.message,onChange:Le=>{const ce=[...p];ce[_e].message=Le.target.value,g(ce)},className:"w-full h-32 modern-input p-10 font-medium text-slate-700 bg-slate-50/30"})]})]},_e)})})]})}),n==="voice"&&c.jsx("div",{className:"animate-reveal max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[{id:"saudacao",l:"Abertura / Saudao",d:"Primeiro contato cognitivo",icon:dd},{id:"preco",l:"Fluxo de Negociao",d:"Defesa de margens e preos",icon:Nd},{id:"qualidade",l:"Engajamento Tcnico",d:"Rendimento e qualidade de carcaa",icon:Ps},{id:"fechamento",l:"Commit de Reserva",d:"Confirmao de abate/compra",icon:wc}].map(ee=>c.jsxs("div",{className:"premium-card p-10 group bg-white",children:[c.jsxs("div",{className:"flex justify-between items-start mb-10",children:[c.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 text-slate-400 flex items-center justify-center transition-all group-hover:bg-blue-600 group-hover:text-white group-hover:scale-110 shadow-sm",children:c.jsx(ee.icon,{size:28})}),c.jsxs("div",{className:"text-right",children:[c.jsx("h4",{className:"text-xl font-black text-slate-900 tracking-tight uppercase",children:ee.l}),c.jsx("p",{className:"text-[10px] font-bold text-slate-400 tracking-widest uppercase mt-0.5",children:ee.d})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[j===ee.id?c.jsx("button",{onClick:be,className:"flex-1 bg-rose-600 text-white py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 animate-pulse shadow-xl shadow-rose-900/20",children:"Parar Gravao"}):c.jsx("button",{onClick:()=>me(ee.id),className:"flex-1 bg-white border-2 border-slate-100 text-slate-600 py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:border-blue-600 hover:text-blue-600 transition-all flex items-center justify-center gap-3 shadow-sm",children:"Iniciar Captura"}),M[ee.id]&&c.jsx("button",{onClick:()=>new Audio(M[ee.id]).play(),className:"w-20 h-[68px] rounded-2xl bg-slate-900 text-white flex items-center justify-center hover:bg-blue-600 transition-all shadow-xl shadow-slate-900/20",children:c.jsx(z3,{size:24,fill:"currentColor"})})]}),M[ee.id]&&c.jsxs("div",{className:"mt-5 flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),c.jsx("span",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-widest",children:"Ativo Digitalizado"})]})]},ee.id))}),n==="test"&&c.jsxs("div",{className:"animate-reveal max-w-4xl mx-auto h-[800px] flex flex-col bg-white rounded-[48px] shadow-2xl border border-slate-100 overflow-hidden relative",children:[c.jsxs("div",{className:"bg-slate-900 p-8 flex justify-between items-center text-white relative",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-blue-600/30"}),c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center shadow-lg shadow-blue-900/40",children:c.jsx(e0,{size:20})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Debug de Simulao"}),c.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"Interface Terminal v2.5 / Session Active"})]})]}),c.jsxs("div",{className:"flex gap-1.5 px-3 py-1.5 bg-white/5 rounded-full border border-white/5",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),c.jsx("span",{className:"text-[9px] font-black text-emerald-500 uppercase",children:"Live Sinc"})]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-8 flex flex-col bg-slate-50/30 no-scrollbar",children:[Z.length===0?c.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-05 py-32",children:[c.jsx(e0,{size:160,className:"text-slate-900"}),c.jsx("p",{className:"mt-8 text-xs font-black uppercase tracking-[0.8em] text-slate-900",children:"Aguardando Input"})]}):Z.map((ee,_e)=>c.jsx("div",{className:`flex ${ee.role==="user"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`p-6 rounded-[32px] max-w-[85%] shadow-sm ${ee.role==="user"?"bg-white text-slate-900 border border-slate-100 font-medium":"bg-slate-900 text-blue-50 font-medium shadow-xl shadow-slate-900/20"}`,children:[c.jsx("div",{className:`flex items-center gap-2 mb-3 text-[8px] font-black uppercase tracking-widest ${ee.role==="user"?"text-slate-400":"text-blue-400"}`,children:ee.role==="user"?c.jsxs(c.Fragment,{children:[c.jsx(I1,{size:10})," Humano"]}):c.jsxs(c.Fragment,{children:[c.jsx(e0,{size:10})," Agente Cognitivo"]})}),ee.audio?c.jsxs("div",{className:"flex items-center gap-4 bg-white/5 p-4 rounded-2xl border border-white/10",children:[c.jsx("button",{onClick:()=>new Audio(ee.audio).play(),className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center hover:scale-110 transition-all",children:c.jsx(z3,{size:16,fill:"currentColor"})}),c.jsx("div",{className:"flex-1 h-0.5 bg-white/10 rounded-full"}),c.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest opacity-50",children:"Stream Voz"})]}):c.jsx("p",{className:"leading-relaxed text-sm",children:ee.content})]})},_e)),le&&c.jsxs("div",{className:"flex gap-2 items-center text-blue-600 font-black text-[10px] uppercase tracking-widest animate-pulse ml-2",children:[c.jsxs("div",{className:"flex gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-bounce [animation-delay:-0.3s]"}),c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-bounce [animation-delay:-0.15s]"}),c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-bounce"})]}),"IA Processando..."]})]}),c.jsxs("div",{className:"p-10 bg-white border-t border-slate-100 flex gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300",children:c.jsx(G3,{size:18})}),c.jsx("input",{value:ye,onChange:ee=>ge(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&ye&&(oe([...Z,{role:"user",content:ye}]),ge(""),P(!0),setTimeout(()=>{oe(_e=>[..._e,{role:"assistant",content:K("Simulador")}]),P(!1)},1500)),placeholder:"Simule uma objeo ou pergunta do cliente...",className:"w-full h-16 modern-input pl-14 text-sm"})]}),c.jsx("button",{onClick:()=>ye&&(oe([...Z,{role:"user",content:ye}]),ge(""),P(!0),setTimeout(()=>{oe(ee=>[...ee,{role:"assistant",content:K("Simulador")}]),P(!1)},1500)),className:"w-16 h-16 rounded-[24px] bg-slate-900 text-white flex items-center justify-center hover:bg-blue-600 hover:scale-105 transition-all shadow-xl shadow-slate-900/20 shrink-0",children:c.jsx(V3,{size:24})})]})]})]})]})},mge={CREATE:"CRIOU",UPDATE:"EDITOU",DELETE:"EXCLUIU",LOGIN:"ENTROU",LOGOUT:"SAIU",OTHER:"OUTRO"},gge={CLIENT:"Cliente",BATCH:"Lote",STOCK:"Estoque",SALE:"Venda",TRANSACTION:"Financeiro",ORDER:"Pedido",SYSTEM:"Sistema",OTHER:"Outro"},vge=({onBack:t})=>{const[e,n]=ve.useState([]),[r,a]=ve.useState(!0),[i,o]=ve.useState(""),[u,d]=ve.useState("ALL"),[f,p]=ve.useState("ALL"),[g,y]=ve.useState("ALL"),[x,E]=ve.useState("");ve.useEffect(()=>{w()},[]);const w=async()=>{a(!0);const k=await ege(500);n(k),a(!1)},N=ve.useMemo(()=>{const k=new Map;return e.forEach(I=>{var U;const V=k.get(I.userId);!V||I.timestamp>V.lastActive?k.set(I.userId,{name:I.userName||((U=I.userEmail)==null?void 0:U.split("@")[0])||"Desconhecido",email:I.userEmail,lastActive:I.timestamp,actions:((V==null?void 0:V.actions)||0)+1}):V.actions+=1}),Array.from(k.entries()).map(([I,V])=>({id:I,...V}))},[e]),T=new Date,C=N.filter(k=>(T.getTime()-new Date(k.lastActive).getTime())/1e3/60<15),B=ve.useMemo(()=>e.filter(k=>{const I=!i||k.details.toLowerCase().includes(i.toLowerCase())||k.userName&&k.userName.toLowerCase().includes(i.toLowerCase())||k.userEmail.toLowerCase().includes(i.toLowerCase()),V=u==="ALL"||k.entity===u,U=f==="ALL"||k.userId===f,M=g==="ALL"||k.action===g,R=!x||k.timestamp.startsWith(x);return I&&V&&U&&M&&R}),[e,i,u,f,g,x]),q=k=>{switch(k){case"CREATE":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"UPDATE":return"bg-blue-100 text-blue-700 border-blue-200";case"DELETE":return"bg-rose-100 text-rose-700 border-rose-200";case"LOGIN":return"bg-indigo-100 text-indigo-700 border-indigo-200";case"LOGOUT":return"bg-slate-100 text-slate-600 border-slate-200";default:return"bg-slate-50 text-slate-400 border-slate-100"}},D=k=>{switch(k){case"SALE":return"";case"CLIENT":return"";case"BATCH":return"";case"STOCK":return"";case"TRANSACTION":return"";case"ORDER":return"";case"SYSTEM":return"";default:return""}},F=k=>{const I=(T.getTime()-new Date(k).getTime())/1e3;return I<60?"agora":I<3600?`${Math.floor(I/60)}min`:I<86400?`${Math.floor(I/3600)}h`:`${Math.floor(I/86400)}d`};return c.jsxs("div",{className:"p-4 md:p-8 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[c.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-slate-900 hover:border-slate-300 transition-all shadow-sm",children:[c.jsx(Ji,{size:14})," Voltar"]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-white shadow-xl",children:c.jsx(wc,{size:24})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-black tracking-tight text-gray-900",children:["Auditoria ",c.jsx("span",{className:"text-blue-600",children:"Geral"})]}),c.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-0.5",children:"Todas atividades  Todos usurios  Tempo real"})]})]})]}),c.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl text-[10px] font-black uppercase tracking-wider hover:bg-blue-700 transition-all shadow-sm",children:[c.jsx(XS,{size:14,className:r?"animate-spin":""})," Atualizar"]})]}),c.jsx("div",{className:"max-w-7xl mx-auto mb-6",children:c.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(JS,{size:16,className:"text-blue-600"}),c.jsx("h3",{className:"text-xs font-black text-slate-700 uppercase tracking-widest",children:"Colaboradores"}),c.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[9px] font-black px-2 py-0.5 rounded-full uppercase",children:[C.length," Online"]})]}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[N.map(k=>{const I=C.some(V=>V.id===k.id);return c.jsxs("div",{className:`flex items-center gap-3 px-4 py-2.5 rounded-xl border transition-all cursor-pointer ${f===k.id?"bg-blue-50 border-blue-300 shadow-md":I?"bg-emerald-50/50 border-emerald-100":"bg-slate-50/50 border-slate-100"}`,onClick:()=>p(f===k.id?"ALL":k.id),children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-black text-white ${I?"bg-emerald-500":"bg-slate-400"}`,children:k.name.charAt(0).toUpperCase()}),I&&c.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-emerald-400 rounded-full border-2 border-white animate-pulse"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-black text-slate-800 uppercase leading-none",children:k.name}),c.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[I?c.jsxs("span",{className:"flex items-center gap-1 text-[8px] font-bold text-emerald-600 uppercase",children:[c.jsx(w$,{size:8})," Online"]}):c.jsxs("span",{className:"flex items-center gap-1 text-[8px] font-bold text-slate-400 uppercase",children:[c.jsx(b$,{size:8})," ",F(k.lastActive)]}),c.jsxs("span",{className:"text-[8px] font-bold text-slate-300",children:[" ",k.actions," aes"]})]})]})]},k.id)}),N.length===0&&c.jsx("p",{className:"text-[10px] font-bold text-slate-300 uppercase",children:"Nenhum usurio registrado nos logs"})]})]})}),c.jsxs("div",{className:"max-w-7xl mx-auto mb-4 flex flex-wrap gap-3 items-center",children:[c.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[c.jsx(Hp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:14}),c.jsx("input",{type:"text",placeholder:"Pesquisar atividade, usurio...",className:"w-full bg-white border border-slate-100 rounded-xl py-2 pl-10 pr-4 text-xs font-bold text-slate-700 outline-none focus:border-blue-300 shadow-sm",value:i,onChange:k=>o(k.target.value)})]}),c.jsxs("div",{className:"flex items-center gap-1 bg-white border border-slate-100 rounded-xl px-2 py-1 shadow-sm",children:[c.jsx($p,{size:12,className:"text-blue-500 ml-1"}),c.jsx("input",{type:"date",className:"text-[10px] font-bold text-slate-600 bg-transparent outline-none px-1",value:x,onChange:k=>E(k.target.value)}),x&&c.jsx("button",{onClick:()=>E(""),className:"text-[9px] font-black text-rose-400 px-1",children:""})]}),c.jsx("div",{className:"flex p-0.5 bg-white rounded-xl border border-slate-100 shadow-sm overflow-x-auto no-scrollbar",children:[{label:"Todos",value:"ALL"},{label:" Cliente",value:"CLIENT"},{label:" Lote",value:"BATCH"},{label:" Venda",value:"SALE"},{label:" Financeiro",value:"TRANSACTION"},{label:" Estoque",value:"STOCK"},{label:" Sistema",value:"SYSTEM"}].map(k=>c.jsx("button",{onClick:()=>d(k.value),className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all whitespace-nowrap ${u===k.value?"bg-slate-900 text-white shadow":"text-slate-400 hover:bg-slate-50"}`,children:k.label},k.value))}),c.jsx("div",{className:"flex p-0.5 bg-white rounded-xl border border-slate-100 shadow-sm overflow-x-auto no-scrollbar",children:[{label:"Todos",value:"ALL"},{label:"Entrou",value:"LOGIN"},{label:"Criou",value:"CREATE"},{label:"Editou",value:"UPDATE"},{label:"Excluiu",value:"DELETE"}].map(k=>c.jsx("button",{onClick:()=>y(k.value),className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all whitespace-nowrap ${g===k.value?"bg-slate-900 text-white shadow":"text-slate-400 hover:bg-slate-50"}`,children:k.label},k.value))})]}),c.jsx("div",{className:"max-w-7xl mx-auto mb-3 flex items-center gap-3 px-1",children:c.jsxs("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:[B.length," registros ",f!=="ALL"&&" Filtrando por usurio"," ",x&&` Data: ${x}`]})}),c.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:r?c.jsxs("div",{className:"py-24 flex flex-col items-center justify-center gap-4",children:[c.jsx(Ps,{className:"animate-spin text-blue-600",size:40}),c.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-400",children:"Carregando registros..."})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left border-collapse",style:{fontSize:"11px"},children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[c.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider w-36",children:"Quando"}),c.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"Quem"}),c.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider text-center w-24",children:"Ao"}),c.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider text-center w-28",children:"Mdulo"}),c.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"O que fez"})]})}),c.jsx("tbody",{children:B.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:5,className:"py-20 text-center",children:[c.jsx(fp,{size:48,className:"mx-auto mb-3 text-slate-200"}),c.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.3em]",children:"Nenhum registro encontrado"})]})}):B.map(k=>{var V,U;const I=C.some(M=>M.id===k.userId);return c.jsxs("tr",{className:"border-b border-slate-50 hover:bg-blue-50/30 transition-colors group",children:[c.jsxs("td",{className:"px-4 py-2.5",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-600",children:new Date(k.timestamp).toLocaleDateString("pt-BR")}),c.jsxs("p",{className:"text-[9px] font-bold text-slate-400 flex items-center gap-1 mt-0.5",children:[c.jsx(j0,{size:9})," ",new Date(k.timestamp).toLocaleTimeString("pt-BR")]}),c.jsxs("p",{className:"text-[8px] font-bold text-blue-400 mt-0.5",children:[F(k.timestamp)," atrs"]})]}),c.jsx("td",{className:"px-4 py-2.5",children:c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center text-[10px] font-black text-white ${I?"bg-emerald-500":"bg-slate-400"}`,children:(k.userName||((V=k.userEmail)==null?void 0:V.split("@")[0])||"?").charAt(0).toUpperCase()}),I&&c.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-emerald-400 rounded-full border-2 border-white"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-black text-slate-800 uppercase leading-none",children:k.userName||((U=k.userEmail)==null?void 0:U.split("@")[0])||"Sistema"}),c.jsx("p",{className:"text-[8px] font-bold text-slate-400 mt-0.5 truncate max-w-[140px]",children:k.userEmail})]})]})}),c.jsx("td",{className:"px-4 py-2.5 text-center",children:c.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-lg border text-[8px] font-black uppercase tracking-wider ${q(k.action)}`,children:mge[k.action]||k.action})}),c.jsxs("td",{className:"px-4 py-2.5 text-center",children:[c.jsx("span",{className:"text-sm mr-1",children:D(k.entity)}),c.jsx("span",{className:"text-[9px] font-black text-slate-500 uppercase",children:gge[k.entity]||k.entity})]}),c.jsx("td",{className:"px-4 py-2.5",children:c.jsx("p",{className:"text-xs font-bold text-slate-700 leading-relaxed max-w-xl",children:k.details})})]},k.id)})})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto mt-6 flex flex-wrap justify-between items-center gap-3 border-t border-slate-100 pt-6 opacity-40",children:[c.jsxs("div",{className:"flex gap-4 text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"})," ",C.length," Online Agora"]}),c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})," ",e.length," Logs Carregados"]})]}),c.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.3em]",children:"THIAGO 704 // Auditoria em Tempo Real"})]})]})},yge=()=>{const[e,n]=ve.useState(null),[r,a]=ve.useState("menu"),[i,o]=ve.useState(null),[u,d]=ve.useState("checking"),[f,p]=ve.useState({...j$,scheduledOrders:[],suppliers:[],payables:[]}),[g,y]=ve.useState(!0),[x,E]=ve.useState("idle");ve.useEffect(()=>{if(!Ad){n({user:{email:"offline@local"}}),y(!1),d("offline");return}const K=setTimeout(()=>{y(!1)},5e3),X=gde(Ad,me=>{n(me?{user:me}:null),y(!1),clearTimeout(K)});return()=>{clearTimeout(K),X()}},[]);const w=ve.useCallback(async()=>{if(!(!e||!gt)){d("checking");try{const[K,X,me,be,ee,_e,Se,Ae,Je]=await Promise.all([va(Qn(gt,"clients")),va(Qn(gt,"batches")),va(Qn(gt,"stock_items")),va(Qn(gt,"sales")),va(Qn(gt,"transactions")),va(Qn(gt,"scheduled_orders")),va(ZF(Qn(gt,"daily_reports"),eq(50))),va(Qn(gt,"suppliers")),va(Qn(gt,"payables"))]),Le=K.docs.map(Ge=>({...Ge.data()})),ce=X.docs.map(Ge=>({...Ge.data()})),ae=me.docs.map(Ge=>({...Ge.data()})),Ye=be.docs.map(Ge=>({...Ge.data()})),nt=ee.docs.map(Ge=>({...Ge.data()})),He=_e.docs.map(Ge=>({...Ge.data()})),Ue=Se.docs.map(Ge=>({...Ge.data()})),Ke=Ae.docs.map(Ge=>({...Ge.data(),id:Ge.id})),et=((Je==null?void 0:Je.docs)||[]).map(Ge=>{const yt=Ge.data();return{...yt,id:Ge.id,valor:yt.valor!==void 0?Number(yt.valor):Number(yt.valor_total||0)}}),tt=Le.map(Ge=>{const vt=Ye.filter(_t=>_t.id_cliente===Ge.id_ferro&&_t.status_pagamento==="PENDENTE").reduce((_t,Bt)=>{const At=Bt.peso_real_saida*Bt.preco_venda_kg,Vt=Bt.valor_pago||0;return _t+(At-Vt)},0);return{...Ge,saldo_devedor:vt}});p({clients:tt,batches:ce,stock:ae,sales:Ye,transactions:nt,scheduledOrders:He,reports:Ue,suppliers:Ke,payables:et}),d("online"),zD()&&(E("syncing"),_q({clients:tt,batches:ce,stock:ae,sales:Ye,transactions:nt,scheduledOrders:He,reports:Ue,suppliers:Ke,payables:et}).then(Ge=>{E(Ge.success?"ok":"idle"),Ge.success&&setTimeout(()=>E("idle"),5e3)}).catch(()=>E("error")))}catch(K){console.error(K),d("offline")}}},[e]);ve.useEffect(()=>{if(w(),(async()=>{gt&&setTimeout(async()=>{try{const[Le,ce,ae,Ye,nt]=await Promise.all([va(Qn(gt,"batches")),va(Qn(gt,"payables")),va(Qn(gt,"stock_items")),va(Qn(gt,"sales")),va(Qn(gt,"transactions"))]),He=new Set(Le.docs.map(tt=>tt.data().id_lote)),Ue=N0(gt);let Ke=0;ce.forEach(tt=>{const Ge=tt.data();if(Ge.categoria==="COMPRA_GADO"){let yt=Ge.id_lote;if(!yt&&Ge.descricao){const vt=Ge.descricao.match(/Lote ([A-Z0-9]+-\d{4}-\d+)/);vt&&(yt=vt[1])}yt&&!He.has(yt)&&(Ue.delete(tt.ref),Ke++,console.log(` Payable rfo: ${Ge.descricao}`))}});const et=new Map;ce.forEach(tt=>{const Ge=tt.data();if(Ge.categoria==="COMPRA_GADO"){let yt=Ge.id_lote;if(!yt&&Ge.descricao){const vt=Ge.descricao.match(/Lote (LOTE-[A-Z0-9]+-\d+)/);vt&&(yt=vt[1])}yt&&(et.has(yt)||et.set(yt,[]),et.get(yt).push({ref:tt.ref,data:Ge,docId:tt.id}))}}),et.forEach((tt,Ge)=>{tt.length>1&&tt.some(vt=>vt.docId.startsWith("PAY-LOTE-"))&&tt.forEach(vt=>{vt.docId.startsWith("PAY-LOTE-")||(Ue.delete(vt.ref),Ke++,console.log(` Payable DUPLICADO removido: "${vt.data.descricao}" (ID: ${vt.docId})`))})}),ae.forEach(tt=>{const Ge=tt.data();Ge.id_lote&&!He.has(Ge.id_lote)&&(Ue.delete(tt.ref),Ke++,console.log(` Estoque rfo: ${Ge.id_completo}`))}),Ye.forEach(tt=>{const Ge=tt.data();if(Ge.id_completo){const yt=Ge.id_completo.split("-");if(yt.length>=3){const vt=`${yt[0]}-${yt[1]}-${yt[2]}`;He.has(vt)||(Ue.delete(tt.ref),Ke++,console.log(` Venda rf: ${Ge.id_venda}`))}}}),nt.forEach(tt=>{const Ge=tt.data();Ge.referencia_id&&Ge.categoria==="COMPRA_GADO"&&(He.has(Ge.referencia_id)||(Ue.delete(tt.ref),Ke++,console.log(` Transao rf: ${Ge.descricao}`)))}),Ke>0&&(await Ue.commit(),console.log(` ${Ke} registros rfos removidos automaticamente`),w())}catch(Le){console.error("Erro limpando rfos:",Le)}},2e3)})(),!gt)return;const X=cd(Qn(gt,"clients"),()=>w()),me=cd(Qn(gt,"batches"),()=>w()),be=cd(Qn(gt,"stock_items"),()=>w()),ee=cd(Qn(gt,"sales"),()=>w()),_e=cd(Qn(gt,"transactions"),()=>w()),Se=cd(Qn(gt,"scheduled_orders"),()=>w()),Ae=cd(Qn(gt,"daily_reports"),()=>w()),Je=cd(Qn(gt,"payables"),()=>w());return()=>{X(),me(),be(),ee(),_e(),Se(),Ae(),Je()}},[w]);const N=async K=>{try{const X=await GS(Qn(gt,"suppliers"),K),me={...K,id:X.id};await Co(X,me),p(be=>({...be,suppliers:[...be.suppliers,me]})),ca(e.user,"CREATE","OTHER",`Novo fornecedor: ${K.nome_fantasia}`,K),alert("Fornecedor cadastrado com sucesso!")}catch(X){console.error(X),alert("Erro ao salvar fornecedor.")}},T=async K=>{try{await Co(wn(gt,"suppliers",K.id),K),p(X=>({...X,suppliers:X.suppliers.map(me=>me.id===K.id?K:me)})),ca(e.user,"UPDATE","OTHER",`Fornecedor atualizado: ${K.nome_fantasia}`,K),alert("Fornecedor atualizado!")}catch(X){console.error(X),alert("Erro ao atualizar fornecedor.")}},C=async K=>{try{const X=await GS(Qn(gt,"payables"),K),me={...K,id:X.id};await Co(X,me),p(be=>({...be,payables:[...be.payables,me]})),ca(e.user,"CREATE","OTHER",`Nova conta a pagar: ${K.descricao}`,K)}catch(X){console.error(X),alert("Erro ao salvar conta a pagar.")}},B=async K=>{try{await Co(wn(gt,"payables",K.id),K),p(X=>({...X,payables:X.payables.map(me=>me.id===K.id?K:me)})),ca(e.user,"UPDATE","OTHER",`Conta atualizada: ${K.descricao}`,K)}catch(X){console.error(X),alert("Erro ao atualizar conta.")}},q=async K=>{try{const X=f.payables.find(Se=>Se.id===K);if(!X)return;const me=X.status==="PAGO",be=X.status==="PARCIAL",ee=X.valor_pago||0,_e=me||be?"ESTORNADO":"CANCELADO";if(await us(wn(gt,"payables",K),{status:_e}),(me||be)&&ee>0&&gt){const Se={id:`TR-ESTORNO-PAY-${K}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO: ${X.descricao}`,tipo:"ENTRADA",categoria:"ESTORNO",valor:me?X.valor:ee,metodo_pagamento:"OUTROS",referencia_id:K};await G(Se)}p(Se=>({...Se,payables:Se.payables.map(Ae=>Ae.id===K?{...Ae,status:_e}:Ae)})),ca(e.user,"ESTORNO","OTHER",`Conta estornada (${_e}): ${X.descricao}`,{id:K,status:_e})}catch(X){console.error(X),alert("Erro ao estornar conta.")}},D=K=>JSON.parse(JSON.stringify(K)),F=ve.useMemo(()=>f.batches.filter(K=>K.status==="FECHADO"),[f.batches]),k=ve.useMemo(()=>new Set(F.map(K=>K.id_lote)),[F]),I=ve.useMemo(()=>f.stock.filter(K=>k.has(K.id_lote)),[f.stock,k]),V=async K=>{const X={...K};e!=null&&e.user&&ca(e.user,"CREATE","BATCH",`Novo lote criado: ${X.id_lote} - ${X.fornecedor}`);const me=X.forma_pagamento||"OUTROS";if(X.pagamento_a_vista,delete X.pagamento_a_vista,delete X.forma_pagamento,X.peso_total_romaneio=parseFloat(X.peso_total_romaneio)||0,X.valor_compra_total=parseFloat(X.valor_compra_total)||0,X.frete=parseFloat(X.frete)||0,X.gastos_extras=parseFloat(X.gastos_extras)||0,X.custo_real_kg=parseFloat(X.custo_real_kg)||0,!gt)return{success:!1,error:"Firebase no configurado"};try{await Co(wn(gt,"batches",X.id_lote),X);const be=(X.valor_compra_total||0)+(X.frete||0)+(X.gastos_extras||0);if(be>0&&me==="VISTA"){const ee={id:`TR-LOTE-${X.id_lote}`,data:X.data_recebimento,descricao:`Compra Lote ${X.id_lote} - ${X.fornecedor}`,tipo:"SAIDA",categoria:"COMPRA_GADO",valor:be,metodo_pagamento:me,referencia_id:X.id_lote};await G(ee)}return await w(),{success:!0}}catch(be){return{success:!1,error:be.message}}},U=async K=>{if(!gt)return;const X=f.sales.find(me=>me.id_venda===K);if(!X||X.status_pagamento==="ESTORNADO"){(X==null?void 0:X.status_pagamento)==="ESTORNADO"&&alert("Esta venda j foi estornada.");return}try{const me=X.valor_pago||0;await us(wn(gt,"sales",K),{status_pagamento:"ESTORNADO",valor_pago:0});const be=X.stock_ids_originais&&Array.isArray(X.stock_ids_originais)?X.stock_ids_originais:[X.id_completo];for(const _e of be)try{await us(wn(gt,"stock_items",_e),{status:"DISPONIVEL"})}catch{console.warn(` Item de estoque ${_e} no encontrado para devolver`)}if(me>0){const _e={id:`TR-ESTORNO-VENDA-${K}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO VENDA: ${X.nome_cliente||"Cliente"} - ${X.id_completo}`,tipo:"SAIDA",categoria:"ESTORNO",valor:me,metodo_pagamento:X.forma_pagamento||"OUTROS",referencia_id:K};await G(_e)}const ee=f.transactions.filter(_e=>{var Se;return(_e.referencia_id===K||((Se=_e.id)==null?void 0:Se.startsWith(`TR-DESC-${K}`)))&&_e.categoria==="DESCONTO"&&_e.tipo==="SAIDA"});for(const _e of ee){const Se={id:`TR-ESTORNO-DESC-${K}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO DESCONTO: ${_e.descricao}`,tipo:"ENTRADA",categoria:"ESTORNO",valor:_e.valor,metodo_pagamento:"OUTROS",referencia_id:K};await G(Se)}ca(e==null?void 0:e.user,"ESTORNO","SALE",`Venda estornada: ${K} (${X.nome_cliente}) - Pago: R$${me.toFixed(2)}`,{saleId:K,valorPago:me}),w()}catch(me){console.error(" Erro ao estornar venda:",me),alert("Erro ao estornar a venda.")}},M=async K=>{var X;if(gt)try{console.log(` INICIANDO ESTORNO DO LOTE: ${K}`),await us(wn(gt,"batches",K),{status:"ESTORNADO"}),console.log(` Lote ${K} marcado como ESTORNADO`);const me=await va(Qn(gt,"stock_items"));let be=0;for(const ce of me.docs){const ae=ce.data();ae.id_lote===K&&ae.status!=="ESTORNADO"&&(await us(wn(gt,"stock_items",ce.id),{status:"ESTORNADO"}),be++)}console.log(` ${be} itens de estoque estornados`);const ee=await va(Qn(gt,"payables"));let _e=0;for(const ce of ee.docs){const ae=ce.data(),Ye=ae.id_lote===K,nt=ae.id&&ae.id.includes(K),He=ae.descricao&&ae.descricao.includes(K);if((Ye||nt||He)&&ae.status!=="ESTORNADO"&&ae.status!=="CANCELADO"){const Ue=ae.status==="PAGO",Ke=ae.status==="PARCIAL",et=ae.valor_pago||0,tt=Ue||Ke?"ESTORNADO":"CANCELADO";await us(wn(gt,"payables",ce.id),{status:tt}),(Ue||Ke)&&et>0&&await G({id:`TR-ESTORNO-PAY-${ce.id}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO LOTE: ${ae.descricao}`,tipo:"ENTRADA",categoria:"ESTORNO",valor:Ue?ae.valor:et,metodo_pagamento:"OUTROS",referencia_id:K}),_e++}}console.log(` ${_e} contas a pagar estornadas`);const Se=await va(Qn(gt,"sales"));let Ae=0;for(const ce of Se.docs){const ae=ce.data();if(ae.id_completo&&ae.id_completo.startsWith(K)&&ae.status_pagamento!=="ESTORNADO"){const Ye=ae.valor_pago||0;await us(wn(gt,"sales",ce.id),{status_pagamento:"ESTORNADO"}),Ye>0&&await G({id:`TR-ESTORNO-VENDA-${ce.id}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO LOTE: Venda ${ae.nome_cliente||"Cliente"} - ${ae.id_completo}`,tipo:"SAIDA",categoria:"ESTORNO",valor:Ye,metodo_pagamento:"OUTROS",referencia_id:K}),Ae++}}console.log(` ${Ae} vendas estornadas`);const Je=await va(Qn(gt,"transactions"));let Le=0;for(const ce of Je.docs){const ae=ce.data();(ae.referencia_id===K||ae.descricao&&ae.descricao.includes(K))&&ae.categoria==="COMPRA_GADO"&&!((X=ae.descricao)!=null&&X.includes("ESTORNO"))&&(await G({id:`TR-ESTORNO-${ce.id}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO LOTE: ${ae.descricao}`,tipo:"ENTRADA",categoria:"ESTORNO",valor:ae.valor,metodo_pagamento:"OUTROS",referencia_id:K}),Le++)}console.log(` ${Le} transaes de compra estornadas`),console.log(` LOTE ${K} COMPLETAMENTE ESTORNADO!`),e!=null&&e.user&&ca(e.user,"ESTORNO","BATCH",`Lote COMPLETAMENTE estornado: ${K} (${be} estoque, ${_e} payables, ${Ae} vendas, ${Le} transaes)`),w()}catch(me){console.error(" Erro ao estornar lote:",me),alert("Erro ao estornar o lote. Verifique o console.")}},R=async K=>{const X=D(K);if(!gt)return{success:!1,error:"Firebase no configurado"};try{return await Co(wn(gt,"stock_items",X.id_completo),X),e!=null&&e.user&&ca(e.user,"CREATE","STOCK",`Item de estoque adicionado: ${X.id_completo}`),w(),{success:!0}}catch(me){return{success:!1,error:me.message}}},j=async(K,X)=>{gt&&(await us(wn(gt,"stock_items",K),D(X)),w())},G=async K=>{gt&&(await Co(wn(gt,"transactions",K.id),D(K)),e!=null&&e.user&&ca(e.user,"CREATE","TRANSACTION",`Transao adicionada: ${K.tipo} ${K.valor} (${K.descricao})`),w())},re=async K=>{const X=(K.valor_compra_total||0)+(K.frete||0)+(K.gastos_extras||0);if(X===0)return;const me={id:`TR-LOTE-${K.id_lote}`,data:K.data_recebimento,descricao:`Compra Lote ${K.id_lote} - ${K.fornecedor}`,tipo:"SAIDA",categoria:"COMPRA_GADO",valor:X,metodo_pagamento:K.forma_pagamento||"OUTROS",referencia_id:K.id_lote},be=K.valor_entrada||0,ee=K.forma_pagamento==="VISTA",_e=K.forma_pagamento==="PRAZO";if(ee)await G(me);else if(_e){if(be>0){const Ae={...me,id:`TR-LOTE-ENTRADA-${K.id_lote}`,descricao:`Entrada/Adiantamento Lote ${K.id_lote} - ${K.fornecedor}`,valor:be};await G(Ae)}const Se=X-be;if(Se>0){if(f.payables.filter(ce=>ce.id_lote===K.id_lote||ce.id===`PAY-LOTE-${K.id_lote}`).length>0){console.log(` Payable j existe para lote ${K.id_lote}, ignorando duplicata.`);return}const Je={id:`PAY-LOTE-${K.id_lote}`,descricao:`Restante Lote ${K.id_lote} - ${K.fornecedor}`,valor:Se,data_vencimento:new Date(Date.now()+(K.prazo_dias||30)*24*60*60*1e3).toISOString().split("T")[0],status:"PENDENTE",categoria:"COMPRA_GADO",observacoes:`Compra a Prazo (Entrada: ${be>0?be:"No"})`,fornecedor_id:K.fornecedor,id_lote:K.id_lote},Le=wn(gt,"payables",`PAY-LOTE-${K.id_lote}`);await Co(Le,Je)}}},J=async K=>{const X=D(K);if(!gt)return{success:!1,error:"Firebase no configurado"};try{const me=N0(gt);return X.forEach(be=>{const ee=wn(gt,"sales",be.id_venda);me.set(ee,be)}),X.forEach(be=>{(be.stock_ids_originais&&Array.isArray(be.stock_ids_originais)?be.stock_ids_originais:[be.id_completo]).forEach(_e=>{const Se=wn(gt,"stock_items",_e);me.update(Se,{status:"VENDIDO"})})}),await me.commit(),e!=null&&e.user&&ca(e.user,"CREATE","SALE",`Venda realizada: ${X.length} itens para ${X[0].nome_cliente||"Cliente"}`),w(),{success:!0}}catch(me){return{success:!1,error:me.message}}},Z=async K=>{gt&&(await us(wn(gt,"stock_items",K),{status:"ESTORNADO"}),e!=null&&e.user&&ca(e.user,"ESTORNO","STOCK",`Item estornado no estoque: ${K}`),w())},oe=async(K,X)=>{gt&&(await us(wn(gt,"sales",K),{custo_extras_total:X}),w())},ye=async K=>{var be,ee,_e;if(!gt)return;const X=f.transactions.find(Se=>Se.id===K);if(!X)return;if((be=X.id)!=null&&be.startsWith("TR-REC-")||X.referencia_id&&f.sales.some(Se=>Se.id_venda===X.referencia_id)){alert(` Esta transao est vinculada a uma VENDA.
Use o estorno de VENDA no Histrico de Vendas.`);return}if((ee=X.id)!=null&&ee.startsWith("TR-PAY-")||X.referencia_id&&f.payables.some(Se=>Se.id===X.referencia_id)){alert(` Esta transao est vinculada a uma CONTA A PAGAR.
Use o estorno de CONTA em Financeiro > A Pagar.`);return}if(X.categoria==="ESTORNO"||(_e=X.id)!=null&&_e.startsWith("TR-ESTORNO-")){alert(" Esta transao j  um estorno. No pode ser estornada novamente.");return}const me={id:`TR-ESTORNO-${K}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO: ${X.descricao}`,tipo:X.tipo==="ENTRADA"?"SAIDA":"ENTRADA",categoria:"ESTORNO",valor:X.valor,metodo_pagamento:X.metodo_pagamento||"OUTROS",referencia_id:X.referencia_id||K};await G(me),ca(e==null?void 0:e.user,"ESTORNO","TRANSACTION",`Transao estornada: ${X.descricao} (R$${X.valor})`),w()},ge=async(K,X,me,be)=>{const ee=f.sales.find(Le=>Le.id_venda===K);if(!ee||!gt)return;const _e=ee.peso_real_saida*ee.preco_venda_kg,Ae=(ee.valor_pago||0)+X,Je=Ae>=_e?"PAGO":"PENDENTE";try{await us(wn(gt,"sales",K),{valor_pago:Ae,status_pagamento:Je,forma_pagamento:me}),w()}catch(Le){console.error("Error adding partial payment:",Le)}},le=async K=>{if(!gt)return;const X=D(K);await Co(wn(gt,"scheduled_orders",X.id),X),e!=null&&e.user&&ca(e.user,"CREATE","ORDER",`Pedido agendado criado para ${X.nome_cliente}`),w()},P=async(K,X)=>{gt&&(await us(wn(gt,"scheduled_orders",K),D(X)),w())},H=async K=>{gt&&(await Dme(wn(gt,"scheduled_orders",K)),e!=null&&e.user&&ca(e.user,"DELETE","ORDER",`Pedido excludo: ${K}`),w())},Q=async()=>{Ad&&(await vde(Ad),e!=null&&e.user&&ca(e.user,"LOGOUT","SYSTEM","Usurio saiu do sistema")),n(null),a("menu")};return g?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsx(Jh,{className:"text-blue-600 animate-spin",size:48})}):e?c.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans overflow-x-hidden selection:bg-blue-200",children:[r==="menu"&&c.jsx(T$,{setView:a,onLogout:Q,onSyncSheets:zD()?async()=>{E("syncing");const K=await cge(f);E(K.success?"ok":"error"),K.success&&setTimeout(()=>E("idle"),5e3)}:void 0,sheetsSyncStatus:x}),r==="system_reset"&&c.jsx(FD,{onBack:()=>a("menu"),refreshData:w}),r==="dashboard"&&c.jsx(joe,{sales:f.sales,stock:I,transactions:f.transactions,batches:F,clients:f.clients,onBack:()=>a("menu")}),r==="clients"&&c.jsx(Toe,{clients:f.clients,sales:f.sales,transactions:f.transactions,batches:F,addClient:async K=>{gt&&(await Co(wn(gt,"clients",K.id_ferro),D(K)),e!=null&&e.user&&ca(e.user,"CREATE","CLIENT",`Novo cliente: ${K.nome_social}`),w())},updateClient:async K=>{gt&&(await Co(wn(gt,"clients",K.id_ferro),D(K),{merge:!0}),e!=null&&e.user&&ca(e.user,"UPDATE","CLIENT",`Cliente atualizado: ${K.nome_social}`),w())},onGoToFinancial:()=>a("financial"),onBack:()=>a("menu")}),r==="suppliers"&&c.jsx(Z0e,{suppliers:f.suppliers,addSupplier:N,updateSupplier:T,deleteSupplier:async K=>{gt&&(await us(wn(gt,"suppliers",K),{status:"INATIVO"}),e!=null&&e.user&&ca(e.user,"UPDATE","OTHER",`Fornecedor inativado: ${K}`),w())},onBack:()=>a("menu")}),r==="batches"&&c.jsx(Ooe,{batches:f.batches,suppliers:f.suppliers,stock:f.stock,addBatch:V,updateBatch:async(K,X)=>{gt&&(await us(wn(gt,"batches",K),D(X)),e!=null&&e.user&&ca(e.user,"UPDATE","BATCH",`Lote atualizado: ${K}`),w())},deleteBatch:M,addStockItem:R,updateStockItem:j,removeStockItem:Z,registerBatchFinancial:re,onGoToStock:()=>a("stock"),onBack:()=>a("menu")}),r==="stock"&&c.jsx(koe,{stock:I,batches:F,sales:f.sales,clients:f.clients,updateBatch:async(K,X)=>{gt&&(await us(wn(gt,"batches",K),D(X)),e!=null&&e.user&&ca(e.user,"UPDATE","BATCH",`Lote atualizado: ${K}`),w())},deleteBatch:M,onBack:()=>a("menu")}),r==="expedition"&&c.jsx(kle,{clients:f.clients,stock:I,batches:F,salesHistory:f.sales,onConfirmSale:K=>{const{client:X,items:me,pricePerKg:be,extrasCost:ee}=K,_e=new Map;me.forEach(Le=>{const ce=`${Le.id_lote}-${Le.sequencia}`;_e.has(ce)||_e.set(ce,[]),_e.get(ce).push(Le)});const Se=[];let Ae=0;const Je=[..._e.values()].reduce((Le,ce)=>Le+ce.reduce((ae,Ye)=>ae+(Ye.peso_saida||Ye.peso_entrada),0),0);_e.forEach((Le,ce)=>{const ae=Le.length>1,Ye=f.batches.find(_t=>_t.id_lote===Le[0].id_lote),nt=Ye?Ye.custo_real_kg:0,He=Le.reduce((_t,Bt)=>_t+Bt.peso_entrada,0),Ue=Le.reduce((_t,Bt)=>_t+(Bt.peso_saida||Bt.peso_entrada),0),Ke=He-Ue,et=Ue*be,tt=Ue*nt,Ge=Je>0?ee*(Ue/Je):0,yt=et-tt-Ge,vt=ae?`${Le[0].id_lote}-${Le[0].sequencia}-INTEIRO`:Le[0].id_completo;Se.push({id_venda:`V-${Date.now()}-${Ae++}`,id_cliente:X.id_ferro,nome_cliente:X.nome_social,id_completo:vt,peso_real_saida:Ue,preco_venda_kg:be,data_venda:new Date().toISOString().split("T")[0],quebra_kg:Ke,lucro_liquido_unitario:yt,custo_extras_total:Ge,prazo_dias:30,data_vencimento:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],forma_pagamento:"OUTROS",status_pagamento:"PENDENTE",tipo_venda:ae?"CARCACA_INTEIRA":"BANDA_AVULSA",stock_ids_originais:Le.map(_t=>_t.id_completo)})}),J(Se),a("sales_history")},onBack:()=>a("menu")}),r==="sales_history"&&c.jsx(Ile,{stock:I,batches:F,sales:f.sales,clients:f.clients,initialSearchTerm:i==null?void 0:i.searchTerm,onBack:()=>a("menu"),onGoToSales:()=>a("expedition"),estornoSale:U}),r==="financial"&&c.jsx(Cle,{sales:f.sales,batches:F,stock:I,clients:f.clients,transactions:f.transactions,updateSaleCost:oe,addTransaction:G,deleteTransaction:ye,addPartialPayment:ge,onBack:()=>a("menu"),payables:f.payables,addPayable:C,updatePayable:B,deletePayable:q,estornoSale:U}),r==="scheduled_orders"&&c.jsx(Ple,{scheduledOrders:f.scheduledOrders,clients:f.clients,addScheduledOrder:le,updateScheduledOrder:P,deleteScheduledOrder:H,onViewClientHistory:K=>{o({searchTerm:K}),a("sales_history")},onBack:()=>a("menu")}),r==="report"&&c.jsx(uge,{reports:f.reports,onBack:()=>a("menu"),onSubmit:async K=>{var me,be,ee;if(!gt)return;const X={id:`REPORT-${Date.now()}`,timestamp:new Date().toISOString(),date:new Date().toISOString().split("T")[0],userId:((me=e==null?void 0:e.user)==null?void 0:me.uid)||"anonymous",userName:((ee=(be=e==null?void 0:e.user)==null?void 0:be.email)==null?void 0:ee.split("@")[0])||"Colaborador",...K};await Co(wn(gt,"daily_reports",X.id),X),ca(e==null?void 0:e.user,"CREATE","OTHER",`Relatrio enviado: ${K.type}`),w()}}),r==="heifers"&&c.jsx(dge,{onBack:()=>a("menu"),existingOrders:f.scheduledOrders,onAddOrder:le}),r==="sales_agent"&&c.jsx(pge,{onBack:()=>a("menu"),clients:f.clients}),r==="audit"&&c.jsx(vge,{onBack:()=>a("menu")}),r==="system_reset"&&c.jsx(FD,{onBack:()=>a("menu"),refreshData:w}),c.jsxs("div",{className:"fixed bottom-3 left-3 right-3 md:bottom-8 md:left-8 md:right-auto z-[200] flex flex-col md:flex-row gap-2 md:gap-3 pointer-events-none items-stretch md:items-center",children:[u==="online"&&c.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-emerald-50 text-emerald-600 px-4 py-2 rounded-xl md:rounded-2xl font-black text-[8px] md:text-[9px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-xl shadow-emerald-900/5 animate-reveal",children:[c.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),c.jsx("span",{className:"hidden md:inline",children:"CORE: SINAL_CRIPTOGRAFADO"}),c.jsx("span",{className:"md:hidden",children:"ONLINE"})]}),u==="offline"&&c.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-rose-50 text-rose-600 px-4 py-2 rounded-xl md:rounded-2xl font-black text-[8px] md:text-[9px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-xl shadow-rose-900/5 animate-reveal",children:[c.jsx("div",{className:"w-2 h-2 bg-rose-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(244,63,94,0.5)]"}),c.jsx("span",{className:"hidden md:inline",children:"CORE: LINK_AUSENTE"}),c.jsx("span",{className:"md:hidden",children:"OFFLINE"})]}),c.jsxs("button",{onClick:()=>{window.confirm(` Atualizar aplicativo?

Isso ir buscar a verso mais recente do app.

 IMPORTANTE: Seus dados (lotes, financeiro, estoque) NO sero afetados!

Deseja continuar?`)&&window.location.reload()},className:"pointer-events-auto bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white px-4 py-2.5 rounded-xl md:rounded-2xl font-black text-[9px] md:text-[10px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-xl transition-all hover:scale-105 active:scale-95 animate-reveal cursor-pointer",title:"Clique para atualizar o app e carregar a verso mais recente",children:[c.jsx(XS,{size:14,className:"animate-spin-slow"}),c.jsx("span",{children:"Atualizar App"})]}),c.jsxs("div",{className:"bg-slate-900 text-white px-4 py-2 rounded-xl md:rounded-2xl font-black text-[8px] md:text-[9px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-[0_20px_40px_rgba(15,23,42,0.3)] animate-reveal",children:[c.jsx(Ps,{size:12,className:"text-blue-400"}),c.jsx("span",{className:"hidden md:inline",children:E$}),c.jsx("span",{className:"md:hidden",children:ZS})]})]})]}):c.jsx(J0e,{onLoginSuccess:()=>{}})},wq=document.getElementById("root");if(!wq)throw new Error("Could not find root element to mount to");const xge=qz.createRoot(wq);xge.render(c.jsx(Ce.StrictMode,{children:c.jsx(yge,{})}));export{hr as _,Dv as c,xr as g};
